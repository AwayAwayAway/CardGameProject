{"version":3,"sources":["webpack://cardgameproject/./js/animation_and_sound_effects/animation.js","webpack://cardgameproject/./js/game_navigation_modules/menu_modules.js","webpack://cardgameproject/./js/choose_menu.js"],"names":["switchPlayPause","backAudio","hash","window","location","state","decodeURIComponent","substr","soundOffOn","document","querySelector","paused","play","className","pause","shakeAnimation","queryElement","direction","element","classList","remove","setTimeout","add","playSoundEffect","soundEffect","currentTime","querySelectorAll","Menu","MainMenu","ChooseMenu","parentElement","this","mainElement","source","children","init","addEventListener","forEach","button","playerOneTurn","playerOneClass","playerTwoClass","playerOneName","playerTwoName","characterDescription","title","profile","pross","announcer","description","options","startGame","decision","enterName","firstElementChild","applyChoose","lastElementChild","playerChooseCharacter","value","length","some","child","contains","temp","filter","dataset","class","textContent","removeStyles","checkConditionToStartBattle","allertEmptyName","style","color","fontSize","playersChoice","prepareToExtract","localStorage","setItem","JSON","stringify","startVisualAndSoundEffect","event","target","split","setCharacterDescription","character","keys","Object","index","setBackground","toLowerCase","backgroundImage","hover","code","createChooseMenu"],"mappings":"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","file":"chooseMenu.bundle.js","sourcesContent":["// animation through all menu loading black screen\r\nfunction loading(target) {\r\n\tswitch (target) {\r\n\t\tcase 'mainMenuLoad':\r\n\t\t\tlet mainEl = document.createElement('div');\r\n\r\n\t\t\tmainEl.className = 'back-main-menu-anim';\r\n\r\n\t\t\tdocument.body.insertBefore(mainEl, document.querySelector('.wrapper-choose-menu'));\r\n\r\n\t\t\tsetTimeout(() => document.body.removeChild(mainEl), 1100);\r\n\t\t\tbreak;\r\n\t\tcase 'chooseMenuLoad':\r\n\t\t\tlet chooseEl = document.createElement('div');\r\n\r\n\t\t\tchooseEl.className = 'go-to-choose-menu-anim';\r\n\r\n\t\t\tdocument.body.insertBefore(chooseEl, document.querySelector('.wrapper-main-menu'));\r\n\r\n\t\t\tsetTimeout(() => document.body.removeChild(chooseEl), 1100);\r\n\t\t\tbreak;\r\n\t\tcase 'battleFieldLoad':\r\n\t\t\tlet battleEl = document.createElement('div');\r\n\r\n\t\t\tbattleEl.className = 'start-game-anim';\r\n\r\n\t\t\tdocument.body.insertBefore(battleEl, document.querySelector('.wrapper-choose-menu'));\r\n\r\n\t\t\tsetTimeout(() => document.body.removeChild(battleEl), 1100);\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n// starting play backgorundMusic\r\nfunction switchPlayPause() {\r\n\tconst hash = window.location.hash;\r\n\tconst state = decodeURIComponent(hash.substr(1));\r\n\tconst soundOffOn = document.querySelector('.soundIcon');\r\n\tlet backAudio;\r\n\r\n\tif (state == 'battle-field') {\r\n\t\tbackAudio = document.querySelector('.background-music-battlefield');\r\n\t} else {\r\n\t\tbackAudio = document.querySelector('.background-music-main-menu');\r\n\t}\r\n\r\n\tif (backAudio.paused) {\r\n\t\tbackAudio.play();\r\n\t\tsoundOffOn.className = 'fas fa-volume-up soundIcon';\r\n\t} else {\r\n\t\tbackAudio.pause();\r\n\t\tsoundOffOn.className = 'fas fa-volume-mute soundIcon';\r\n\t}\r\n}\r\n\r\nconst checkBackgroundAudio = (function (querySelector) {\r\n\tconst currentHash = [];\r\n\tconst mainAudio = document.querySelector('.background-music-main-menu');\r\n\tconst audio = document.querySelector('.background-music-battlefield');\r\n\tconst allAudio = document.querySelectorAll('.music');\r\n\r\n\treturn function () {\r\n\t\tcurrentHash.push(decodeURIComponent(window.location.hash.substr(1)));\r\n\r\n\t\tconst soundOffOn = document.querySelector(querySelector);\r\n\r\n\t\tif (currentHash[currentHash.length - 1] === 'battle-field' && [...allAudio].every(element => element.paused)) {\r\n\t\t\tmainAudio.pause();\r\n\t\t\taudio.pause();\r\n\t\t} else if (currentHash[currentHash.length - 1] === 'battle-field' && [...allAudio].some(element => element.paused)) {\r\n\t\t\tmainAudio.pause();\r\n\t\t\taudio.play();\r\n\t\t} else if (currentHash[currentHash.length - 1] === 'choose-menu' &&\r\n\t\t\tcurrentHash[currentHash.length - 2] === 'battle-field' && [...allAudio].every(element => element.paused)) {\r\n\t\t\tmainAudio.pause();\r\n\t\t\taudio.pause();\r\n\t\t} else if (currentHash[currentHash.length - 1] === 'choose-menu' &&\r\n\t\t\tcurrentHash[currentHash.length - 2] === 'battle-field' && [...allAudio].some(element => element.paused)) {\r\n\t\t\tmainAudio.play();\r\n\t\t\taudio.pause();\r\n\t\t}\r\n\r\n\t\tif ([...allAudio].every(element => element.paused)) {\r\n\t\t\tsoundOffOn.className = 'fas fa-volume-mute soundIcon';\r\n\t\t} else {\r\n\t\t\tsoundOffOn.className = 'fas fa-volume-up soundIcon';\r\n\t\t}\r\n\t};\r\n}('.soundIcon'));\r\n\r\n// shake display when character choosed\r\nfunction shakeAnimation(queryElement, direction = 'horizontal') {\r\n\tconst element = document.querySelector(queryElement);\r\n\r\n\tswitch (direction) {\r\n\t\tcase 'horizontal':\r\n\t\t\telement.classList.remove('shakeX');\r\n\t\t\tsetTimeout(() => element.classList.add('shakeX'), 0);\r\n\t\t\tsetTimeout(() => element.classList.remove('shakeX'), 400);\r\n\t\t\tbreak;\r\n\t\tcase 'vertical':\r\n\t\t\telement.classList.remove('shakeY');\r\n\t\t\tsetTimeout(() => element.classList.add('shakeY'), 0);\r\n\t\t\tsetTimeout(() => element.classList.remove('shakeY'), 400);\r\n\t\t\tbreak;\r\n\t\tcase 'mix':\r\n\t\t\telement.classList.remove('shakeMix');\r\n\t\t\tsetTimeout(() => element.classList.add('shakeMix'), 0);\r\n\t\t\tsetTimeout(() => element.classList.remove('shakeMix'), 400);\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nfunction createCardAnim(querySelector, amount) {\r\n\tlet elementAnim = document.querySelector(querySelector);\r\n\r\n\tswitch (amount) {\r\n\t\tcase 'single':\r\n\t\t\tfor (let i = 0; i < [...elementAnim.children].length; i++) {\r\n\t\t\t\tif (elementAnim.children[i].classList.contains('cardsDrawAnim')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\telementAnim.children[i].classList.add('cardsDrawAnim');\r\n\r\n\t\t\t\t\tplaySoundEffect('.push-card-audio');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'multiple':\r\n\t\t\t[...elementAnim.children].forEach((element, index) => setTimeout(() => {\r\n\t\t\t\telement.classList.add('cardsDrawAnim');\r\n\r\n\t\t\t\tplaySoundEffect('.push-card-audio');\r\n\t\t\t}, 250 * index));\r\n\t\t\tbreak;\r\n\t\tcase 'overlay':\r\n\t\t\t[...elementAnim.children].forEach(element => element.classList.add('cardsDrawAnim'));\r\n\t}\r\n}\r\n\r\nfunction discardCardAnim(querySelector) {\r\n\tquerySelector.classList.add('cardDiscard');\r\n}\r\n\r\nfunction endTurnAnim(side) {\r\n\tconst button = document.querySelector('.end-of-turn-btn');\r\n\tconst turnAnnouncer = document.querySelector('.players-action');\r\n\r\n\tturnAnnouncer.classList.add('players-turn-info');\r\n\r\n\tswitch (side) {\r\n\t\tcase 'left':\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tbutton.style.removeProperty('right');\r\n\t\t\t\tbutton.style.left = '5%';\r\n\t\t\t}, 500);\r\n\t\t\tbreak;\r\n\t\tcase 'right':\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tbutton.style.removeProperty('left');\r\n\t\t\t\tbutton.style.right = '5%';\r\n\t\t\t}, 500);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tsetTimeout(() => button.classList.add('endTurnAnim'), 1300);\r\n\r\n\tsetTimeout(() => turnAnnouncer.classList.remove('players-turn-info'), 2100);\r\n\r\n\tsetTimeout(() => button.classList.remove('endTurnAnim'), 1000);\r\n}\r\n\r\nfunction blockAnimationEffect(querySelector, className, src) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\tconst image = document.createElement('img');\r\n\r\n\timage.src = src;\r\n\timage.className = className;\r\n\r\n\tcontainer.appendChild(image);\r\n\r\n\tsetTimeout(() => container.removeChild(image), 1000);\r\n}\r\n\r\nfunction attackAnimation(querySelector, className, src) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\tconst image = document.createElement('img');\r\n\r\n\timage.src = src;\r\n\timage.style.transform = `rotate(${Math.floor(Math.random() * (360 - 1) + 1)}deg)`;\r\n\timage.className = className;\r\n\r\n\tcontainer.appendChild(image);\r\n\r\n\tsetTimeout(() => container.removeChild(image), 600);\r\n}\r\n\r\nfunction multipleAttackAnimation(querySelector, className, src, amountEffect) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\r\n\tlet effectStorage = [];\r\n\r\n\tfor (let i = 0; i < amountEffect; i++) {\r\n\t\tconst image = document.createElement('img');\r\n\t\teffectStorage.push(image);\r\n\t}\r\n\r\n\teffectStorage.forEach((elem, index) => {\r\n\t\telem.src = src;\r\n\r\n\t\tif (index === 1) {\r\n\t\t\telem.style.transform = 'rotate(30deg)';\r\n\t\t} else if (index === 2) {\r\n\t\t\telem.style.transform = 'rotate(315deg)';\r\n\t\t}\r\n\r\n\t\telem.className = className;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tcontainer.appendChild(elem);\r\n\t\t\tplaySoundEffect('.strike-attack-audio');\r\n\t\t\tsetTimeout(() => container.removeChild(elem), 400);\r\n\t\t}, index * 300);\r\n\t});\r\n}\r\n\r\nfunction standartAttackAnimation(querySelector, className, src) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\tconst image = document.createElement('img');\r\n\r\n\timage.src = src;\r\n\timage.className = className;\r\n\r\n\tcontainer.appendChild(image);\r\n\r\n\tsetTimeout(() => container.removeChild(image), 400);\r\n}\r\n\r\nfunction ultimateSkillAnimation(querySelector, className, src, audio) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\tconst overlay = document.querySelector('.players-overlay');\r\n\tconst overlayClose = document.querySelector('.overlay__close');\r\n\tconst image = document.createElement('img');\r\n\r\n\timage.src = src;\r\n\timage.className = className;\r\n\r\n\toverlay.classList.remove('hidden');\r\n\toverlay.classList.add('fade-in');\r\n\toverlayClose.classList.add('hidden');\r\n\r\n\tsetTimeout(() => {\r\n\t\tcontainer.appendChild(image);\r\n\r\n\t\tshakeAnimation(querySelector)\r\n\r\n\t\tplaySoundEffect(audio);\r\n\t}, 200);\r\n\r\n\tsetTimeout(() => {\r\n\t\tcontainer.removeChild(image);\r\n\t\toverlay.classList.add('fade-out');\r\n\r\n\t}, 800);\r\n\r\n\tsetTimeout(() => {\r\n\t\toverlay.classList.add('hidden');\r\n\t\toverlay.classList.remove('fade-in');\r\n\t\toverlay.classList.remove('fade-out');\r\n\t\toverlayClose.classList.remove('hidden');\r\n\t}, 1000);\r\n}\r\n\r\nfunction playSoundEffect(querySelector) {\r\n\tconst soundEffect = document.querySelector(querySelector);\r\n\r\n\tif (!soundEffect) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tsoundEffect.currentTime = 0;\r\n\r\n\tsoundEffect.play();\r\n}\r\n\r\nfunction attackAnimationEffect(querySelector, direction) {\r\n\tconst container = document.querySelector(querySelector);\r\n\r\n\tswitch (direction) {\r\n\t\tcase 'right':\r\n\t\t\tcontainer.classList.add('attackRight');\r\n\r\n\t\t\tsetTimeout(() => container.classList.remove('attackRight'), 1000);\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tcontainer.classList.add('attackLeft');\r\n\r\n\t\t\tsetTimeout(() => container.classList.remove('attackLeft'), 1000);\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nexport {\r\n\tloading, switchPlayPause, checkBackgroundAudio, shakeAnimation,\r\n\tcreateCardAnim, endTurnAnim, blockAnimationEffect, attackAnimation,\r\n\tplaySoundEffect, attackAnimationEffect, multipleAttackAnimation, discardCardAnim,\r\n\tstandartAttackAnimation, ultimateSkillAnimation\r\n};\r\n\r\n\r\n\r\n\r\n","import {switchPlayPause, playSoundEffect, shakeAnimation} from '../animation_and_sound_effects/animation.js';\r\n\r\nexport default class Menu {\r\n\tstatic createMainMenu() {\r\n\t\tconst mainMenu = new MainMenu();\r\n\t}\r\n\r\n\tstatic createChooseMenu() {\r\n\t\tconst mainMenu = new ChooseMenu();\r\n\t}\r\n\r\n\tinit(parentElement) {\r\n\t\tthis.mainElement = document.querySelector(parentElement);\r\n\t\tthis.source = {...document.querySelector(parentElement).children};\r\n\t}\r\n}\r\n\r\nclass MainMenu extends Menu {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.init('.wrapper-main-menu');\r\n\r\n\t\tconst {1: soundOffOn} = this.source;\r\n\r\n\t\tsoundOffOn.addEventListener('click', switchPlayPause);\r\n\r\n\t\t[...this.mainElement.children].forEach((button) => {\r\n\t\t\tbutton.addEventListener('mouseover', () => playSoundEffect('.btn-hover-audio'));\r\n\t\t\tbutton.addEventListener('click', () => playSoundEffect('.btn-click-audio'));\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass ChooseMenu extends Menu {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tlet playerOneTurn = true;\r\n\t\tlet playerTwoTurn = false;\r\n\r\n\t\tlet playerOneClass = null;\r\n\t\tlet playerTwoClass = null;\r\n\r\n\t\tlet playerOneName = null;\r\n\t\tlet playerTwoName = null;\r\n\r\n\t\tconst characterDescription = [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'The Viking',\r\n\t\t\t\tprofile: 'The remaining soldier of the Ironclads. Sold his soul to harness demonic energies',\r\n\t\t\t\tpross: 'Losing health goes into a rage. Becomes stronger when the enemy has a lot of health'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'The Silent',\r\n\t\t\t\tprofile: 'A deadly huntress from the foglands. Eradicates foes with daggers',\r\n\t\t\t\tpross: 'Light attacks and the ability to always find the right skill take the enemy by surprise'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'The Watcher',\r\n\t\t\t\tprofile: 'A blind ascetic who has come to \"Evaluate\" the Spire. Master of the divine Stances',\r\n\t\t\t\tpross: 'Massive magic  can destroy the enemy in a matter of seconds'\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tthis.init('.wrapper-choose-menu');\r\n\r\n\t\tconst {0: announcer, 1: description, 2: options, 3: startGame, 4: decision, 6: soundOffOn} = this.source;\r\n\r\n\t\tconst {firstElementChild: enterName, lastElementChild: applyChoose} = this.source[4];\r\n\r\n\t\t// save name and model of character of each player\r\n\t\tthis.playerChooseCharacter = function () {\r\n\t\t\t// const announcer = document.querySelector('.playerChoose');\r\n\t\t\tconst check = enterName.value.length >= 1 && enterName.value !== 'You forgot enter name' && [...options.children].some((child) => child.classList.contains('in-focus'));\r\n\r\n\t\t\t//check if input is empty\r\n\t\t\tif (!check) {\r\n\t\t\t\tthis.allertEmptyName();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// help myself with 'data' attribute to set which character player choose\r\n\t\t\tlet temp = [...options.children].filter((child) => {\r\n\t\t\t\tif (child.classList.contains('in-focus')) {\r\n\t\t\t\t\treturn child;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// record player's choose\r\n\t\t\tif (playerOneTurn) {\r\n\t\t\t\tplayerOneName = enterName.value;\r\n\t\t\t\tplayerOneClass = temp[0].dataset.class;\r\n\t\t\t\tannouncer.textContent = 'Player 2: Choose your character';\r\n\t\t\t\tenterName.value = '';\r\n\t\t\t} else {\r\n\t\t\t\tplayerTwoName = enterName.value;\r\n\t\t\t\tplayerTwoClass = temp[0].dataset.class;\r\n\t\t\t\tannouncer.textContent = 'Players chose their characters';\r\n\t\t\t\tenterName.value = '';\r\n\t\t\t}\r\n\r\n\t\t\tplayerOneTurn = false;\r\n\t\t\tplayerTwoTurn = true;\r\n\r\n\t\t\tplaySoundEffect('.confirm-audio')\r\n\t\t\tthis.removeStyles();\r\n\t\t\tthis.checkConditionToStartBattle();\r\n\t\t};\r\n\r\n\t\t// alert for empty input\r\n\t\tthis.allertEmptyName = function () {\r\n\t\t\tplaySoundEffect('.confirm-failed-audio');\r\n\r\n\t\t\tif (enterName.value.length <= 1) {\r\n\t\t\t\tshakeAnimation('.decision-btn', 'horizontal');\r\n\r\n\t\t\t\tenterName.value = 'You forgot enter name';\r\n\t\t\t\tenterName.style.color = 'red';\r\n\t\t\t\tenterName.style.fontSize = '2rem';\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tenterName.value = '';\r\n\t\t\t\t\tenterName.style.color = 'black';\r\n\t\t\t\t\tenterName.style.fontSize = '2rem';\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\r\n\t\t\tif ([...options.children].some((child) => child.classList.contains('in-focus'))) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tshakeAnimation('.options', 'mix');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// check if both players choose character and enter nicknames, start fight\r\n\t\tthis.checkConditionToStartBattle = function () {\r\n\t\t\tif (playerOneClass && playerTwoClass) {\r\n\t\t\t\tconst playersChoice = this.prepareToExtract();\r\n\r\n\t\t\t\toptions.classList.add('hidden');\r\n\t\t\t\tdecision.classList.add('hidden');\r\n\t\t\t\tdescription.classList.add('hidden');\r\n\r\n\t\t\t\tlocalStorage.setItem('playersInfo', JSON.stringify(playersChoice));\r\n\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tstartGame.classList.add('visible');\r\n\t\t\t\t}, 500);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.removeStyles = function () {\r\n\t\t\t[...options.children].forEach((child) => {\r\n\t\t\t\tchild.classList.remove('in-focus');\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t// function trigger audio and shake animation\r\n\t\tthis.startVisualAndSoundEffect = function (event) {\r\n\t\t\tswitch (event.target.className.split(' ')[0]) {\r\n\t\t\t\tcase 'warrior':\r\n\t\t\t\t\tshakeAnimation('.wrapper-choose-menu');\r\n\t\t\t\t\tplaySoundEffect('.warrior-selected-audio');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'rogue':\r\n\t\t\t\t\tshakeAnimation('.wrapper-choose-menu');\r\n\t\t\t\t\tplaySoundEffect('.rogue-selected-audio');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'mage':\r\n\t\t\t\t\tshakeAnimation('.wrapper-choose-menu');\r\n\t\t\t\t\tplaySoundEffect('.mage-selected-audio');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// set text to describe each character\r\n\t\tthis.setCharacterDescription = function (character) {\r\n\t\t\tconst keys = Object.keys(characterDescription[0]);\r\n\r\n\t\t\tswitch (character) {\r\n\t\t\t\tcase 'warrior':\r\n\t\t\t\t\t[...description.children].forEach((element, index) => element.textContent = characterDescription[0][keys[index]]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'rogue':\r\n\t\t\t\t\t[...description.children].forEach((element, index) => element.textContent = characterDescription[1][keys[index]]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'mage':\r\n\t\t\t\t\t[...description.children].forEach((element, index) => element.textContent = characterDescription[2][keys[index]]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.setBackground = function (event) {\r\n\t\t\tif (event.target.className === 'options') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.removeStyles();\r\n\r\n\t\t\tevent.target.classList.add('in-focus');\r\n\r\n\t\t\tthis.setCharacterDescription(`${event.target.textContent.toLowerCase()}`);\r\n\r\n\t\t\tthis.mainElement.style.backgroundImage = `url(\\'images/backgrounds/${event.target.textContent.toLowerCase()}.jpg\\')`;\r\n\t\t};\r\n\r\n\t\tthis.prepareToExtract = function () {\r\n\t\t\treturn {\r\n\t\t\t\tplayerOneClass,\r\n\t\t\t\tplayerTwoClass,\r\n\t\t\t\tplayerOneName,\r\n\t\t\t\tplayerTwoName\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\toptions.addEventListener('click', (event) => this.setBackground(event));\r\n\r\n\t\toptions.addEventListener('click', (event) => this.startVisualAndSoundEffect(event));\r\n\r\n\t\t[...options.children].forEach(hover => hover.addEventListener('mouseover', () => playSoundEffect('.btn-hover-audio')));\r\n\r\n\t\t//run function to choose character or  alert empty input name\r\n\t\tapplyChoose.addEventListener('click', () => this.playerChooseCharacter());\r\n\r\n\t\tsoundOffOn.addEventListener('click', switchPlayPause);\r\n\r\n\t\tdocument.addEventListener('keypress', (event) => {\r\n\t\t\tif (event.code === 'Enter') {\r\n\t\t\t\tthis.playerChooseCharacter();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t[...document.querySelectorAll('.btn')].forEach((button) => {\r\n\t\t\tbutton.addEventListener('mouseover', () => playSoundEffect('.btn-hover-audio'));\r\n\t\t\tbutton.addEventListener('click', () => playSoundEffect('.btn-click-audio'));\r\n\t\t});\r\n\t}\r\n}","import Menu from './game_navigation_modules/menu_modules';\r\n\r\nMenu.createChooseMenu();\r\n\r\n"],"sourceRoot":""}