{"version":3,"sources":["webpack://cardgameproject/./js/modules/preloadImages.js","webpack://cardgameproject/./js/animation_and_sound_effects/animation.js","webpack://cardgameproject/./js/SPAcontroller.js"],"names":["preloadSkillImages","object","tempObeject","key","test","temp","document","createElement","data","img","Image","src","strike_w","bash","anger","bodySlam","perfectedStrike","bludgeon","defend_w","armaments","ironWave","warcry","bloodletting","entrench","strike_r","daggerThrow","flechettes","riddleWithHoles","slice","quickSlash","survivor","deflect","backFlip","prepared","expertise","dash","strike_m","cutThroughFate","reachHeaven","signatureMove","tantrum","judgment","masterReality","defend_m","meditate","thirdEye","nirvana","alpha","daggersSvg","flash","judgmentSvg","mageAttack","mageEffect","refreshStamina","serpentRing","smash","warriorAttack","warriorSmash","defend","loadingScreenAnimation","target","mainEl","className","body","insertBefore","querySelector","setTimeout","removeChild","chooseEl","battleEl","gameConstructor","renderPage","decodeURIComponent","window","location","hash","substr","title","createMainPage","mainMenu","chooseMenu","battle","currentHash","mainAudio","audio","allAudio","querySelectorAll","soundOffOn","paused","pause","play","every","element","checkBackgroundAudio","parent","mainChild","child","subChild","lowestChild","script","wrapperEl","scriptEl","i","length","appendChild","replaceChild","obj","tagName","setAttribute","class","textContent","content","source","dataValue","type","typeValue","addEventListener","fetch","then","res","json","event","split","switchHash"],"mappings":"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","file":"spa.bundle.js","sourcesContent":["const preloadSkillImages = object => {\r\n\tlet tempObeject = {};\r\n\r\n\tfor (let key in object) {\r\n\t\tlet regex = /(svg)$/ig;\r\n\r\n\t\tif(regex.test(key)) {\r\n\t\t\tlet temp = document.createElement('object');\r\n\r\n\t\t\ttemp.data = object[key];\r\n\r\n\t\t\ttempObeject[key] = temp;\r\n\t\t} else  {\r\n\t\t\tlet img = new Image();\r\n\r\n\t\t\timg.src = object[key];\r\n\r\n\t\t\ttempObeject[key] = img;\r\n\t\t}\r\n\t}\r\n\r\n\treturn tempObeject;\r\n};\r\n\r\nconst skillCollectionLinks = {\r\n\twarrior: {\r\n\t\tstrike_w: './images/cards/warrior/strike.png',\r\n\t\tbash: './images/cards/warrior/bash.png',\r\n\t\tanger: './images/cards/warrior/anger.png',\r\n\t\tbodySlam: './images/cards/warrior/bodySlam.png',\r\n\t\tperfectedStrike: './images/cards/warrior/perfectedStrike.png',\r\n\t\tbludgeon: './images/cards/warrior/bludgeon.png',\r\n\t\tdefend_w: './images/cards/warrior/defend_w.png',\r\n\t\tarmaments: './images/cards/warrior/armaments.png',\r\n\t\tironWave: './images/cards/warrior/ironWave.png',\r\n\t\twarcry: './images/cards/warrior/warcry.png',\r\n\t\tbloodletting: './images/cards/warrior/bloodletting.png',\r\n\t\tentrench: './images/cards/warrior/entrench.png'\r\n\t},\r\n\trogue: {\r\n\t\tstrike_r: './images/cards/rogue/strike_G.png',\r\n\t\tdaggerThrow: './images/cards/rogue/r_dagger-throw.png',\r\n\t\tflechettes: './images/cards/rogue/flechettes.png',\r\n\t\triddleWithHoles: './images/cards/rogue/riddleWithHoles.png',\r\n\t\tslice: './images/cards/rogue/slice.png',\r\n\t\tquickSlash: './images/cards/rogue/quickSlash.png',\r\n\t\tsurvivor: './images/cards/rogue/survivor.png',\r\n\t\tdeflect: './images/cards/rogue/deflect.png',\r\n\t\tbackFlip: './images/cards/rogue/backflip.png',\r\n\t\tprepared: './images/cards/rogue/prepared.png',\r\n\t\texpertise: './images/cards/rogue/expertise.png',\r\n\t\tdash: './images/cards/rogue/dash.png'\r\n\t},\r\n\tmage: {\r\n\t\tstrike_m: './images/cards/mage/strike_P.png',\r\n\t\tcutThroughFate: './images/cards/mage/cutThroughFate.png',\r\n\t\treachHeaven: './images/cards/mage/reachHeaven.png',\r\n\t\tsignatureMove: './images/cards/mage/signatureMove.png',\r\n\t\ttantrum: './images/cards/mage/tantrum.png',\r\n\t\tjudgment: './images/cards/mage/judgment.png',\r\n\t\tmasterReality: './images/cards/mage/masterReality.png',\r\n\t\tdefend_m: './images/cards/mage/defend_P.png',\r\n\t\tmeditate: './images/cards/mage/meditate.png',\r\n\t\tthirdEye: './images/cards/mage/thirdEye.png',\r\n\t\tnirvana: './images/cards/mage/nirvana.png',\r\n\t\talpha: './images/cards/mage/alpha.png',\r\n\t}\r\n};\r\n\r\nconst animationCollectionLinks = {\r\n\tanger: './images/attack-effects/anger.png',\r\n\tbloodletting: './images/attack-effects/bloodletting.png',\r\n\tdaggersSvg: './images/attack-effects/daggers.svg',\r\n\tflash: './images/attack-effects/flash.png',\r\n\tjudgmentSvg: './images/attack-effects/judgment.svg',\r\n\tmageAttack: './images/attack-effects/mage-attack.png',\r\n\tmageEffect: './images/attack-effects/mage-effect.png',\r\n\treachHeaven: './images/attack-effects/reach-heaven.png',\r\n\trefreshStamina: './images/attack-effects/refresh-stamina.svg',\r\n\tserpentRing: './images/attack-effects/serpent-ring.png',\r\n\tsmash: './images/attack-effects/smash.png',\r\n\twarriorAttack: './images/attack-effects/warrior-attack.png',\r\n\twarriorSmash: './images/attack-effects/warrior-smash.png',\r\n\tdefend: './images/icons/icon_Block.png'\r\n};\r\n\r\nexport const skillCollectionImages = {\r\n\twarrior: preloadSkillImages(skillCollectionLinks.warrior),\r\n\trogue: preloadSkillImages(skillCollectionLinks.rogue),\r\n\tmage: preloadSkillImages(skillCollectionLinks.mage),\r\n};\r\n\r\nexport const animationCollectionImages = preloadSkillImages(animationCollectionLinks);","// animation through all menu loading black screen\nconst loadingScreenAnimation = target => {\n\tswitch (target) {\n\t\tcase 'mainMenuLoad':\n\t\t\tlet mainEl = document.createElement('div');\n\n\t\t\tmainEl.className = 'back-main-menu-anim';\n\n\t\t\tdocument.body.insertBefore(mainEl, document.querySelector('.wrapper-choose-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(mainEl), 1100);\n\n\t\t\tbreak;\n\t\tcase 'chooseMenuLoad':\n\t\t\tlet chooseEl = document.createElement('div');\n\n\t\t\tchooseEl.className = 'go-to-choose-menu-anim';\n\n\t\t\tdocument.body.insertBefore(chooseEl, document.querySelector('.wrapper-main-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(chooseEl), 1100);\n\n\t\t\tbreak;\n\t\tcase 'battleFieldLoad':\n\t\t\tlet battleEl = document.createElement('div');\n\n\t\t\tbattleEl.className = 'start-game-anim';\n\n\t\t\tdocument.body.insertBefore(battleEl, document.querySelector('.wrapper-choose-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(battleEl), 1100);\n\n\t\t\tbreak;\n\t}\n};\n\n// starting play backgorundMusic\nconst playPauseBackgroundAudio = () => {\n\tconst hash = window.location.hash;\n\tconst state = decodeURIComponent(hash.substr(1));\n\tconst soundOffOn = document.querySelector('.sound-icon');\n\tlet backAudio;\n\n\tif (state == 'battle-field' || state == 'restoredGame') {\n\t\tbackAudio = document.querySelector('.background-music-battlefield');\n\t} else {\n\t\tbackAudio = document.querySelector('.background-music-main-menu');\n\t}\n\n\tif (backAudio.paused) {\n\t\tbackAudio.play();\n\n\t\tsoundOffOn.className = 'fas fa-volume-up sound-icon';\n\t} else {\n\t\tbackAudio.pause();\n\n\t\tsoundOffOn.className = 'fas fa-volume-mute sound-icon';\n\t}\n};\n\nconst checkBackgroundAudio = (querySelector) => {\n\tconst currentHash = decodeURIComponent(window.location.hash.substr(1));\n\tconst mainAudio = document.querySelector('.background-music-main-menu');\n\tconst audio = document.querySelector('.background-music-battlefield');\n\tconst allAudio = document.querySelectorAll('.music');\n\n\tconst soundOffOn = document.querySelector(querySelector);\n\n\tswitch (currentHash) {\n\t\tcase 'battle-field':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'restoredGame':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'main-menu':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\taudio.pause();\n\n\t\t\t\tmainAudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'choose-menu':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\taudio.pause();\n\n\t\t\t\tmainAudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t}\n\n\tif ([...allAudio].every(element => element.paused)) {\n\t\tsoundOffOn.className = 'fas fa-volume-mute sound-icon';\n\t} else {\n\t\tsoundOffOn.className = 'fas fa-volume-up sound-icon';\n\t}\n};\n\n// shake display when character choosed\nconst shakeAnimation = (queryElement, direction = 'horizontal') => {\n\tconst element = document.querySelector(queryElement);\n\n\tswitch (direction) {\n\t\tcase 'horizontal':\n\t\t\telement.classList.remove('shake-x');\n\n\t\t\tsetTimeout(() => element.classList.add('shake-x'), 0);\n\n\t\t\tsetTimeout(() => element.classList.remove('shake-x'), 400);\n\n\t\t\tbreak;\n\t\tcase 'vertical':\n\t\t\telement.classList.remove('shake-y');\n\n\t\t\tsetTimeout(() => element.classList.add('shake-y'), 0);\n\n\t\t\tsetTimeout(() => element.classList.remove('shake-y'), 400);\n\n\t\t\tbreak;\n\t\tcase 'mix':\n\t\t\telement.classList.remove('shake-mix');\n\n\t\t\tsetTimeout(() => element.classList.add('shake-mix'), 0);\n\n\t\t\tsetTimeout(() => element.classList.remove('shake-mix'), 400);\n\n\t\t\tbreak;\n\t}\n};\n\nconst createCardAnimation = (querySelector, amount) => {\n\tlet elementAnim = document.querySelector(querySelector);\n\n\tswitch (amount) {\n\t\tcase 'single':\n\t\t\tfor (let i = 0; i < [...elementAnim.children].length; i++) {\n\t\t\t\tif (elementAnim.children[i].classList.contains('card-draw-animation')) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\telementAnim.children[i].classList.add('card-draw-animation');\n\n\t\t\t\t\tplaySoundEffect('.push-card-audio');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'multiple':\n\t\t\t[...elementAnim.children].forEach((element, index) => setTimeout(() => {\n\t\t\t\telement.classList.add('card-draw-animation');\n\n\t\t\t\tplaySoundEffect('.push-card-audio');\n\t\t\t}, 250 * index));\n\n\t\t\tbreak;\n\t\tcase 'overlay':\n\t\t\t[...elementAnim.children].forEach(element => element.classList.add('card-draw-animation'));\n\n\t\t\tbreak;\n\t}\n};\n\nconst discardCardAnimation = querySelector => {\n\tquerySelector.classList.add('card-discard-animation');\n};\n\nconst endTurnAnimation = side => {\n\tconst button = document.querySelector('.end-of-turn-btn');\n\tconst turnAnnouncer = document.querySelector('.players-action');\n\n\tturnAnnouncer.classList.add('players-turn-info');\n\n\tswitch (side) {\n\t\tcase 'left':\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.style.removeProperty('right');\n\t\t\t\tbutton.style.left = '2%';\n\t\t\t}, 500);\n\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.style.removeProperty('left');\n\t\t\t\tbutton.style.right = '2%';\n\t\t\t}, 500);\n\n\t\t\tbreak;\n\t}\n\n\tbutton.style.display = 'flex';\n\n\tsetTimeout(() => button.classList.add('end-turn-animation'), 1300);\n\n\tsetTimeout(() => turnAnnouncer.classList.remove('players-turn-info'), 2100);\n\n\tsetTimeout(() => button.classList.remove('end-turn-animation'), 1000);\n};\n\nconst attackInDirectionAnimation = (querySelector, direction) => {\n\tconst container = document.querySelector(querySelector);\n\n\tswitch (direction) {\n\t\tcase 'right':\n\t\t\tcontainer.classList.add('attack-right-animation');\n\n\t\t\tsetTimeout(() => container.classList.remove('attack-right-animation'), 1000);\n\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tcontainer.classList.add('attack-left-animation');\n\n\t\t\tsetTimeout(() => container.classList.remove('attack-left-animation'), 1000);\n\n\t\t\tbreak;\n\t}\n};\n\nconst blockAnimation = (querySelector, className, src) => {\n\tconst block = document.querySelector(`.${className}`);\n\n\tif(block) {\n\t\tblock.parentElement.removeChild(block);\n\t}\n\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n};\n\nconst attackAnimation = (querySelector, className, src) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.style.transform = `rotate(${Math.floor(Math.random() * (360 - 1) + 1)}deg)`;\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\twindow.navigator.vibrate([400]);\n\n\tsetTimeout(() => container.removeChild(image), 600);\n};\n\nconst standardAttackAnimation = (querySelector, className, src) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\twindow.navigator.vibrate([400]);\n\n\tsetTimeout(() => container.removeChild(image), 400);\n};\n\nconst multipleAttackAnimation = (querySelector, className, src, amountEffect) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\tfor (let i = 0; i < amountEffect; i++) {\n\t\tsetTimeout(() => {\n\t\t\tif (i === 1) {\n\t\t\t\timage.style.transform = 'rotate(30deg)';\n\t\t\t} else if (i === 2) {\n\t\t\t\timage.style.transform = 'rotate(315deg)';\n\t\t\t}\n\n\t\t\timage.className = className;\n\n\t\t\tcontainer.appendChild(image);\n\n\t\t\twindow.navigator.vibrate([200]);\n\n\t\t\tplaySoundEffect('.strike-attack-audio');\n\t\t}, i * 300);\n\t}\n\n\tsetTimeout(() => container.removeChild(image), 1300);\n};\n\nconst ultimateSkillAnimation = (querySelector, className, src, audio) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst overlay = document.querySelector('.players-overlay');\n\tconst overlayClose = document.querySelector('.players-overlay__close');\n\tconst image = src;\n\n\timage.className = className;\n\n\toverlay.classList.remove('hidden');\n\toverlay.classList.add('fade-in-animation');\n\toverlayClose.classList.add('hidden');\n\n\tsetTimeout(() => {\n\t\tcontainer.appendChild(image);\n\n\t\twindow.navigator.vibrate(800);\n\n\t\tshakeAnimation(querySelector);\n\n\t\tplaySoundEffect(audio);\n\t}, 200);\n\n\tsetTimeout(() => {\n\t\tcontainer.removeChild(image);\n\n\t\toverlay.classList.add('fade-out-animation');\n\t}, 1250);\n\n\tsetTimeout(() => {\n\t\toverlay.classList.add('hidden');\n\t\toverlay.classList.remove('fade-in-animation');\n\t\toverlay.classList.remove('fade-out-animation');\n\t\toverlayClose.classList.remove('hidden');\n\t}, 1850);\n};\n\nconst playSoundEffect = querySelector => {\n\tconst soundEffect = document.querySelector(querySelector);\n\n\tif (!soundEffect) { return; }\n\n\tsoundEffect.currentTime = 0;\n\n\tsoundEffect.play();\n};\n\nconst damageNumbersAnimation = (querySelector, className, content) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst divEl = document.createElement('div');\n\n\tdivEl.textContent = content;\n\tdivEl.className = className;\n\n\tcontainer.appendChild(divEl);\n\n\tsetTimeout(() => container.removeChild(divEl), 1500);\n};\n\nconst notEnoughStaminaAnimation = (player) => {\n\tlet activePlayerUI;\n\tconst divEl = document.createElement('div');\n\tconst fistBubble = document.createElement('div');\n\tconst secondBubble = document.createElement('div');\n\tconst thirdBubble = document.createElement('div');\n\n\tif (player === 'player1') {\n\t\tactivePlayerUI = document.querySelector('.player-1__model').parentElement;\n\n\t\tdivEl.className = 'not-enough-stamina-player-1 fade-in-animation';\n\t\tfistBubble.className = 'not-enough-stamina-player-1__first-bubble';\n\t\tsecondBubble.className = 'not-enough-stamina-player-1__second-bubble';\n\t\tthirdBubble.className = 'not-enough-stamina-player-1__third-bubble';\n\t} else {\n\t\tactivePlayerUI = document.querySelector('.player-2__model').parentElement;\n\n\t\tdivEl.className = 'not-enough-stamina-player-2 fade-in-animation';\n\t\tfistBubble.className = 'not-enough-stamina-player-2__first-bubble';\n\t\tsecondBubble.className = 'not-enough-stamina-player-2__second-bubble';\n\t\tthirdBubble.className = 'not-enough-stamina-player-2__third-bubble';\n\t}\n\n\tthirdBubble.innerHTML = 'Not enough <span style = \"color: brown;\"> Energy</span>';\n\n\tdivEl.appendChild(fistBubble);\n\tdivEl.appendChild(secondBubble);\n\tdivEl.appendChild(thirdBubble);\n\n\tactivePlayerUI.appendChild(divEl);\n\n\tsetTimeout(() => divEl.classList.add('fade-out-animation'), 1500);\n\n\tsetTimeout(() => activePlayerUI.removeChild(divEl), 2000);\n};\n\nexport {\n\tloadingScreenAnimation, playPauseBackgroundAudio, checkBackgroundAudio, shakeAnimation,\n\tcreateCardAnimation, discardCardAnimation, endTurnAnimation, attackInDirectionAnimation,\n\tblockAnimation, attackAnimation, standardAttackAnimation, multipleAttackAnimation,\n\tultimateSkillAnimation, playSoundEffect, damageNumbersAnimation, notEnoughStaminaAnimation\n};\n\n\n\n\n","import {skillCollectionImages, animationCollectionImages} from './modules/preloadImages';\nimport {checkBackgroundAudio, loadingScreenAnimation} from './animation_and_sound_effects/animation.js';\nimport '../scss/main.scss';\n\nlet gameConstructor = {};\n\ndocument.addEventListener('DOMContentLoaded', gameConstructorInit);\n\n// change hash\ndocument.addEventListener('click', (event) => switchHash(event));\n\nwindow.addEventListener('hashchange', renderPage);\n\nfunction renderPage() {\n\tconst hash = decodeURIComponent(window.location.hash.substr(1));\n\n\tswitch (hash) {\n\t\tcase '':\n\t\t\tloadingScreenAnimation('mainMenuLoad');\n\n\t\t\tdocument.title = 'Main menu';\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.mainMenu), 500)\n\n\t\t\tbreak;\n\t\tcase 'choose-menu':\n\t\t\tloadingScreenAnimation('chooseMenuLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.chooseMenu), 500);\n\n\t\t\tbreak;\n\t\tcase 'main-menu':\n\t\t\tloadingScreenAnimation('mainMenuLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.mainMenu), 500);\n\n\t\t\tbreak;\n\t\tcase 'battle-field':\n\t\t\tloadingScreenAnimation('battleFieldLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.battle), 500);\n\n\t\t\tbreak;\n\t\tcase 'restoredGame':\n\t\t\tloadingScreenAnimation('battleFieldLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.battle), 500);\n\n\t\t\tbreak;\n\t}\n\n\tsetTimeout(() => checkBackgroundAudio('.sound-icon'), 600);\n}\n\nfunction switchHash(event) {\n\tswitch (event.target.className.split(' ')[0]) {\n\t\tcase 'start-button':\n\t\t\tdocument.title = 'Choose menu';\n\t\t\tlocation.hash = decodeURIComponent('choose-menu');\n\n\t\t\tbreak;\n\t\tcase 'back-to-main-menu':\n\t\t\tdocument.title = 'Main menu';\n\t\t\tlocation.hash = decodeURIComponent('main-menu');\n\n\t\t\tbreak;\n\t\tcase 'start-game':\n\t\t\tdocument.title = 'Battlefield';\n\t\t\tlocation.hash = decodeURIComponent('battle-field');\n\n\t\t\tbreak;\n\t\tcase 'continue-button':\n\t\t\tdocument.title = 'Battlefield';\n\t\t\tlocation.hash = decodeURIComponent('restoredGame');\n\n\t\t\tbreak;\n\t}\n}\n\nfunction gameConstructorInit() {\n\tfetch('json/main_menu.json')\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tgameConstructor.mainMenu = data;\n\n\t\t\tfetch('json/choose_menu.json')\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tgameConstructor.chooseMenu = data;\n\n\t\t\t\t\tfetch('json/battle.json')\n\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tgameConstructor.battle = data;\n\n\t\t\t\t\t\t\trenderPage()\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n}\n\n// create page from JSON functions\nfunction createMainPage(object) {\n\tconst body = document.querySelector('body');\n\tconst wrapperEl = document.querySelector('.wrapper');\n\tconst scriptEl = document.querySelector('.script');\n\n\tlet parent;\n\tlet mainChild;\n\tlet child;\n\tlet subChild;\n\tlet lowestChild;\n\tlet script;\n\n\tfor (let i = 0; i < object.length; i++) {\n\t\tfor (let key in object[i]) {\n\t\t\tswitch (object[i][key]) {\n\t\t\t\tcase 'parent':\n\t\t\t\t\tparent = createElement(object[i]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'mainChild':\n\t\t\t\t\tmainChild = createElement(object[i]);\n\t\t\t\t\tparent.appendChild(mainChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'child':\n\t\t\t\t\tchild = createElement(object[i]);\n\t\t\t\t\tmainChild.appendChild(child);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'subChild':\n\t\t\t\t\tsubChild = createElement(object[i]);\n\t\t\t\t\tchild.appendChild(subChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'lowestChild':\n\t\t\t\t\tlowestChild = createElement(object[i]);\n\t\t\t\t\tsubChild.appendChild(lowestChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'script':\n\t\t\t\t\tscript = createElement(object[i]);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (wrapperEl) {\n\t\tbody.replaceChild(parent, wrapperEl);\n\t} else {\n\t\tbody.appendChild(parent);\n\t}\n\n\tif (scriptEl) {\n\t\tbody.replaceChild(script, scriptEl);\n\t} else {\n\t\tbody.appendChild(script);\n\t}\n}\n\nfunction createElement(obj) {\n\tlet element = document.createElement(obj.tagName);\n\telement.setAttribute('class', obj.class);\n\telement.textContent = obj.content || '';\n\n\tif (obj.source) {\n\t\telement.src = obj.source;\n\t}\n\n\tif (obj.data) {\n\t\telement.setAttribute(`${obj.data}`, `${obj.dataValue}`);\n\t}\n\n\tif (obj.type) {\n\t\telement.setAttribute(`${obj.type}`, `${obj.typeValue}`);\n\t}\n\n\tif (obj.tagName === 'script') {\n\t\telement.setAttribute('defer', 'defer');\n\t}\n\n\treturn element;\n}\n\n"],"sourceRoot":""}