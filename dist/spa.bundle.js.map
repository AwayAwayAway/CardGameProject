{"version":3,"sources":["webpack://cardgameproject/./js/animation_and_sound_effects/animation.js","webpack://cardgameproject/./js/SPAcontroller.js"],"names":["loadingScreenAnimation","target","mainEl","document","createElement","className","body","insertBefore","querySelector","setTimeout","removeChild","chooseEl","battleEl","gameConstructor","renderPage","decodeURIComponent","window","location","hash","substr","title","createMainPage","mainMenu","chooseMenu","battle","currentHash","mainAudio","audio","allAudio","querySelectorAll","soundOffOn","paused","pause","play","every","element","checkBackgroundAudio","saveMainMenu","data","$","ajax","url","type","dataType","success","saveChooseMenu","error","errorHandler","saveBattle","jqXHR","statusStr","errorStr","alert","object","parent","mainChild","child","subChild","lowestChild","script","wrapperEl","scriptEl","i","length","key","appendChild","replaceChild","obj","tagName","setAttribute","class","textContent","content","source","src","dataValue","typeValue","addEventListener","event","split","switchHash"],"mappings":"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","file":"spa.bundle.js","sourcesContent":["// animation through all menu loading black screen\nconst loadingScreenAnimation = target => {\n\tswitch (target) {\n\t\tcase 'mainMenuLoad':\n\t\t\tlet mainEl = document.createElement('div');\n\n\t\t\tmainEl.className = 'back-main-menu-anim';\n\n\t\t\tdocument.body.insertBefore(mainEl, document.querySelector('.wrapper-choose-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(mainEl), 1100);\n\t\t\tbreak;\n\t\tcase 'chooseMenuLoad':\n\t\t\tlet chooseEl = document.createElement('div');\n\n\t\t\tchooseEl.className = 'go-to-choose-menu-anim';\n\n\t\t\tdocument.body.insertBefore(chooseEl, document.querySelector('.wrapper-main-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(chooseEl), 1100);\n\t\t\tbreak;\n\t\tcase 'battleFieldLoad':\n\t\t\tlet battleEl = document.createElement('div');\n\n\t\t\tbattleEl.className = 'start-game-anim';\n\n\t\t\tdocument.body.insertBefore(battleEl, document.querySelector('.wrapper-choose-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(battleEl), 1100);\n\t\t\tbreak;\n\t}\n};\n\n// starting play backgorundMusic\nconst playPauseBackgroundAudio = () => {\n\tconst hash = window.location.hash;\n\tconst state = decodeURIComponent(hash.substr(1));\n\tconst soundOffOn = document.querySelector('.sound-icon');\n\tlet backAudio;\n\n\tif (state == 'battle-field' || state == 'restoredGame') {\n\t\tbackAudio = document.querySelector('.background-music-battlefield');\n\t} else {\n\t\tbackAudio = document.querySelector('.background-music-main-menu');\n\t}\n\n\tif (backAudio.paused) {\n\t\tbackAudio.play();\n\t\tsoundOffOn.className = 'fas fa-volume-up sound-icon';\n\t} else {\n\t\tbackAudio.pause();\n\t\tsoundOffOn.className = 'fas fa-volume-mute sound-icon';\n\t}\n};\n\n\nconst checkBackgroundAudio = (querySelector) => {\n\tconst currentHash = decodeURIComponent(window.location.hash.substr(1));\n\tconst mainAudio = document.querySelector('.background-music-main-menu');\n\tconst audio = document.querySelector('.background-music-battlefield');\n\tconst allAudio = document.querySelectorAll('.music');\n\n\tconst soundOffOn = document.querySelector(querySelector);\n\n\tswitch (currentHash) {\n\t\tcase 'battle-field':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\tmainAudio.pause();\n\t\t\t\taudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'restoredGame':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\tmainAudio.pause();\n\t\t\t\taudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'main-menu':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\taudio.pause();\n\t\t\t\tmainAudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'choose-menu':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\taudio.pause();\n\t\t\t\tmainAudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t}\n\n\tif ([...allAudio].every(element => element.paused)) {\n\t\tsoundOffOn.className = 'fas fa-volume-mute sound-icon';\n\t} else {\n\t\tsoundOffOn.className = 'fas fa-volume-up sound-icon';\n\t}\n\n};\n\n// shake display when character choosed\nconst shakeAnimation = (queryElement, direction = 'horizontal') => {\n\tconst element = document.querySelector(queryElement);\n\n\tswitch (direction) {\n\t\tcase 'horizontal':\n\t\t\telement.classList.remove('shake-x');\n\t\t\tsetTimeout(() => element.classList.add('shake-x'), 0);\n\t\t\tsetTimeout(() => element.classList.remove('shake-x'), 400);\n\t\t\tbreak;\n\t\tcase 'vertical':\n\t\t\telement.classList.remove('shake-y');\n\t\t\tsetTimeout(() => element.classList.add('shake-y'), 0);\n\t\t\tsetTimeout(() => element.classList.remove('shake-y'), 400);\n\t\t\tbreak;\n\t\tcase 'mix':\n\t\t\telement.classList.remove('shake-mix');\n\t\t\tsetTimeout(() => element.classList.add('shake-mix'), 0);\n\t\t\tsetTimeout(() => element.classList.remove('shake-mix'), 400);\n\t\t\tbreak;\n\t}\n};\n\nconst createCardAnimation = (querySelector, amount) => {\n\tlet elementAnim = document.querySelector(querySelector);\n\n\tswitch (amount) {\n\t\tcase 'single':\n\t\t\tfor (let i = 0; i < [...elementAnim.children].length; i++) {\n\t\t\t\tif (elementAnim.children[i].classList.contains('card-draw-animation')) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\telementAnim.children[i].classList.add('card-draw-animation');\n\n\t\t\t\t\tplaySoundEffect('.push-card-audio');\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'multiple':\n\t\t\t[...elementAnim.children].forEach((element, index) => setTimeout(() => {\n\t\t\t\telement.classList.add('card-draw-animation');\n\n\t\t\t\tplaySoundEffect('.push-card-audio');\n\t\t\t}, 250 * index));\n\t\t\tbreak;\n\t\tcase 'overlay':\n\t\t\t[...elementAnim.children].forEach(element => element.classList.add('card-draw-animation'));\n\t}\n};\n\nconst discardCardAnimation = querySelector => {\n\tquerySelector.classList.add('card-discard-animation');\n};\n\nconst endTurnAnimation = side => {\n\tconst button = document.querySelector('.end-of-turn-btn');\n\tconst turnAnnouncer = document.querySelector('.players-action');\n\n\tturnAnnouncer.classList.add('players-turn-info');\n\n\tswitch (side) {\n\t\tcase 'left':\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.style.removeProperty('right');\n\t\t\t\tbutton.style.left = '2%';\n\t\t\t}, 500);\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.style.removeProperty('left');\n\t\t\t\tbutton.style.right = '2%';\n\t\t\t}, 500);\n\t\t\tbreak;\n\t}\n\n\tsetTimeout(() => button.classList.add('end-turn-animation'), 1300);\n\n\tsetTimeout(() => turnAnnouncer.classList.remove('players-turn-info'), 2100);\n\n\tsetTimeout(() => button.classList.remove('end-turn-animation'), 1000);\n};\n\nconst attackInDirectionAnimation = (querySelector, direction) => {\n\tconst container = document.querySelector(querySelector);\n\n\tswitch (direction) {\n\t\tcase 'right':\n\t\t\tcontainer.classList.add('attack-right-animation');\n\n\t\t\tsetTimeout(() => container.classList.remove('attack-right-animation'), 1000);\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tcontainer.classList.add('attack-left-animation');\n\n\t\t\tsetTimeout(() => container.classList.remove('attack-left-animation'), 1000);\n\t\t\tbreak;\n\t}\n};\n\nconst blockAnimation = (querySelector, className, src) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\tsetTimeout(() => container.removeChild(image), 1000);\n};\n\nconst attackAnimation = (querySelector, className, src) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.style.transform = `rotate(${Math.floor(Math.random() * (360 - 1) + 1)}deg)`;\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\twindow.navigator.vibrate([400]);\n\n\tsetTimeout(() => container.removeChild(image), 600);\n};\n\nconst standardAttackAnimation = (querySelector, className, src) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\twindow.navigator.vibrate([400]);\n\n\tsetTimeout(() => container.removeChild(image), 400);\n};\n\nconst multipleAttackAnimation = (querySelector, className, src, amountEffect) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\tfor (let i = 0; i < amountEffect; i++) {\n\t\tsetTimeout(() => {\n\t\t\tif (i === 1) {\n\t\t\t\timage.style.transform = 'rotate(30deg)';\n\t\t\t} else if (i === 2) {\n\t\t\t\timage.style.transform = 'rotate(315deg)';\n\t\t\t}\n\n\t\t\timage.className = className;\n\n\t\t\tcontainer.appendChild(image);\n\n\t\t\twindow.navigator.vibrate([200]);\n\n\t\t\tplaySoundEffect('.strike-attack-audio');\n\t\t}, i * 300)\n\t}\n\n\tsetTimeout(() => container.removeChild(image), 1300);\n};\n\nconst ultimateSkillAnimation = (querySelector, className, src, audio) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst overlay = document.querySelector('.players-overlay');\n\tconst overlayClose = document.querySelector('.players-overlay__close');\n\tconst image = src;\n\n\timage.className = className;\n\n\toverlay.classList.remove('hidden');\n\toverlay.classList.add('fade-in-animation');\n\toverlayClose.classList.add('hidden');\n\n\tsetTimeout(() => {\n\t\tcontainer.appendChild(image);\n\n\t\twindow.navigator.vibrate(800);\n\n\t\tshakeAnimation(querySelector);\n\n\t\tplaySoundEffect(audio);\n\t}, 200);\n\n\tsetTimeout(() => {\n\t\tcontainer.removeChild(image);\n\t\toverlay.classList.add('fade-out-animation');\n\t}, 1250);\n\n\tsetTimeout(() => {\n\t\toverlay.classList.add('hidden');\n\t\toverlay.classList.remove('fade-in-animation');\n\t\toverlay.classList.remove('fade-out-animation');\n\t\toverlayClose.classList.remove('hidden');\n\t}, 1850);\n};\n\nconst playSoundEffect = querySelector => {\n\tconst soundEffect = document.querySelector(querySelector);\n\n\tif (!soundEffect) {\n\t\treturn;\n\t}\n\n\tsoundEffect.currentTime = 0;\n\n\tsoundEffect.play();\n};\n\nconst damageNumbersAnimation = (querySelector, className, content) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\n\tconst divEl = document.createElement('div');\n\tdivEl.textContent = content;\n\tdivEl.className = className;\n\n\tcontainer.appendChild(divEl);\n\n\tsetTimeout(() => container.removeChild(divEl), 1500);\n};\n\nconst notEnoughStaminaAnimation = (player) => {\n\tlet activePlayerUI;\n\tconst divEl = document.createElement('div');\n\tconst fistBubble = document.createElement('div');\n\tconst secondBubble = document.createElement('div');\n\tconst thirdBubble = document.createElement('div');\n\n\tif (player === 'player1') {\n\t\tactivePlayerUI = document.querySelector('.player-1__model').parentElement;\n\t\tdivEl.className = 'not-enough-stamina-player-1 fade-in-animation';\n\t\tfistBubble.className = 'not-enough-stamina-player-1__first-bubble';\n\t\tsecondBubble.className = 'not-enough-stamina-player-1__second-bubble';\n\t\tthirdBubble.className = 'not-enough-stamina-player-1__third-bubble';\n\t} else {\n\t\tactivePlayerUI = document.querySelector('.player-2__model').parentElement;\n\t\tdivEl.className = 'not-enough-stamina-player-2 fade-in-animation';\n\t\tfistBubble.className = 'not-enough-stamina-player-2__first-bubble';\n\t\tsecondBubble.className = 'not-enough-stamina-player-2__second-bubble';\n\t\tthirdBubble.className = 'not-enough-stamina-player-2__third-bubble';\n\t}\n\n\tthirdBubble.innerHTML = 'Not enough <span style = \"color: brown;\"> Energy</span>';\n\tdivEl.appendChild(fistBubble);\n\tdivEl.appendChild(secondBubble);\n\tdivEl.appendChild(thirdBubble);\n\n\tactivePlayerUI.appendChild(divEl);\n\n\tsetTimeout(() => {\n\t\tdivEl.classList.add('fade-out-animation')\n\t}, 1500);\n\n\tsetTimeout(() => {\n\t\tactivePlayerUI.removeChild(divEl)\n\t}, 2000);\n}\n\nexport {\n\tloadingScreenAnimation, playPauseBackgroundAudio, checkBackgroundAudio, shakeAnimation,\n\tcreateCardAnimation, discardCardAnimation, endTurnAnimation, attackInDirectionAnimation,\n\tblockAnimation, attackAnimation, standardAttackAnimation, multipleAttackAnimation,\n\tultimateSkillAnimation, playSoundEffect, damageNumbersAnimation, notEnoughStaminaAnimation\n};\n\n\n\n\n","import {checkBackgroundAudio, loadingScreenAnimation} from './animation_and_sound_effects/animation.js';\nimport '../scss/main.scss';\n\nlet gameConstructor = {};\n\ndocument.addEventListener('DOMContentLoaded', gameConstructorInit);\n\n// change hash\ndocument.addEventListener('click', (event) => switchHash(event));\n\nwindow.addEventListener('hashchange', renderPage);\n\nfunction renderPage() {\n\tconst hash = decodeURIComponent(window.location.hash.substr(1));\n\t// const state = decodeURIComponent(hash.substr(1));\n\n\tswitch (hash) {\n\t\tcase '':\n\t\t\tloadingScreenAnimation('mainMenuLoad');\n\n\t\t\tdocument.title = 'Main menu';\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.mainMenu), 500)\n\n\t\t\tbreak;\n\t\tcase 'choose-menu':\n\t\t\tloadingScreenAnimation('chooseMenuLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.chooseMenu), 500);\n\n\t\t\tbreak;\n\t\tcase 'main-menu':\n\t\t\tloadingScreenAnimation('mainMenuLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.mainMenu), 500);\n\n\t\t\tbreak;\n\t\tcase 'battle-field':\n\t\t\tloadingScreenAnimation('battleFieldLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.battle), 500);\n\n\t\t\tbreak;\n\t\tcase 'restoredGame':\n\t\t\tloadingScreenAnimation('battleFieldLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.battle), 500);\n\n\t\t\tbreak;\n\t}\n\n\tsetTimeout(() => checkBackgroundAudio('.sound-icon'), 600);\n}\n\nfunction switchHash(event) {\n\tswitch (event.target.className.split(' ')[0]) {\n\t\tcase 'start-button':\n\t\t\tdocument.title = 'Choose menu';\n\t\t\tlocation.hash = decodeURIComponent('choose-menu');\n\n\t\t\tbreak;\n\t\tcase 'back-to-main-menu':\n\t\t\tdocument.title = 'Main menu';\n\t\t\tlocation.hash = decodeURIComponent('main-menu');\n\n\t\t\tbreak;\n\t\tcase 'start-game':\n\t\t\tdocument.title = 'Battlefield';\n\t\t\tlocation.hash = decodeURIComponent('battle-field');\n\n\t\t\tbreak;\n\t\tcase 'continue-button':\n\t\t\tdocument.title = 'Battlefield';\n\t\t\tlocation.hash = decodeURIComponent('restoredGame');\n\n\t\t\tbreak;\n\t}\n}\n\nfunction gameConstructorInit() {\n\t$.ajax(\n\t\t{\n\t\t\turl: 'json/main_menu.json',\n\t\t\ttype: 'GET',\n\t\t\tdataType: 'json',\n\t\t\tsuccess: saveMainMenu,\n\t\t\terror: errorHandler\n\t\t}\n\t);\n}\n\nfunction saveMainMenu(data) {\n\tgameConstructor.mainMenu = data;\n\n\t$.ajax(\n\t\t{\n\t\t\turl: 'json/choose_menu.json',\n\t\t\ttype: 'GET',\n\t\t\tdataType: 'json',\n\t\t\tsuccess: saveChooseMenu,\n\t\t\terror: errorHandler\n\t\t}\n\t);\n}\n\nfunction saveChooseMenu(data) {\n\tgameConstructor.chooseMenu = data;\n\n\t$.ajax(\n\t\t{\n\t\t\turl: 'json/battle.json',\n\t\t\ttype: 'GET',\n\t\t\tdataType: 'json',\n\t\t\tsuccess: saveBattle,\n\t\t\terror: errorHandler\n\t\t}\n\t);\n\n}\n\nfunction saveBattle(data) {\n\tgameConstructor.battle = data;\n\n\trenderPage();\n}\n\nfunction errorHandler(jqXHR, statusStr, errorStr) {\n\talert(statusStr + ' ' + errorStr);\n}\n\n// create page from JSON functions\nfunction createMainPage(object) {\n\tconst body = document.querySelector('body');\n\tconst wrapperEl = document.querySelector('.wrapper');\n\tconst scriptEl = document.querySelector('.script');\n\n\tlet parent;\n\tlet mainChild;\n\tlet child;\n\tlet subChild;\n\tlet lowestChild;\n\tlet script;\n\n\tfor (let i = 0; i < object.length; i++) {\n\t\tfor (let key in object[i]) {\n\t\t\tswitch (object[i][key]) {\n\t\t\t\tcase 'parent':\n\t\t\t\t\tparent = createElement(object[i]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'mainChild':\n\t\t\t\t\tmainChild = createElement(object[i]);\n\t\t\t\t\tparent.appendChild(mainChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'child':\n\t\t\t\t\tchild = createElement(object[i]);\n\t\t\t\t\tmainChild.appendChild(child);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'subChild':\n\t\t\t\t\tsubChild = createElement(object[i]);\n\t\t\t\t\tchild.appendChild(subChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'lowestChild':\n\t\t\t\t\tlowestChild = createElement(object[i]);\n\t\t\t\t\tsubChild.appendChild(lowestChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'script':\n\t\t\t\t\tscript = createElement(object[i]);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (wrapperEl) {\n\t\tbody.replaceChild(parent, wrapperEl);\n\t} else {\n\t\tbody.appendChild(parent);\n\t}\n\n\tif (scriptEl) {\n\t\tbody.replaceChild(script, scriptEl);\n\t} else {\n\t\tbody.appendChild(script);\n\t}\n}\n\nfunction createElement(obj) {\n\tlet element = document.createElement(obj.tagName);\n\telement.setAttribute('class', obj.class);\n\telement.textContent = obj.content || '';\n\n\tif (obj.source) {\n\t\telement.src = obj.source;\n\t}\n\n\tif (obj.data) {\n\t\telement.setAttribute(`${obj.data}`, `${obj.dataValue}`);\n\t}\n\n\tif (obj.type) {\n\t\telement.setAttribute(`${obj.type}`, `${obj.typeValue}`);\n\t}\n\n\tif (obj.tagName === 'script') {\n\t\telement.setAttribute('defer', 'defer');\n\t}\n\n\treturn element;\n}\n\n"],"sourceRoot":""}