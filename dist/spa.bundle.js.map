{"version":3,"sources":["webpack://cardgameproject/./js/preloadedMediaContent.js","webpack://cardgameproject/./js/modules/preloadMediaModel.js","webpack://cardgameproject/./js/animation_and_sound_effects/animation.js","webpack://cardgameproject/./js/SPAcontroller.js"],"names":["this","skillCollectionLinks","warrior","strike_w","bash","anger","bodySlam","perfectedStrike","bludgeon","defend_w","armaments","ironWave","warcry","bloodletting","entrench","rogue","strike_r","daggerThrow","flechettes","riddleWithHoles","slice","quickSlash","survivor","deflect","backFlip","prepared","expertise","dash","mage","strike_m","cutThroughFate","reachHeaven","signatureMove","tantrum","judgment","masterReality","defend_m","meditate","thirdEye","nirvana","alpha","animationCollectionLinks","daggersSvg","flash","judgmentSvg","mageAttack","mageEffect","refreshStamina","serpentRing","smash","warriorAttack","warriorSmash","defend","audioCollectionLinks","backStab","bashAttack","battleMainTheme","btnClick","btnHover","cardRelease","cardGrab","cardSelected","confirmSucces","confirmFailed","discardCard","endTurn","judj","magePunch","mageSelected","mageStrong","mageUltimate","mainMenuTheme","overlayClose","overlayOpen","pushCard","rogueAttack","rogueSelected","strikeAttack","victory","warriorSelected","cards","animation","audio","init","preloadSkillImages","preloadAudio","object","tempObeject","key","test","temp","document","createElement","data","img","Image","src","Audio","loadingScreenAnimation","target","mainEl","className","body","insertBefore","querySelector","setTimeout","removeChild","chooseEl","battleEl","gameConstructor","renderPage","decodeURIComponent","window","location","hash","substr","title","createMainPage","mainMenu","chooseMenu","battle","currentHash","mainAudio","allAudio","querySelectorAll","soundOffOn","paused","pause","play","every","element","checkBackgroundAudio","parent","mainChild","child","subChild","lowestChild","script","wrapperEl","scriptEl","i","length","appendChild","replaceChild","obj","tagName","setAttribute","class","textContent","content","source","dataValue","type","typeValue","addEventListener","fetch","then","res","json","event","split","switchHash"],"mappings":"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","file":"spa.bundle.js","sourcesContent":["import Media from './modules/preloadMediaModel';\r\n\r\nexport const media = new Media();","export default class Media {\r\n\tconstructor() {\r\n\t\tthis.skillCollectionLinks = {\r\n\t\t\twarrior: {\r\n\t\t\t\tstrike_w: './images/cards/warrior/strike.png',\r\n\t\t\t\tbash: './images/cards/warrior/bash.png',\r\n\t\t\t\tanger: './images/cards/warrior/anger.png',\r\n\t\t\t\tbodySlam: './images/cards/warrior/bodySlam.png',\r\n\t\t\t\tperfectedStrike: './images/cards/warrior/perfectedStrike.png',\r\n\t\t\t\tbludgeon: './images/cards/warrior/bludgeon.png',\r\n\t\t\t\tdefend_w: './images/cards/warrior/defend_w.png',\r\n\t\t\t\tarmaments: './images/cards/warrior/armaments.png',\r\n\t\t\t\tironWave: './images/cards/warrior/ironWave.png',\r\n\t\t\t\twarcry: './images/cards/warrior/warcry.png',\r\n\t\t\t\tbloodletting: './images/cards/warrior/bloodletting.png',\r\n\t\t\t\tentrench: './images/cards/warrior/entrench.png'\r\n\t\t\t},\r\n\t\t\trogue: {\r\n\t\t\t\tstrike_r: './images/cards/rogue/strike_G.png',\r\n\t\t\t\tdaggerThrow: './images/cards/rogue/r_dagger-throw.png',\r\n\t\t\t\tflechettes: './images/cards/rogue/flechettes.png',\r\n\t\t\t\triddleWithHoles: './images/cards/rogue/riddleWithHoles.png',\r\n\t\t\t\tslice: './images/cards/rogue/slice.png',\r\n\t\t\t\tquickSlash: './images/cards/rogue/quickSlash.png',\r\n\t\t\t\tsurvivor: './images/cards/rogue/survivor.png',\r\n\t\t\t\tdeflect: './images/cards/rogue/deflect.png',\r\n\t\t\t\tbackFlip: './images/cards/rogue/backflip.png',\r\n\t\t\t\tprepared: './images/cards/rogue/prepared.png',\r\n\t\t\t\texpertise: './images/cards/rogue/expertise.png',\r\n\t\t\t\tdash: './images/cards/rogue/dash.png'\r\n\t\t\t},\r\n\t\t\tmage: {\r\n\t\t\t\tstrike_m: './images/cards/mage/strike_P.png',\r\n\t\t\t\tcutThroughFate: './images/cards/mage/cutThroughFate.png',\r\n\t\t\t\treachHeaven: './images/cards/mage/reachHeaven.png',\r\n\t\t\t\tsignatureMove: './images/cards/mage/signatureMove.png',\r\n\t\t\t\ttantrum: './images/cards/mage/tantrum.png',\r\n\t\t\t\tjudgment: './images/cards/mage/judgment.png',\r\n\t\t\t\tmasterReality: './images/cards/mage/masterReality.png',\r\n\t\t\t\tdefend_m: './images/cards/mage/defend_P.png',\r\n\t\t\t\tmeditate: './images/cards/mage/meditate.png',\r\n\t\t\t\tthirdEye: './images/cards/mage/thirdEye.png',\r\n\t\t\t\tnirvana: './images/cards/mage/nirvana.png',\r\n\t\t\t\talpha: './images/cards/mage/alpha.png',\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.animationCollectionLinks = {\r\n\t\t\tanger: './images/attack-effects/anger.png',\r\n\t\t\tbloodletting: './images/attack-effects/bloodletting.png',\r\n\t\t\tdaggersSvg: './images/attack-effects/daggers.svg',\r\n\t\t\tflash: './images/attack-effects/flash.png',\r\n\t\t\tjudgmentSvg: './images/attack-effects/judgment.svg',\r\n\t\t\tmageAttack: './images/attack-effects/mage-attack.png',\r\n\t\t\tmageEffect: './images/attack-effects/mage-effect.png',\r\n\t\t\treachHeaven: './images/attack-effects/reach-heaven.png',\r\n\t\t\trefreshStamina: './images/attack-effects/refresh-stamina.svg',\r\n\t\t\tserpentRing: './images/attack-effects/serpent-ring.png',\r\n\t\t\tsmash: './images/attack-effects/smash.png',\r\n\t\t\twarriorAttack: './images/attack-effects/warrior-attack.png',\r\n\t\t\twarriorSmash: './images/attack-effects/warrior-smash.png',\r\n\t\t\tdefend: './images/icons/icon_Block.png'\r\n\t\t};\r\n\r\n\t\tthis.audioCollectionLinks = {\r\n\t\t\tanger: './sounds/anger.ogg',\r\n\t\t\tbackStab: './sounds/backstab.ogg',\r\n\t\t\tbashAttack: './sounds/bash-attack.ogg',\r\n\t\t\tbattleMainTheme: './sounds/battle-main-theme.ogg',\r\n\t\t\tbloodletting: './sounds/bloodletting.ogg',\r\n\t\t\tbtnClick: './sounds/btn-click.ogg',\r\n\t\t\tbtnHover: './sounds/btn-hover.ogg',\r\n\t\t\tcardRelease: './sounds/card-grab-cancel.ogg',\r\n\t\t\tcardGrab: './sounds/card-grabbed.ogg',\r\n\t\t\tcardSelected: './sounds/card-selected.ogg',\r\n\t\t\tconfirmSucces: './sounds/confirm.ogg',\r\n\t\t\tconfirmFailed: './sounds/confirm-failed.ogg',\r\n\t\t\tdefend: './sounds/defend.ogg',\r\n\t\t\tdiscardCard: './sounds/discard-card.ogg',\r\n\t\t\tendTurn: './sounds/end-turn.ogg',\r\n\t\t\texpertise: './sounds/expertice.ogg',\r\n\t\t\tflash: './sounds/flash.ogg',\r\n\t\t\tironWave: './sounds/ironwave.ogg',\r\n\t\t\tjudj: './sounds/judj.ogg',\r\n\t\t\tmageAttack: './sounds/mage-attack.ogg',\r\n\t\t\tmagePunch: './sounds/mage-punch.ogg',\r\n\t\t\tmageSelected: './sounds/mage-selected.ogg',\r\n\t\t\tmageStrong: './sounds/mage-strong.ogg',\r\n\t\t\tmageUltimate: './sounds/mage-ultimate.ogg',\r\n\t\t\tmainMenuTheme: './sounds/main-menu-theme.ogg',\r\n\t\t\tmeditate: './sounds/meditate.ogg',\r\n\t\t\toverlayClose: './sounds/overlay-close.ogg',\r\n\t\t\toverlayOpen: './sounds/overlay-open.ogg',\r\n\t\t\tpushCard: './sounds/push-card.ogg',\r\n\t\t\trogueAttack: './sounds/rogue-attack.ogg',\r\n\t\t\trogueSelected: './sounds/rogue-selected.ogg',\r\n\t\t\tstrikeAttack: './sounds/strike-attack.ogg',\r\n\t\t\tvictory: './sounds/victory.ogg',\r\n\t\t\twarcry: './sounds/warcry.ogg',\r\n\t\t\twarriorSelected: './sounds/warrior-selected.ogg'\r\n\t\t};\r\n\r\n\t\tthis.cards = null;\r\n\r\n\t\tthis.animation = null;\r\n\r\n\t\tthis.audio = null;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.cards = {\r\n\t\t\twarrior: this.preloadSkillImages(this.skillCollectionLinks.warrior),\r\n\t\t\trogue: this.preloadSkillImages(this.skillCollectionLinks.rogue),\r\n\t\t\tmage: this.preloadSkillImages(this.skillCollectionLinks.mage),\r\n\t\t};\r\n\r\n\t\tthis.animation = this.preloadSkillImages(this.animationCollectionLinks);\r\n\r\n\t\tthis.audio = this.preloadAudio(this.audioCollectionLinks);\r\n\t}\r\n\r\n\tpreloadSkillImages(object) {\r\n\t\tlet tempObeject = {};\r\n\r\n\t\tfor (let key in object) {\r\n\t\t\tlet regex = /(svg)$/ig;\r\n\r\n\t\t\tif (regex.test(key)) {\r\n\t\t\t\tlet temp = document.createElement('object');\r\n\r\n\t\t\t\ttemp.data = object[key];\r\n\r\n\t\t\t\ttempObeject[key] = temp;\r\n\t\t\t} else {\r\n\t\t\t\tlet img = new Image();\r\n\r\n\t\t\t\timg.src = object[key];\r\n\r\n\t\t\t\ttempObeject[key] = img;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn tempObeject;\r\n\t};\r\n\r\n\tpreloadAudio(object) {\r\n\t\tlet tempObeject = {};\r\n\r\n\t\tfor (let key in object) {\r\n\t\t\tlet audio = new Audio();\r\n\r\n\t\t\taudio.src = object[key];\r\n\r\n\t\t\ttempObeject[key] = audio;\r\n\r\n\t\t}\r\n\r\n\t\treturn tempObeject;\r\n\t};\r\n}","// animation through all menu loading black screen\n// import {audioCollection} from '../preloadMedia/preloadMedia';\n// import {media} from '../app';\nimport {media} from '../preloadedMediaContent';\n\nconst loadingScreenAnimation = target => {\n\tswitch (target) {\n\t\tcase 'mainMenuLoad':\n\t\t\tlet mainEl = document.createElement('div');\n\n\t\t\tmainEl.className = 'back-main-menu-anim';\n\n\t\t\tdocument.body.insertBefore(mainEl, document.querySelector('.wrapper-choose-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(mainEl), 1100);\n\n\t\t\tbreak;\n\t\tcase 'chooseMenuLoad':\n\t\t\tlet chooseEl = document.createElement('div');\n\n\t\t\tchooseEl.className = 'go-to-choose-menu-anim';\n\n\t\t\tdocument.body.insertBefore(chooseEl, document.querySelector('.wrapper-main-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(chooseEl), 1100);\n\n\t\t\tbreak;\n\t\tcase 'battleFieldLoad':\n\t\t\tlet battleEl = document.createElement('div');\n\n\t\t\tbattleEl.className = 'start-game-anim';\n\n\t\t\tdocument.body.insertBefore(battleEl, document.querySelector('.wrapper-choose-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(battleEl), 1100);\n\n\t\t\tbreak;\n\t}\n};\n\n// starting play backgorundMusic\nconst playPauseBackgroundAudio = () => {\n\t// const hash = window.location.hash;\n\tconst state = decodeURIComponent(window.location.hash.substr(1));\n\tconst soundOffOn = document.querySelector('.sound-icon');\n\tlet backAudio;\n\n\tif (state == 'battle-field' || state == 'restoredGame') {\n\t\tbackAudio = document.querySelector('.background-music-battlefield');\n\t} else {\n\t\tbackAudio = document.querySelector('.background-music-main-menu');\n\t}\n\n\tif (backAudio.paused) {\n\t\tbackAudio.play();\n\n\t\tsoundOffOn.className = 'fas fa-volume-up sound-icon';\n\t} else {\n\t\tbackAudio.pause();\n\n\t\tsoundOffOn.className = 'fas fa-volume-mute sound-icon';\n\t}\n};\n\nconst checkBackgroundAudio = querySelector => {\n\tconst currentHash = decodeURIComponent(window.location.hash.substr(1));\n\tconst mainAudio = document.querySelector('.background-music-main-menu');\n\tconst audio = document.querySelector('.background-music-battlefield');\n\tconst allAudio = document.querySelectorAll('.music');\n\n\tconst soundOffOn = document.querySelector(querySelector);\n\n\tswitch (currentHash) {\n\t\tcase 'battle-field':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'restoredGame':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'main-menu':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\taudio.pause();\n\n\t\t\t\tmainAudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'choose-menu':\n\t\t\tif (mainAudio.paused && audio.paused) {\n\t\t\t\tmainAudio.pause();\n\n\t\t\t\taudio.pause();\n\t\t\t} else {\n\t\t\t\taudio.pause();\n\n\t\t\t\tmainAudio.play();\n\t\t\t}\n\n\t\t\tbreak;\n\t}\n\n\tif ([...allAudio].every(element => element.paused)) {\n\t\tsoundOffOn.className = 'fas fa-volume-mute sound-icon';\n\t} else {\n\t\tsoundOffOn.className = 'fas fa-volume-up sound-icon';\n\t}\n};\n\n// shake display when character choosed\nconst shakeAnimation = (queryElement, direction = 'horizontal') => {\n\tconst element = document.querySelector(queryElement);\n\n\tswitch (direction) {\n\t\tcase 'horizontal':\n\t\t\telement.classList.remove('shake-x');\n\n\t\t\tsetTimeout(() => element.classList.add('shake-x'), 0);\n\n\t\t\tsetTimeout(() => element.classList.remove('shake-x'), 400);\n\n\t\t\tbreak;\n\t\tcase 'vertical':\n\t\t\telement.classList.remove('shake-y');\n\n\t\t\tsetTimeout(() => element.classList.add('shake-y'), 0);\n\n\t\t\tsetTimeout(() => element.classList.remove('shake-y'), 400);\n\n\t\t\tbreak;\n\t\tcase 'mix':\n\t\t\telement.classList.remove('shake-mix');\n\n\t\t\tsetTimeout(() => element.classList.add('shake-mix'), 0);\n\n\t\t\tsetTimeout(() => element.classList.remove('shake-mix'), 400);\n\n\t\t\tbreak;\n\t}\n};\n\nconst createCardAnimation = (querySelector, amount) => {\n\tlet elementAnim = document.querySelector(querySelector);\n\n\tswitch (amount) {\n\t\tcase 'single':\n\t\t\tfor (let i = 0; i < [...elementAnim.children].length; i++) {\n\t\t\t\tif (elementAnim.children[i].classList.contains('card-draw-animation')) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\telementAnim.children[i].classList.add('card-draw-animation');\n\n\t\t\t\t\tplaySoundEffect(media.audio.pushCard);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'multiple':\n\t\t\t[...elementAnim.children].forEach((element, index) => setTimeout(() => {\n\t\t\t\telement.classList.add('card-draw-animation');\n\n\t\t\t\tplaySoundEffect(media.audio.pushCard);\n\t\t\t}, 250 * index));\n\n\t\t\tbreak;\n\t\tcase 'overlay':\n\t\t\t[...elementAnim.children].forEach(element => element.classList.add('card-draw-animation'));\n\n\t\t\tbreak;\n\t}\n};\n\nconst discardCardAnimation = querySelector => {\n\tquerySelector.classList.add('card-discard-animation');\n};\n\nconst endTurnAnimation = side => {\n\tconst button = document.querySelector('.end-of-turn-btn');\n\tconst turnAnnouncer = document.querySelector('.players-action');\n\n\tturnAnnouncer.classList.add('players-turn-info');\n\n\tswitch (side) {\n\t\tcase 'left':\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.style.removeProperty('right');\n\t\t\t\tbutton.style.left = '2%';\n\t\t\t}, 500);\n\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.style.removeProperty('left');\n\t\t\t\tbutton.style.right = '2%';\n\t\t\t}, 500);\n\n\t\t\tbreak;\n\t}\n\n\tbutton.style.display = 'flex';\n\n\tsetTimeout(() => button.classList.add('end-turn-animation'), 1300);\n\n\tsetTimeout(() => turnAnnouncer.classList.remove('players-turn-info'), 2100);\n\n\tsetTimeout(() => button.classList.remove('end-turn-animation'), 2000);\n};\n\nconst attackInDirectionAnimation = (querySelector, direction) => {\n\tconst container = document.querySelector(querySelector);\n\n\tswitch (direction) {\n\t\tcase 'right':\n\t\t\tcontainer.classList.add('attack-right-animation');\n\n\t\t\tsetTimeout(() => container.classList.remove('attack-right-animation'), 1000);\n\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tcontainer.classList.add('attack-left-animation');\n\n\t\t\tsetTimeout(() => container.classList.remove('attack-left-animation'), 1000);\n\n\t\t\tbreak;\n\t}\n};\n\nconst blockAnimation = (querySelector, className, src) => {\n\tconst block = document.querySelector(`.${className}`);\n\n\tif(block) {\n\t\tblock.parentElement.removeChild(block);\n\t}\n\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n};\n\nconst attackAnimation = (querySelector, className, src) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.style.transform = `rotate(${Math.floor(Math.random() * (360 - 1) + 1)}deg)`;\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\twindow.navigator.vibrate([400]);\n\n\tsetTimeout(() => container.removeChild(image), 600);\n};\n\nconst standardAttackAnimation = (querySelector, className, src) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\twindow.navigator.vibrate([400]);\n\n\tsetTimeout(() => container.removeChild(image), 400);\n};\n\nconst multipleAttackAnimation = (querySelector, className, src, amountEffect) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = src;\n\n\tfor (let i = 0; i < amountEffect; i++) {\n\t\tsetTimeout(() => {\n\t\t\tif (i === 1) {\n\t\t\t\timage.style.transform = 'rotate(30deg)';\n\t\t\t} else if (i === 2) {\n\t\t\t\timage.style.transform = 'rotate(315deg)';\n\t\t\t}\n\n\t\t\timage.className = className;\n\n\t\t\tcontainer.appendChild(image);\n\n\t\t\twindow.navigator.vibrate([200]);\n\n\t\t\tplaySoundEffect(media.audio.strikeAttack);\n\t\t}, i * 300);\n\t}\n\n\tsetTimeout(() => container.removeChild(image), 1300);\n};\n\nconst ultimateSkillAnimation = (querySelector, className, src, audio) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst overlay = document.querySelector('.players-overlay');\n\tconst overlayClose = document.querySelector('.players-overlay__close');\n\tconst image = src;\n\n\timage.className = className;\n\n\toverlay.classList.remove('hidden');\n\toverlay.classList.add('fade-in-animation');\n\toverlayClose.classList.add('hidden');\n\n\tsetTimeout(() => {\n\t\tcontainer.appendChild(image);\n\n\t\twindow.navigator.vibrate(800);\n\n\t\tshakeAnimation(querySelector);\n\n\t\tplaySoundEffect(audio);\n\t}, 200);\n\n\tsetTimeout(() => {\n\t\tcontainer.removeChild(image);\n\n\t\toverlay.classList.add('fade-out-animation');\n\t}, 1250);\n\n\tsetTimeout(() => {\n\t\toverlay.classList.add('hidden');\n\t\toverlay.classList.remove('fade-in-animation');\n\t\toverlay.classList.remove('fade-out-animation');\n\t\toverlayClose.classList.remove('hidden');\n\t}, 1850);\n};\n\nconst playSoundEffect = audio => {\n\tconst soundEffect = audio;\n\n\tif (!soundEffect) { return; }\n\n\tsoundEffect.currentTime = 0;\n\n\tsoundEffect.play();\n};\n\nconst damageNumbersAnimation = (querySelector, className, content) => {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst divEl = document.createElement('div');\n\n\tdivEl.textContent = content;\n\tdivEl.className = className;\n\n\tcontainer.appendChild(divEl);\n\n\tsetTimeout(() => container.removeChild(divEl), 1500);\n};\n\nconst notEnoughStaminaAnimation = (player) => {\n\tlet activePlayerUI;\n\tconst divEl = document.createElement('div');\n\tconst fistBubble = document.createElement('div');\n\tconst secondBubble = document.createElement('div');\n\tconst thirdBubble = document.createElement('div');\n\n\tif (player === 'player1') {\n\t\tactivePlayerUI = document.querySelector('.player-1__model').parentElement;\n\n\t\tdivEl.className = 'not-enough-stamina-player-1 fade-in-animation';\n\t\tfistBubble.className = 'not-enough-stamina-player-1__first-bubble';\n\t\tsecondBubble.className = 'not-enough-stamina-player-1__second-bubble';\n\t\tthirdBubble.className = 'not-enough-stamina-player-1__third-bubble';\n\t} else {\n\t\tactivePlayerUI = document.querySelector('.player-2__model').parentElement;\n\n\t\tdivEl.className = 'not-enough-stamina-player-2 fade-in-animation';\n\t\tfistBubble.className = 'not-enough-stamina-player-2__first-bubble';\n\t\tsecondBubble.className = 'not-enough-stamina-player-2__second-bubble';\n\t\tthirdBubble.className = 'not-enough-stamina-player-2__third-bubble';\n\t}\n\n\tthirdBubble.innerHTML = 'Not enough <span style = \"color: brown;\"> Energy</span>';\n\n\tdivEl.appendChild(fistBubble);\n\tdivEl.appendChild(secondBubble);\n\tdivEl.appendChild(thirdBubble);\n\n\tactivePlayerUI.appendChild(divEl);\n\n\tsetTimeout(() => divEl.classList.add('fade-out-animation'), 1500);\n\n\tsetTimeout(() => activePlayerUI.removeChild(divEl), 2000);\n};\n\nexport {\n\tloadingScreenAnimation, playPauseBackgroundAudio, checkBackgroundAudio, shakeAnimation,\n\tcreateCardAnimation, discardCardAnimation, endTurnAnimation, attackInDirectionAnimation,\n\tblockAnimation, attackAnimation, standardAttackAnimation, multipleAttackAnimation,\n\tultimateSkillAnimation, playSoundEffect, damageNumbersAnimation, notEnoughStaminaAnimation\n};\n\n\n\n\n","import {checkBackgroundAudio, loadingScreenAnimation} from './animation_and_sound_effects/animation.js';\nimport '../scss/main.scss';\n\nlet gameConstructor = {};\n\ndocument.addEventListener('DOMContentLoaded', gameConstructorInit);\n\n// change hash\ndocument.addEventListener('click', (event) => switchHash(event));\n\nwindow.addEventListener('hashchange', renderPage);\n\nfunction renderPage() {\n\tconst hash = decodeURIComponent(window.location.hash.substr(1));\n\n\tswitch (hash) {\n\t\tcase '':\n\t\t\tloadingScreenAnimation('mainMenuLoad');\n\n\t\t\tdocument.title = 'Main menu';\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.mainMenu), 500)\n\n\t\t\tbreak;\n\t\tcase 'choose-menu':\n\t\t\tloadingScreenAnimation('chooseMenuLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.chooseMenu), 500);\n\n\t\t\tbreak;\n\t\tcase 'main-menu':\n\t\t\tloadingScreenAnimation('mainMenuLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.mainMenu), 500);\n\n\t\t\tbreak;\n\t\tcase 'battle-field':\n\t\t\tloadingScreenAnimation('battleFieldLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.battle), 500);\n\n\t\t\tbreak;\n\t\tcase 'restoredGame':\n\t\t\tloadingScreenAnimation('battleFieldLoad');\n\n\t\t\tsetTimeout(() => createMainPage(gameConstructor.battle), 500);\n\n\t\t\tbreak;\n\t}\n\n\tsetTimeout(() => checkBackgroundAudio('.sound-icon'), 600);\n}\n\nfunction switchHash(event) {\n\tswitch (event.target.className.split(' ')[0]) {\n\t\tcase 'start-button':\n\t\t\tdocument.title = 'Choose menu';\n\t\t\tlocation.hash = decodeURIComponent('choose-menu');\n\n\t\t\tbreak;\n\t\tcase 'back-to-main-menu':\n\t\t\tdocument.title = 'Main menu';\n\t\t\tlocation.hash = decodeURIComponent('main-menu');\n\n\t\t\tbreak;\n\t\tcase 'start-game':\n\t\t\tdocument.title = 'Battlefield';\n\t\t\tlocation.hash = decodeURIComponent('battle-field');\n\n\t\t\tbreak;\n\t\tcase 'continue-button':\n\t\t\tdocument.title = 'Battlefield';\n\t\t\tlocation.hash = decodeURIComponent('restoredGame');\n\n\t\t\tbreak;\n\t}\n}\n\nfunction gameConstructorInit() {\n\tfetch('json/main_menu.json')\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tgameConstructor.mainMenu = data;\n\n\t\t\tfetch('json/choose_menu.json')\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tgameConstructor.chooseMenu = data;\n\n\t\t\t\t\tfetch('json/battle.json')\n\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tgameConstructor.battle = data;\n\n\t\t\t\t\t\t\trenderPage()\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n}\n\n// create page from JSON functions\nfunction createMainPage(object) {\n\tconst body = document.querySelector('body');\n\tconst wrapperEl = document.querySelector('.wrapper');\n\tconst scriptEl = document.querySelector('.script');\n\n\tlet parent;\n\tlet mainChild;\n\tlet child;\n\tlet subChild;\n\tlet lowestChild;\n\tlet script;\n\n\tfor (let i = 0; i < object.length; i++) {\n\t\tfor (let key in object[i]) {\n\t\t\tswitch (object[i][key]) {\n\t\t\t\tcase 'parent':\n\t\t\t\t\tparent = createElement(object[i]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'mainChild':\n\t\t\t\t\tmainChild = createElement(object[i]);\n\t\t\t\t\tparent.appendChild(mainChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'child':\n\t\t\t\t\tchild = createElement(object[i]);\n\t\t\t\t\tmainChild.appendChild(child);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'subChild':\n\t\t\t\t\tsubChild = createElement(object[i]);\n\t\t\t\t\tchild.appendChild(subChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'lowestChild':\n\t\t\t\t\tlowestChild = createElement(object[i]);\n\t\t\t\t\tsubChild.appendChild(lowestChild);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'script':\n\t\t\t\t\tscript = createElement(object[i]);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (wrapperEl) {\n\t\tbody.replaceChild(parent, wrapperEl);\n\t} else {\n\t\tbody.appendChild(parent);\n\t}\n\n\tif (scriptEl) {\n\t\tbody.replaceChild(script, scriptEl);\n\t} else {\n\t\tbody.appendChild(script);\n\t}\n}\n\nfunction createElement(obj) {\n\tlet element = document.createElement(obj.tagName);\n\telement.setAttribute('class', obj.class);\n\telement.textContent = obj.content || '';\n\n\tif (obj.source) {\n\t\telement.src = obj.source;\n\t}\n\n\tif (obj.data) {\n\t\telement.setAttribute(`${obj.data}`, `${obj.dataValue}`);\n\t}\n\n\tif (obj.type) {\n\t\telement.setAttribute(`${obj.type}`, `${obj.typeValue}`);\n\t}\n\n\tif (obj.tagName === 'script') {\n\t\telement.setAttribute('defer', 'defer');\n\t}\n\n\treturn element;\n}\n\n"],"sourceRoot":""}