{"version":3,"sources":["webpack://cardgameproject/webpack/bootstrap","webpack://cardgameproject/webpack/runtime/define property getters","webpack://cardgameproject/webpack/runtime/hasOwnProperty shorthand","webpack://cardgameproject/./js/modules/eventsModel.js","webpack://cardgameproject/./js/modules/cardsModel.js","webpack://cardgameproject/./js/cards.js","webpack://cardgameproject/./js/animation_and_sound_effects/animation.js","webpack://cardgameproject/./js/modules/gameModel.js","webpack://cardgameproject/./js/modules/boardModel.js","webpack://cardgameproject/./js/modules/boardView.js","webpack://cardgameproject/./js/modules/gameController.js","webpack://cardgameproject/./js/modules/playerModel.js","webpack://cardgameproject/./js/modules/playerView.js","webpack://cardgameproject/./js/modules/playerController.js","webpack://cardgameproject/./js/modules/boardController.js","webpack://cardgameproject/./js/game.js"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Events","this","listeners","listener","push","arg1","arg2","forEach","index","Cards","id","type","cost","effect","icon","name","sideEffect","skillCollection","warrior","gameObserver","activePlayer","healthPoints","defendPoints","boardModel","cardInHand","children","length","passivePlayer","rogue","mage","Math","floor","random","shakeAnimation","queryElement","direction","element","document","querySelector","classList","remove","setTimeout","add","createCardAnim","amount","elementAnim","i","contains","playSoundEffect","blockAnimationEffect","className","src","container","parentElement","image","createElement","appendChild","removeChild","attackAnimation","style","transform","standartAttackAnimation","ultimateSkillAnimation","audio","overlay","overlayClose","soundEffect","currentTime","play","attackAnimationEffect","querySelectorAll","Game","playerOneTurn","playerTwoTurn","playerOneClass","playerTwoClass","playerOnePullOfCards","playerTwoPullOfCards","playersInfo","dragCard","tempCard","selectionEnd","selectionContinue","choosePlayerInfo","updatePlayersNames","updatePlayersModels","init","setPlayersChoiceInfo","setPlayersClasses","setPlayersNames","setPlayersModels","setTextChooseInfo","setActivePassivePlayer","player1","player2","object","temp","localStorage","getItem","JSON","parse","notify","playerOneName","playerTwoName","cards","counter","getElementsByClassName","tempCardChoosePlayer","dataset","info","checkOnSelectedCards","setTurnPriority","checkCardsSelectionEnd","datainfo","search","j","eventTarget","find","Board","model","gameModel","decWrapper","btnAccept","cardsChooseCounter","battleField","endTurn","playersTurnInfo","cardsPlayField","soundOffOn","playersOverlay","playersDeck","playersDeckClose","showDeckPlayer1","showDeckPlayer2","onCreateCards","onCounterChange","removeCards","removeActionCard","createAnimation","endTurnAnimation","playerClassInfo","removeExtraCards","createCards","target","state","card","appendPlace","draggable","elDiv","setAttribute","backgroundImage","tempIndex","n","indexOf","place","orderToRemove","condition","staminaPoints","toggle","counterInfo","number","color","event","preventDefault","textContent","BoardView","board","game","selector","boardSelector","onLoadCreate","onDefineCards","onAnimCards","submitCardCheckChoose","cardInHandChoosen","grabCardStart","grabCardEnd","preventDrag","dropEvent","doCardAction","showPlayerDeck","addEventListener","attach","drawCards","counterUpdate","selectionEndUpdate","extraCardsToRemove","text","playerChooseInfoUpdate","name1","name2","playerNameUpdate","modelPlayer1","modelPlayer2","playerModelsUpdate","deleteActionCard","side","display","player1Model","player2Model","data","console","log","button","turnAnnouncer","removeProperty","left","right","endTurnAnim","GameController","view","boardView","defineCards","doCardCheckChoose","actionCard","doEndTurn","definePlayersCardSet","initActionCard","turnEndsNextPlayerTurn","Players","playerViewUpdate","cardDraw","cardDiscard","actionAnimation","updateView","standartAttack","attackDrawDiscard","sideEffectAttack","standartDefend","sideEffectDefend","defendDrawDiscard","defendWithAttack","randomCardDraw","randomDiscard","test","abs","undefined","randomCardDiscard","massiveRandomDraw","PlayersView","playerOneModel","playerTwoModel","playerContainer","playerOneHPValue","playerOneDefenceValue","playerOneStaminaValue","playerOneHP","playerTwoHPValue","playerTwoDefenceValue","playerTwoStaminaValue","playerTwoHP","updateViewHP","updateViewDef","doAnimation","width","activePlayerUI","passivePlayerUI","amountEffect","effectStorage","elem","multipleAttackAnimation","PlayersController","playCard","priority","doAction","BoardController","playerModel1","playerModel2","createCard","cardAnimBoard","cardAnimHand","grabedCardAnim","createCardsInHand","setPlayersTurnInfo","showPlayersDeck","closePlayersDeck","addCardInHand","deleteRandomCard","turnOnOfSound","createCardsForChoose","cardChooseAnim","cardChooseAnimInHandAdd","cardChooseAnimInHandRemove","pullRandomCardsInHand","dragCardStart","dragCardEnd","dragPreventAction","deletePlayedCard","showCardsForPlayers","openCloseOverlay","showWhichTurn","backAudio","hash","window","location","decodeURIComponent","substr","paused","pause","start"],"mappings":"yBACA,IAAIA,EAAsB,CCA1B,EAAwB,SAASC,EAASC,GACzC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3E,EAAwB,SAASM,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,K,oRCA1EI,E,WACpB,c,4FAAc,SACbC,KAAKC,UAAY,G,2CAGlB,SAAOC,GACNF,KAAKC,UAAUE,KAAKD,K,oBAGrB,SAAOE,EAAMC,GAAM,WAClBL,KAAKC,UAAUK,SAAQ,SAACJ,EAAUK,GACjC,EAAKN,UAAUM,GAAOH,EAAMC,W,sBCXVG,EACpB,WAAYC,EAAIC,EAAMC,EAAMC,EAAQC,EAAMC,EAAMC,I,4FAAY,SAC3Df,KAAKS,GAAKA,EACVT,KAAKW,KAAOA,EACZX,KAAKU,KAAOA,EACZV,KAAKY,OAASA,EACdZ,KAAKa,KAAOA,EACZb,KAAKc,KAAOA,EACZd,KAAKe,WAAaA,GCuHPC,EAAkB,CAC9BC,QAAS,CA3HO,IAAIT,EAAM,EAAG,SAAU,EAAG,EAAG,kCAAmC,YAEpE,IAAIA,EAAM,EAAG,SAAU,EAAG,EAAG,gCAAiC,QAE7D,IAAIA,EAAM,EAAG,kBAAmB,EAAG,EAAG,iCAAkC,SACrF,WAOC,OALIU,EAAaC,aAAaC,aAAe,GACnC,GAEA,KAKK,IAAIZ,EAAM,EAAG,kBAAmB,EAAG,EAAG,oCAAqC,YAAY,WAOvG,OALIU,EAAaC,aAAaE,aAAe,EACnCH,EAAaC,aAAaE,aAE1B,KAKY,IAAIb,EAAM,EAAG,kBAAmB,EAAG,EAAG,2CAA4C,mBAAmB,kBAAM,EAAIc,EAAWC,WAAWC,SAASC,UAEpJ,IAAIjB,EAAM,EAAG,kBAAmB,EAAG,GAAI,oCAAqC,YAAY,WAOxG,OALIU,EAAaQ,cAAcN,aAAe,GACpC,GAEA,MAKM,IAAIZ,EAAM,EAAG,SAAU,EAAG,EAAG,oCAAqC,YAEjE,IAAIA,EAAM,EAAG,kBAAmB,EAAG,EAAG,qCAAsC,aAAa,WAO1G,OAL+C,IAA3CU,EAAaC,aAAaE,aACpB,EAEA,KAKM,IAAIb,EAAM,EAAG,kBAAmB,EAAG,EAAG,oCAAqC,YAAY,kBAAM,KAE/F,IAAIA,EAAM,EAAG,oBAAqB,EAAG,EAAG,kCAAmC,UAErE,IAAIA,EAAM,GAAI,oBAAqB,EAAG,EAAG,wCAAyC,gBAEtF,IAAIA,EAAM,GAAI,kBAAmB,EAAG,EAAG,oCAAqC,YAAY,kBAA+C,EAAzCU,EAAaC,aAAaE,aAAmBH,EAAaC,aAAaE,iBAqErLM,MAAO,CAlES,IAAInB,EAAM,EAAG,SAAU,EAAG,EAAG,kCAAmC,YAE7D,IAAIA,EAAM,EAAG,oBAAqB,EAAG,EAAG,wCAAyC,eAElF,IAAIA,EAAM,EAAG,kBAAmB,EAAG,EAAG,oCAAqC,cAAc,kBAAM,EAAIc,EAAWC,WAAWC,SAASC,UAE7H,IAAIjB,EAAM,EAAG,kBAAmB,EAAG,EAAG,yCAA0C,mBAE1F,IAAIA,EAAM,EAAG,SAAU,EAAG,EAAG,+BAAgC,SAExD,IAAIA,EAAM,EAAG,oBAAqB,EAAG,EAAG,oCAAqC,cAE/E,IAAIA,EAAM,EAAG,oBAAqB,EAAG,EAAG,kCAAmC,YAE5E,IAAIA,EAAM,EAAG,SAAU,EAAG,EAAG,iCAAkC,WAE9D,IAAIA,EAAM,EAAG,oBAAqB,EAAG,EAAG,kCAAmC,YAAY,kBAAM,KAE7F,IAAIA,EAAM,EAAG,oBAAqB,EAAG,EAAG,kCAAmC,YAE1E,IAAIA,EAAM,GAAI,oBAAqB,EAAG,EAAG,mCAAoC,aAElF,IAAIA,EAAM,GAAI,kBAAmB,EAAG,GAAI,8BAA+B,QAAQ,kBAAM,MA6CjGoB,KAAM,CA1CU,IAAIpB,EAAM,EAAG,SAAU,EAAG,EAAG,iCAAkC,YAEzD,IAAIA,EAAM,EAAG,oBAAqB,EAAG,EAAG,uCAAwC,kBAAkB,kBAAM,KAE3G,IAAIA,EAAM,EAAG,SAAU,EAAG,GAAI,oCAAqC,eAEjE,IAAIA,EAAM,EAAG,kBAAmB,EAAG,EAAG,sCAAuC,iBAAiB,kBAAMU,EAAaQ,cAAcL,gBAErI,IAAIb,EAAM,EAAG,kBAAmB,EAAG,EAAG,gCAAiC,WAAW,kBAAM,GAAKqB,KAAKC,MAAM,EAAAD,KAAKE,UAAsB,MAElI,IAAIvB,EAAM,EAAG,kBAAmB,EAAG,EAAG,iCAAkC,YAAY,WACpG,IAAII,EAIJ,OAHIM,EAAaQ,cAAcN,cAAgB,KAC9CR,EAAS,GAEHA,KAGc,IAAIJ,EAAM,EAAG,kBAAmB,EAAG,EAAG,sCAAuC,iBAAiB,WAOnH,OAL8C,GAA1CU,EAAaC,aAAaE,aACpB,GAEA,KAKM,IAAIb,EAAM,EAAG,SAAU,EAAG,EAAG,iCAAkC,YAE/D,IAAIA,EAAM,EAAG,kBAAmB,EAAG,EAAG,iCAAkC,YAExE,IAAIA,EAAM,EAAG,oBAAqB,EAAG,EAAG,iCAAkC,YAE3E,IAAIA,EAAM,GAAI,kBAAmB,EAAG,EAAG,gCAAiC,WAAW,kBAAMU,EAAaQ,cAAcL,gBAEtH,IAAIb,EAAM,GAAI,oBAAqB,EAAG,EAAG,8BAA+B,W,gvBCjCtF,SAASwB,EAAeC,GAAwC,IAA1BC,EAA0B,uDAAd,aAC3CC,EAAUC,SAASC,cAAcJ,GAEvC,OAAQC,GACP,IAAK,aACJC,EAAQG,UAAUC,OAAO,UACzBC,YAAW,kBAAML,EAAQG,UAAUG,IAAI,YAAW,GAClDD,YAAW,kBAAML,EAAQG,UAAUC,OAAO,YAAW,KACrD,MACD,IAAK,WACJJ,EAAQG,UAAUC,OAAO,UACzBC,YAAW,kBAAML,EAAQG,UAAUG,IAAI,YAAW,GAClDD,YAAW,kBAAML,EAAQG,UAAUC,OAAO,YAAW,KACrD,MACD,IAAK,MACJJ,EAAQG,UAAUC,OAAO,YACzBC,YAAW,kBAAML,EAAQG,UAAUG,IAAI,cAAa,GACpDD,YAAW,kBAAML,EAAQG,UAAUC,OAAO,cAAa,MAK1D,SAASG,EAAeL,EAAeM,GACtC,IAAIC,EAAcR,SAASC,cAAcA,GAEzC,OAAQM,GACP,IAAK,SACJ,IAAK,IAAIE,EAAI,EAAGA,EAAI,EAAID,EAAYpB,UAAUC,OAAQoB,IACjDD,EAAYpB,SAASqB,GAAGP,UAAUQ,SAAS,mBAG9CF,EAAYpB,SAASqB,GAAGP,UAAUG,IAAI,iBAEtCM,EAAgB,qBAGlB,MACD,IAAK,WACJ,EAAIH,EAAYpB,UAAUlB,SAAQ,SAAC6B,EAAS5B,GAAV,OAAoBiC,YAAW,WAChEL,EAAQG,UAAUG,IAAI,iBAEtBM,EAAgB,sBACd,IAAMxC,MACT,MACD,IAAK,UACJ,EAAIqC,EAAYpB,UAAUlB,SAAQ,SAAA6B,GAAO,OAAIA,EAAQG,UAAUG,IAAI,qBAoCtE,SAASO,EAAqBX,EAAeY,EAAWC,GACvD,IAAMC,EAAYf,SAASC,cAAcA,GAAee,cAClDC,EAAQjB,SAASkB,cAAc,OAErCD,EAAMH,IAAMA,EACZG,EAAMJ,UAAYA,EAElBE,EAAUI,YAAYF,GAEtBb,YAAW,kBAAMW,EAAUK,YAAYH,KAAQ,KAGhD,SAASI,EAAgBpB,EAAeY,EAAWC,GAClD,IAAMC,EAAYf,SAASC,cAAcA,GAAee,cAClDC,EAAQjB,SAASkB,cAAc,OAErCD,EAAMH,IAAMA,EACZG,EAAMK,MAAMC,UAAZ,iBAAkC9B,KAAKC,MAAM,IAAAD,KAAKE,SAAuB,GAAzE,QACAsB,EAAMJ,UAAYA,EAElBE,EAAUI,YAAYF,GAEtBb,YAAW,kBAAMW,EAAUK,YAAYH,KAAQ,KAgChD,SAASO,EAAwBvB,EAAeY,EAAWC,GAC1D,IAAMC,EAAYf,SAASC,cAAcA,GAAee,cAClDC,EAAQjB,SAASkB,cAAc,OAErCD,EAAMH,IAAMA,EACZG,EAAMJ,UAAYA,EAElBE,EAAUI,YAAYF,GAEtBb,YAAW,kBAAMW,EAAUK,YAAYH,KAAQ,KAGhD,SAASQ,EAAuBxB,EAAeY,EAAWC,EAAKY,GAC9D,IAAMX,EAAYf,SAASC,cAAcA,GAAee,cAClDW,EAAU3B,SAASC,cAAc,oBACjC2B,EAAe5B,SAASC,cAAc,mBACtCgB,EAAQjB,SAASkB,cAAc,OAErCD,EAAMH,IAAMA,EACZG,EAAMJ,UAAYA,EAElBc,EAAQzB,UAAUC,OAAO,UACzBwB,EAAQzB,UAAUG,IAAI,WACtBuB,EAAa1B,UAAUG,IAAI,UAE3BD,YAAW,WACVW,EAAUI,YAAYF,GAEtBrB,EAAeK,GAEfU,EAAgBe,KACd,KAEHtB,YAAW,WACVW,EAAUK,YAAYH,GACtBU,EAAQzB,UAAUG,IAAI,cAEpB,KAEHD,YAAW,WACVuB,EAAQzB,UAAUG,IAAI,UACtBsB,EAAQzB,UAAUC,OAAO,WACzBwB,EAAQzB,UAAUC,OAAO,YACzByB,EAAa1B,UAAUC,OAAO,YAC5B,KAGJ,SAASQ,EAAgBV,GACxB,IAAM4B,EAAc7B,SAASC,cAAcA,GAEtC4B,IAILA,EAAYC,YAAc,EAE1BD,EAAYE,QAGb,SAASC,EAAsB/B,EAAeH,GAC7C,IAAMiB,EAAYf,SAASC,cAAcA,GAEzC,OAAQH,GACP,IAAK,QACJiB,EAAUb,UAAUG,IAAI,eAExBD,YAAW,kBAAMW,EAAUb,UAAUC,OAAO,iBAAgB,KAC5D,MACD,IAAK,OACJY,EAAUb,UAAUG,IAAI,cAExBD,YAAW,kBAAMW,EAAUb,UAAUC,OAAO,gBAAe,M,sKAhP3CH,SAASC,cAAc,+BAC3BD,SAASC,cAAc,iCACpBD,SAASiC,iBAAiB,U,ICtDvBC,E,WACpB,c,4FAAc,SACbtE,KAAKmB,aAAe,KACpBnB,KAAK0B,cAAgB,KAErB1B,KAAKuE,eAAgB,EACrBvE,KAAKwE,eAAgB,EAErBxE,KAAKyE,eAAiB,KACtBzE,KAAK0E,eAAiB,KAEtB1E,KAAK2E,qBAAuB,GAC5B3E,KAAK4E,qBAAuB,GAE5B5E,KAAK6E,YAAc,GAEnB7E,KAAK8E,SAAW,KAChB9E,KAAK+E,SAAW,KAGhB/E,KAAKgF,aAAe,IAAIjF,EAGxBC,KAAKiF,kBAAoB,IAAIlF,EAG7BC,KAAKkF,iBAAmB,IAAInF,EAG5BC,KAAKmF,mBAAqB,IAAIpF,EAG9BC,KAAKoF,oBAAsB,IAAIrF,E,0CAGhC,WACCC,KAAKqF,S,kBAGN,WACCrF,KAAKsF,qBAAqB,eAC1BtF,KAAKuF,oBACLvF,KAAKwF,kBACLxF,KAAKyF,mBACLzF,KAAK0F,oBACL1F,KAAK2F,2B,oCAIN,WACC3F,KAAKmB,aAAeyE,EACpB5F,KAAK0B,cAAgBmE,I,kCAItB,SAAqBC,GACpB,IAAIC,EAAOC,aAAaC,QAAQH,GAChC9F,KAAK6E,YAAcqB,KAAKC,MAAMJ,K,+BAI/B,WACC/F,KAAKyE,eAAiBzE,KAAK6E,YAAYJ,eACvCzE,KAAK0E,eAAiB1E,KAAK6E,YAAYH,iB,6BAIxC,WACC1E,KAAKmF,mBAAmBiB,OAAOpG,KAAK6E,YAAYwB,cAAerG,KAAK6E,YAAYyB,iB,8BAIjF,WACCtG,KAAKoF,oBAAoBgB,OAAOpG,KAAK6E,YAAYJ,eAAgBzE,KAAK6E,YAAYH,kB,+BAInF,WACK1E,KAAKuE,cACRvE,KAAKkF,iBAAiBkB,OAAtB,UAAgCpG,KAAK6E,YAAYwB,cAAjD,iBAEArG,KAAKkF,iBAAiBkB,OAAtB,UAAgCpG,KAAK6E,YAAYyB,cAAjD,mB,6BAKF,WACKtG,KAAKuE,eACRvE,KAAKuE,eAAgB,EACrBvE,KAAKwE,eAAgB,IAErBxE,KAAKuE,eAAgB,EACrBvE,KAAKwE,eAAgB,K,kCAKvB,WACC,IAAI+B,EAAQnE,SAASiC,iBAAiB,UAGlCmC,EAAUpE,SAASqE,uBAAuB,kBAAkBhF,OAGhE,GAAI+E,EAAU,GAAKA,GAAW,EAG7B,OAFAzD,EAAgB,8BAChBf,EAAe,UAAW,cAI3B,IAAI0E,EAAuB,GAG3B,GAAI1G,KAAKuE,cAAe,CACvB,IAAK,IAAI1B,EAAI,EAAGA,EAAI0D,EAAM9E,OAAQoB,IAC7B0D,EAAM1D,GAAGP,UAAUQ,SAAS,mBAC/B4D,EAAqBvG,KAAKoG,EAAM1D,GAAG8D,QAAQC,MAI7C5G,KAAK2E,qBAAuB3E,KAAK6G,qBAAqBH,EAAsB1G,KAAKyE,gBAIlF,GAAIzE,KAAKwE,cAAe,CACvB,IAAK,IAAI3B,EAAI,EAAGA,EAAI0D,EAAM9E,OAAQoB,IAC7B0D,EAAM1D,GAAGP,UAAUQ,SAAS,mBAC/B4D,EAAqBvG,KAAKoG,EAAM1D,GAAG8D,QAAQC,MAG7C5G,KAAK4E,qBAAuB5E,KAAK6G,qBAAqBH,EAAsB1G,KAAK0E,gBAGlF3B,EAAgB,kBAGhB/C,KAAK8G,kBAEL9G,KAAK+G,2B,kCAIN,SAAqBC,EAAUC,GAG9B,IAFA,IAAIlB,EAAO,GAEFlD,EAAI,EAAGA,EAAI7B,EAAgBiG,GAAQxF,OAAQoB,IACnD,IAAK,IAAIqE,EAAI,EAAGA,EAAIF,EAASvF,OAAQyF,IAChClG,EAAgBiG,GAAQpE,GAAxB,IAAoCmE,EAASE,IAChDnB,EAAK5F,KAAKa,EAAgBiG,GAAQpE,IAIrC,OAAOkD,I,oCAIR,WACC,IAAIS,EAAUpE,SAASqE,uBAAuB,kBAAkBhF,OAG5D+E,EAAU,GAAKA,GAAW,IAI1BxG,KAAK2E,qBAAqBlD,OAAS,GAAKzB,KAAK4E,qBAAqBnD,OAAS,EAC9EzB,KAAKgF,aAAaoB,UAElBpG,KAAKiF,kBAAkBmB,SACvBpG,KAAK0F,wB,4BAKP,SAAeyB,GAAa,WAC3BnH,KAAK8E,SAAWqC,EAEZnH,KAAKuE,cACRvE,KAAK+E,SAAW/E,KAAK2E,qBAAqByC,MAAK,SAAAjF,GAAO,OAAIA,EAAQ1B,IAAM,EAAKqE,SAAS6B,QAAQC,QAE9F5G,KAAK+E,SAAW/E,KAAK4E,qBAAqBwC,MAAK,SAACjF,GAAD,OAAaA,EAAQ1B,IAAM,EAAKqE,SAAS6B,QAAQC,U,oCAKlG,WACK5G,KAAKuE,eACRvE,KAAKuE,eAAgB,EACrBvE,KAAKwE,eAAgB,EACrBxE,KAAKmB,aAAe0E,EACpB7F,KAAK0B,cAAgBkE,IAErB5F,KAAKuE,eAAgB,EACrBvE,KAAKwE,eAAgB,EACrBxE,KAAKmB,aAAeyE,EACpB5F,KAAK0B,cAAgBmE,Q,g7BCnMHwB,E,WACpB,WAAYC,I,4FAAO,SAClBtH,KAAKuH,UAAYD,EAEjBtH,KAAKwH,WAAapF,SAASC,cAAc,uBACzCrC,KAAKyH,UAAYrF,SAASC,cAAc,WACxCrC,KAAK0H,mBAAqBtF,SAASC,cAAc,UACjDrC,KAAKuB,WAAaa,SAASC,cAAc,uBACzCrC,KAAK2H,YAAcvF,SAASC,cAAc,iBAC1CrC,KAAK4H,QAAUxF,SAASC,cAAc,oBACtCrC,KAAK6H,gBAAkBzF,SAASC,cAAc,mBAC9CrC,KAAK8H,eAAiB1F,SAASC,cAAc,eAC7CrC,KAAK+H,WAAa3F,SAASC,cAAc,cAEzCrC,KAAKgI,eAAiB5F,SAASC,cAAc,oBAC7CrC,KAAKiI,YAAc7F,SAASC,cAAc,2BAC1CrC,KAAKkI,iBAAmB9F,SAASC,cAAc,mBAE/CrC,KAAKmI,gBAAkB/F,SAASC,cAAc,0BAC9CrC,KAAKoI,gBAAkBhG,SAASC,cAAc,0BAG9CrC,KAAKqI,cAAgB,IAAItI,EACzBC,KAAKsI,gBAAkB,IAAIvI,EAC3BC,KAAKuI,YAAc,IAAIxI,EACvBC,KAAKwI,iBAAmB,IAAIzI,EAC5BC,KAAKyI,gBAAkB,IAAI1I,EAC3BC,KAAK0I,iBAAmB,IAAI3I,E,yDAI7B,SAAqB4I,GAAiB,WACrC3I,KAAK4I,iBAAiB,SAElB5I,KAAKuH,UAAUhD,cAClB/B,YAAW,WACVxB,EAAgB2H,EAAgBlE,gBAAgBnE,SAAQ,SAAC6B,GAAD,OAAa,EAAK0G,YAAY1G,EAAS,YAE/F,EAAKsG,gBAAgBrC,OAAO,sBAAuB,cAGjD,KAEH5D,YAAW,WACVxB,EAAgB2H,EAAgBjE,gBAAgBpE,SAAQ,SAAC6B,GAAD,OAAa,EAAK0G,YAAY1G,EAAS,YAE/F,EAAKsG,gBAAgBrC,OAAO,sBAAuB,cAGjD,O,iCAIL,SAAoBe,GAAa,WAChCnH,KAAK4I,iBAAiB,WAEtB,IAAIE,EAAS3B,EAET2B,EAAOxG,UAAUQ,SAAS,2BAC7B9C,KAAKuH,UAAU5C,qBAAqBrE,SAAQ,SAAC6B,GAAD,OAAa,EAAK0G,YAAY1G,EAAS,cAEnFnC,KAAKyI,gBAAgBrC,OAAO,0BAA2B,YAKpD0C,EAAOxG,UAAUQ,SAAS,2BAC7B9C,KAAKuH,UAAU3C,qBAAqBtE,SAAQ,SAAC6B,GAAD,OAAa,EAAK0G,YAAY1G,EAAS,cAEnFnC,KAAKyI,gBAAgBrC,OAAO,0BAA2B,c,8BAMzD,SAAiB2C,GAChB,OAAQA,GACP,IAAK,OACJ/I,KAAKgI,eAAe1F,UAAUC,OAAO,UAErCQ,EAAgB,uBAEhB,MACD,IAAK,QACJ/C,KAAKgI,eAAe1F,UAAUG,IAAI,UAElCM,EAAgB,2B,yBAMnB,SAAYiG,EAAMC,GAAgC,IAAnBC,EAAmB,wDAC7CC,EAAQ/G,SAASkB,cAAc,OAEnC6F,EAAMC,aAAa,QAAS,SAC5BD,EAAMC,aAAa,YAAnB,UAAmCJ,EAAKvI,KACxC0I,EAAMzF,MAAM2F,gBAAZ,cAAqCL,EAAKnI,KAA1C,KAEIqI,GACHC,EAAMC,aAAa,YAAa,QAGjCpJ,KAAKqI,cAAcjC,OAAO+C,EAAOF,K,mCAIlC,WACCjJ,KAAK4I,iBAAiB,QAKtB,IAHA,IAAIU,EAAY,GAGPzG,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC3B,IAAI0G,EAAI1H,KAAKC,MAAsB,EAAhBD,KAAKE,WACK,GAAzBuH,EAAUE,QAAQD,GACrBD,EAAUnJ,KAAKoJ,GAEf1G,IAKF,GAAI7C,KAAKuH,UAAUhD,cAAe,CACjC,IAAK,IAAI1B,EAAI,EAAGA,EAAIyG,EAAU7H,OAAQoB,IACrC7C,KAAK6I,YAAY7I,KAAKuH,UAAU5C,qBAAqB2E,EAAUzG,IAAK,QAAQ,GAG7E7C,KAAKyI,gBAAgBrC,OAAO,sBAAuB,gBAG7C,CACN,IAAK,IAAIvD,EAAI,EAAGA,EAAIyG,EAAU7H,OAAQoB,IACrC7C,KAAK6I,YAAY7I,KAAKuH,UAAU3C,qBAAqB0E,EAAUzG,IAAK,QAAQ,GAG7E7C,KAAKyI,gBAAgBrC,OAAO,sBAAuB,e,8BAOrD,SAAiBqD,GAChB,IAAIC,EAAgB,GAEpB,OAAQD,GACP,IAAK,QACJC,EAAgB,EAAI1J,KAAKwH,WAAWhG,UACpC,MACD,IAAK,OACJkI,EAAgB,EAAI1J,KAAKuB,WAAWC,UACpC,MACD,IAAK,UACJkI,EAAgB,EAAI1J,KAAKiI,YAAYzG,UAIvCxB,KAAKuI,YAAYnC,OAAOsD,EAAeD,K,8BAIxC,SAAiBE,EAAWX,GAC3B,KAAIhJ,KAAKuH,UAAUxC,SAASpE,KAAOX,KAAKuH,UAAUpG,aAAayI,eAI/D,OAAQD,GACP,IAAK,aACJ3J,KAAKwI,iBAAiBpC,OAAOpG,KAAKuH,UAAUzC,UAC5C,MACD,IAAK,aACJ9E,KAAKwI,iBAAiBpC,OAAO4C,M,4BAMhC,SAAe7B,GACd,IAAI2B,EAAS3B,EAET2B,IAAW9I,KAAKwH,YACnBsB,EAAOxG,UAAUuH,OAAO,kBAGrBf,EAAOxG,UAAUQ,SAAS,mBAC7BC,EAAgB,wBAGjB,IAAIyD,EAAUpE,SAASqE,uBAAuB,kBAAkBhF,OAE5DqI,EAAc,GAElBA,EAAYC,OAASvD,EAGpBsD,EAAYE,MADTxD,EAAU,EACO,MACC,GAAXA,EACU,QACVA,EAAU,GAAKA,EAAU,EACf,OAEA,QAGrBxG,KAAKsI,gBAAgBlC,OAAO0D,K,qCAI7B,SAAwB3C,GACvB,IAAI2B,EAAS3B,EAET2B,IAAW9I,KAAKuB,YACnBuH,EAAOxG,UAAUG,IAAI,oB,wCAKvB,SAA2B0E,GAC1B,IAAI2B,EAAS3B,EAET2B,IAAW9I,KAAKuB,YACnBuH,EAAOxG,UAAUC,OAAO,oB,2BAK1B,SAAc4E,GACb,IAAI2B,EAAS3B,EAET2B,IAAW9I,KAAKuB,YACnBiB,YAAW,kBAAMsG,EAAOxG,UAAUG,IAAI,eAAc,GAGrDM,EAAgB,iB,yBAIjB,SAAYoE,GACXpE,EAAgB,2BAEhB,IAAI+F,EAAS3B,EAET2B,IAAW9I,KAAKuB,YACnBuH,EAAOxG,UAAUC,OAAO,e,+BAI1B,SAAkB0H,GACjBA,EAAMC,mB,2BAGP,WACCnH,EAAgB,mBAEZ/C,KAAKuH,UAAUhD,eAClBvE,KAAK6H,gBAAgBsC,YAArB,UAAsCnK,KAAKuH,UAAU1C,YAAYwB,cAAjE,WAEArG,KAAK0I,iBAAiBtC,OAAO,UAI7BpG,KAAK6H,gBAAgBsC,YAArB,UAAsCnK,KAAKuH,UAAU1C,YAAYyB,cAAjE,WAEAtG,KAAK0I,iBAAiBtC,OAAO,e,gMCzQXgE,E,WACpB,WAAYC,EAAOC,EAAMC,GAAU,Y,4FAAA,SAClCvK,KAAKsB,WAAa+I,EAClBrK,KAAKuH,UAAY+C,EACjBtK,KAAKwK,cAAgBD,EAErBvK,KAAKyK,aAAe,IAAI1K,EAGxBC,KAAK0K,cAAgB,IAAI3K,EAGzBC,KAAK2K,YAAc,IAAI5K,EAGvBC,KAAK4K,sBAAwB,IAAI7K,EAGjCC,KAAK6K,kBAAoB,IAAI9K,EAG7BC,KAAK8K,cAAgB,IAAI/K,EAEzBC,KAAK+K,YAAc,IAAIhL,EAEvBC,KAAKgL,YAAc,IAAIjL,EAGvBC,KAAKiL,UAAY,IAAIlL,EAGrBC,KAAKkL,aAAe,IAAInL,EAExBC,KAAK4H,QAAU,IAAI7H,EAEnBC,KAAKmL,eAAiB,IAAIpL,EAE1BC,KAAK+H,WAAa,IAAIhI,EAEtBC,KAAKsB,WAAWmG,UAAU2D,iBAAiB,SAAS,kBAAM,EAAKV,cAActE,YAE7EpG,KAAKsB,WAAWmG,UAAU2D,iBAAiB,SAAS,kBAAM,EAAKR,sBAAsBxE,YAGrFpG,KAAKsB,WAAWkG,WAAW4D,iBAAiB,SAAS,SAACnB,GAAD,OAAW,EAAKU,YAAYvE,OAAO6D,EAAMnB,WAG9F9I,KAAKsB,WAAWqG,YAAYyD,iBAAiB,SAAS,SAACnB,GAAD,OAAW,EAAKkB,eAAe/E,OAAO6D,EAAMnB,WAElG9I,KAAKsB,WAAW4G,iBAAiBkD,iBAAiB,SAAS,SAACnB,GAAD,OAAW,EAAKkB,eAAe/E,OAAO6D,EAAMnB,WAGvG9I,KAAKsB,WAAWC,WAAW6J,iBAAiB,aAAa,SAACnB,GAAD,OAAW,EAAKY,kBAAkBzE,OAAO6D,EAAMnB,OAAQ,YAEhH9I,KAAKsB,WAAWC,WAAW6J,iBAAiB,YAAY,SAACnB,GAAD,OAAW,EAAKY,kBAAkBzE,OAAO6D,EAAMnB,OAAQ,WAG/G9I,KAAKsB,WAAWC,WAAW6J,iBAAiB,aAAa,SAACnB,GAAD,OAAW,EAAKa,cAAc1E,OAAO6D,EAAMnB,OAAQ,YAE5G9I,KAAKsB,WAAWC,WAAW6J,iBAAiB,WAAW,SAACnB,GAAD,OAAW,EAAKc,YAAY3E,OAAO6D,EAAMnB,OAAQ,WAGxG9I,KAAKsB,WAAWwG,eAAesD,iBAAiB,aAAa,SAACnB,GAAD,OAAW,EAAKe,YAAY5E,OAAO6D,MAEhGjK,KAAKsB,WAAWwG,eAAesD,iBAAiB,YAAY,SAACnB,GAAD,OAAW,EAAKe,YAAY5E,OAAO6D,MAG/FjK,KAAKsB,WAAWwG,eAAesD,iBAAiB,QAAQ,kBAAM,EAAKH,UAAU7E,YAE7EpG,KAAKsB,WAAWwG,eAAesD,iBAAiB,QAAQ,kBAAM,EAAKF,aAAa9E,OAAO,EAAKmB,UAAUhD,kBAEtGvE,KAAKsB,WAAWsG,QAAQwD,iBAAiB,SAAS,kBAAM,EAAKxD,QAAQxB,YAErEpG,KAAKsB,WAAWyG,WAAWqD,iBAAiB,SAAS,kBAAM,EAAKrD,WAAW3B,YAK3EpG,KAAKsB,WAAW+G,cAAcgD,QAAO,SAACrC,EAAMS,GAAP,OAAiB,EAAK6B,UAAUtC,EAAMS,MAG3EzJ,KAAKsB,WAAWgH,gBAAgB+C,QAAO,SAACzE,GAAD,OAAU,EAAK2E,cAAc3E,MAGpE5G,KAAKuH,UAAUvC,aAAaqG,QAAO,kBAAM,EAAKG,wBAG9CxL,KAAKsB,WAAWiH,YAAY8C,QAAO,SAAC9E,EAAOkD,GAAR,OAAkB,EAAKgC,mBAAmBlF,EAAOkD,MAGpFzJ,KAAKuH,UAAUrC,iBAAiBmG,QAAO,SAACK,GAAD,OAAU,EAAKC,uBAAuBD,MAG7E1L,KAAKuH,UAAUpC,mBAAmBkG,QAAO,SAACO,EAAOC,GAAR,OAAkB,EAAKC,iBAAiBF,EAAOC,MAGxF7L,KAAKuH,UAAUnC,oBAAoBiG,QAAO,SAACU,EAAcC,GAAf,OAAgC,EAAKC,mBAAmBF,EAAcC,MAGhHhM,KAAKsB,WAAWkH,iBAAiB6C,QAAO,SAACrC,GAAD,OAAU,EAAKkD,iBAAiBlD,MAExEhJ,KAAKsB,WAAWmH,gBAAgB4C,QAAO,SAAChJ,EAAeM,GAAhB,OAA2B,EAAK8F,gBAAgBpG,EAAeM,MAEtG3C,KAAKsB,WAAWoH,iBAAiB2C,QAAO,SAACc,GAAD,OAAU,EAAKzD,iBAAiByD,M,yCAMzE,WACCnM,KAAKyK,aAAarE,W,uBAGnB,SAAU4C,EAAMS,GACf,OAAQA,GACP,IAAK,QACJzJ,KAAKsB,WAAWkG,WAAWjE,YAAYyF,GACvC,MACD,IAAK,OACJhJ,KAAKsB,WAAWC,WAAWgC,YAAYyF,GACvC,MACD,IAAK,UACJhJ,KAAKsB,WAAW2G,YAAY1E,YAAYyF,GAI1ChJ,KAAKsB,WAAWoG,mBAAmByC,YAAc,EACjDnK,KAAKsB,WAAWoG,mBAAmBhE,MAAQ,iB,gCAG5C,SAAmB6C,EAAOkD,GAEzB,GAAa,SAATA,GAAoBlD,EAAM9E,OAAS,EACtC,IAAK,IAAIoB,EAAI,EAAGA,EAAI0D,EAAM9E,OAAQoB,IACjC7C,KAAKsB,WAAWkG,WAAWhE,YAAY+C,EAAM1D,IAI/C,GAAa,QAAT4G,GAAmBlD,EAAM9E,OAAS,EACrC,IAAK,IAAIoB,EAAI,EAAGA,EAAI0D,EAAM9E,OAAQoB,IACjC7C,KAAKsB,WAAWC,WAAWiC,YAAY+C,EAAM1D,IAI/C,GAAa,WAAT4G,GAAsBlD,EAAM9E,OAAS,EACxC,IAAK,IAAIoB,EAAI,EAAGA,EAAI0D,EAAM9E,OAAQoB,IACjC7C,KAAKsB,WAAW2G,YAAYzE,YAAY+C,EAAM1D,M,8BAKjD,SAAiBmG,GAChBhJ,KAAKsB,WAAWC,WAAWiC,YAAYwF,K,2BAGxC,SAAcpC,GACb5G,KAAKsB,WAAWoG,mBAAmByC,YAAcvD,EAAKmD,OACtD/J,KAAKsB,WAAWoG,mBAAmBhE,MAAnC,iBAAqDkD,EAAKoD,S,gCAG3D,WACChK,KAAKsB,WAAWkG,WAAW9D,MAAM0I,QAAU,OAC3CpM,KAAKsB,WAAWqG,YAAYrF,UAAUC,OAAO,UAE7CvC,KAAKwK,cAAcnI,cAAc,iBAAiBqB,MAAM0I,QAAU,S,oCAGnE,SAAuBV,GACtB1L,KAAKwK,cAAcnI,cAAc,yBAAyB8H,YAAcuB,I,8BAGzE,SAAiBE,EAAOC,GACvB7L,KAAKwK,cAAcnI,cAAc,mBAAmB8H,YAAcyB,EAClE5L,KAAKwK,cAAcnI,cAAc,mBAAmB8H,YAAc0B,I,gCAGnE,SAAmBE,EAAcC,GAChC,IAAMK,EAAerM,KAAKwK,cAAcnI,cAAc,oBAChDiK,EAAetM,KAAKwK,cAAcnI,cAAc,oBAKtD,OAHAgK,EAAa3L,KAAO,gBACpB4L,EAAa5L,KAAO,gBAEZqL,GACP,IAAK,UACJM,EAAaE,KAAO,2BACpB,MACD,IAAK,QACJF,EAAaE,KAAO,0BACpB,MACD,IAAK,OACJF,EAAaE,KAAO,yBACpB,MACD,QACCC,QAAQC,IAAI,oBAGd,OAAQT,GACP,IAAK,UACJM,EAAaC,KAAO,2BACpB,MACD,IAAK,QACJD,EAAaC,KAAO,0BACpB,MACD,IAAK,OACJD,EAAaC,KAAO,yBACpB,MACD,QACCC,QAAQC,IAAI,uB,6BAIf,SAAgBpK,EAAeM,GAC9BD,EAAeL,EAAeM,K,8BAG/B,SAAiBwJ,IH3ElB,SAAqBA,GACpB,IAAMO,EAAStK,SAASC,cAAc,oBAChCsK,EAAgBvK,SAASC,cAAc,mBAI7C,OAFAsK,EAAcrK,UAAUG,IAAI,qBAEpB0J,GACP,IAAK,OACJ3J,YAAW,WACVkK,EAAOhJ,MAAMkJ,eAAe,SAC5BF,EAAOhJ,MAAMmJ,KAAO,OAClB,KACH,MACD,IAAK,QACJrK,YAAW,WACVkK,EAAOhJ,MAAMkJ,eAAe,QAC5BF,EAAOhJ,MAAMoJ,MAAQ,OACnB,KAILtK,YAAW,kBAAMkK,EAAOpK,UAAUG,IAAI,iBAAgB,MAEtDD,YAAW,kBAAMmK,EAAcrK,UAAUC,OAAO,uBAAsB,MAEtEC,YAAW,kBAAMkK,EAAOpK,UAAUC,OAAO,iBAAgB,KGmDxDwK,CAAYZ,Q,gMC5NOa,E,WACpB,WAAY1F,EAAO2F,GAAM,Y,4FAAA,SACxBjN,KAAKuH,UAAYD,EACjBtH,KAAKkN,UAAYD,EAEbjN,KAAKkN,UAAUrN,eAAe,kBACjCG,KAAKkN,UAAUxC,cAAcW,QAAO,kBAAM,EAAK8B,iBAG5CnN,KAAKkN,UAAUrN,eAAe,0BACjCG,KAAKkN,UAAUtC,sBAAsBS,QAAO,kBAAM,EAAK+B,uBAGpDpN,KAAKkN,UAAUrN,eAAe,kBACjCG,KAAKkN,UAAUpC,cAAcO,QAAO,SAAClE,GAAD,OAAiB,EAAKkG,WAAWlG,MAGlEnH,KAAKkN,UAAUrN,eAAe,YACjCG,KAAKkN,UAAUtF,QAAQyD,QAAO,kBAAM,EAAKiC,e,gDAK3C,WACCtN,KAAKuH,UAAUgG,yB,+BAIhB,WACCvN,KAAKuH,UAAUR,2B,wBAGhB,SAAWI,GACVnH,KAAKuH,UAAUiG,eAAerG,K,uBAG/B,WACCnH,KAAKuH,UAAUkG,8B,gMClCIC,E,WACpB,WAAYpD,EAAMD,I,4FAAO,SACxBrK,KAAKoB,aAAe,IACpBpB,KAAK4J,cAAgB,EACrB5J,KAAKqB,aAAe,EAEpBrB,KAAKuH,UAAY+C,EACjBtK,KAAKsB,WAAa+I,EAElBrK,KAAK2N,iBAAmB,IAAI5N,EAC5BC,KAAK4N,SAAW,IAAI7N,EACpBC,KAAK6N,YAAc,IAAI9N,EACvBC,KAAK8N,gBAAkB,IAAI/N,E,4CAG5B,WACCC,KAAKuH,UAAUpG,aAAayI,cAAgB,EAC5C5J,KAAKuH,UAAU7F,cAAckI,cAAgB,EAE7C5J,KAAK+N,e,wBAGN,WACC/N,KAAK2N,iBAAiBvH,W,sBAGvB,WACC,GAAIpG,KAAKuH,UAAUpG,aAAayI,cAAgB5J,KAAKuH,UAAUxC,SAASpE,KACvEoC,EAAgB,gCAIjB,OAAQ/C,KAAKuH,UAAUxC,SAASrE,MAC/B,IAAK,SACJV,KAAKgO,eAAehO,KAAKuH,UAAUxC,UAEnC,MACD,IAAK,oBACJ/E,KAAKiO,kBAAkBjO,KAAKuH,UAAUxC,UAEtC,MACD,IAAK,kBACJ/E,KAAKkO,iBAAiBlO,KAAKuH,UAAUxC,UAErC,MACD,IAAK,SACJ/E,KAAKmO,eAAenO,KAAKuH,UAAUxC,UAEnC,MACD,IAAK,kBACJ/E,KAAKoO,iBAAiBpO,KAAKuH,UAAUxC,UAErC,MACD,IAAK,oBACJ/E,KAAKqO,kBAAkBrO,KAAKuH,UAAUxC,UACtC,MACD,IAAK,kBACJ/E,KAAKsO,iBAAiBtO,KAAKuH,UAAUxC,a,4BAMxC,WACC,IAAIwJ,EAAiB1M,KAAKC,MAAMD,KAAKE,SAAW/B,KAAKuH,UAAU5C,qBAAqBlD,QAEhFzB,KAAKuH,UAAUhD,cAClBvE,KAAK4N,SAASxH,OAAOpG,KAAKuH,UAAU5C,qBAAqB4J,IAEzDvO,KAAK4N,SAASxH,OAAOpG,KAAKuH,UAAU3C,qBAAqB2J,IAG1D7L,EAAe,sBAAuB,Y,+BAGvC,WAAoB,WACf8L,EAAgB3M,KAAKC,MAAMD,KAAKE,SAAW/B,KAAKsB,WAAWC,WAAWC,SAASC,QAG/EzB,KAAKsB,WAAWC,WAAWC,SAASC,OAAS,IAChCzB,KAAKsB,WAAWC,WAAWC,SAASgN,GL0DxClM,UAAUG,IAAI,eKxD1BM,EAAgB,uBAEhBP,YAAW,kBAAM,EAAKqL,YAAYzH,OAAO,EAAK9E,WAAWC,WAAWC,SAASgN,MAAiB,Q,+BAKhG,SAAkBxF,EAAMW,GAIvB,IAHA,IAAIL,EAAY,GAGPzG,EAAI,EAAGA,EAAImG,EAAKpI,OAAS+I,EAAW9G,IAAK,CACjD,IAAI0G,EAAI1H,KAAKC,MAAsB,EAAhBD,KAAKE,WACM,IAA1BuH,EAAUE,QAAQD,GACrBD,EAAUnJ,KAAKoJ,GAEf1G,IAIF,GAAI7C,KAAKuH,UAAUhD,cAClB,IAAK,IAAI1B,EAAI,EAAGA,EAAIyG,EAAU7H,OAAQoB,IACrC7C,KAAK4N,SAASxH,OAAOpG,KAAKuH,UAAU5C,qBAAqB2E,EAAUzG,UAGpE,IAAK,IAAIA,EAAI,EAAGA,EAAIyG,EAAU7H,OAAQoB,IACrC7C,KAAK4N,SAASxH,OAAOpG,KAAKuH,UAAU3C,qBAAqB0E,EAAUzG,KAIrEH,EAAe,sBAAuB,Y,4BAGvC,SAAesG,GACd,GAAIhJ,KAAKuH,UAAU7F,cAAcL,aAAc,CAC9C,IAAIoN,EAAOzO,KAAKuH,UAAU7F,cAAcL,aAAe2H,EAAKpI,OAExD6N,EAAO,GACVzO,KAAKuH,UAAU7F,cAAcL,aAAe,EAE5CoN,EAAO5M,KAAK6M,IAAID,GAChBzO,KAAKuH,UAAU7F,cAAcN,cAAgBqN,GAE7CzO,KAAKuH,UAAU7F,cAAcL,aAAeoN,OAG7CzO,KAAKuH,UAAU7F,cAAcN,cAAgB4H,EAAKpI,OAGnDZ,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAElDX,KAAK8N,gBAAgB1H,W,8BAGtB,SAAiB4C,GAIhB,GAAiB,mBAAbA,EAAKlI,KAOR,OANAd,KAAKuH,UAAU7F,cAAcN,cAAgB4H,EAAKpI,OAElDZ,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,UAElDX,KAAK8N,gBAAgB1H,SAKtB,GAAiB,YAAb4C,EAAKlI,KAAoB,CAC5B,IAAIC,EAAaiI,EAAKjI,aAEtB,GAAkB4N,MAAd5N,EACH,OAOD,OAJAf,KAAKuH,UAAU7F,cAAcN,aAAeL,OAE5Cf,KAAK8N,gBAAgB1H,SAMtB,GAAI4C,EAAKjI,WAAY,CACpB,IAAIA,EAAaiI,EAAKjI,aAEtB,GAAIf,KAAKuH,UAAU7F,cAAcL,aAAc,CAC9C,IAAIoN,EAAOzO,KAAKuH,UAAU7F,cAAcL,aAAeN,EAEnD0N,EAAO,GACVzO,KAAKuH,UAAU7F,cAAcL,aAAe,EAE5CoN,EAAO5M,KAAK6M,IAAID,GAChBzO,KAAKuH,UAAU7F,cAAcN,cAAgBqN,GAE7CzO,KAAKuH,UAAU7F,cAAcL,aAAeoN,OAI5CzO,KAAKuH,UAAU7F,cAAcN,cAD1BL,GAG0CiI,EAAKpI,OAKrDZ,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAElDX,KAAK8N,gBAAgB1H,W,+BAGtB,SAAkB4C,GAOjB,GAAIhJ,KAAKuH,UAAU7F,cAAcL,aAAc,CAC9C,IAAIoN,EAAOzO,KAAKuH,UAAU7F,cAAcL,aAAe2H,EAAKpI,OAExD6N,EAAO,GACVzO,KAAKuH,UAAU7F,cAAcL,aAAe,EAE5CoN,EAAO5M,KAAK6M,IAAID,GAChBzO,KAAKuH,UAAU7F,cAAcN,cAAgBqN,GAE7CzO,KAAKuH,UAAU7F,cAAcL,aAAeoN,OAG7CzO,KAAKuH,UAAU7F,cAAcN,cAAgB4H,EAAKpI,OAYnD,GATiB,eAAboI,EAAKlI,OACRd,KAAK4O,oBACL5O,KAAKuO,kBAGW,cAAbvF,EAAKlI,MACRd,KAAKuO,iBAGW,kBAAbvF,EAAKlI,KAA0B,CAClC,IAAIC,EAAaiI,EAAKjI,aACtBf,KAAKuH,UAAUpG,aAAaE,cAAgBN,EAC5Cf,KAAKuO,iBAGNvO,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAElDX,KAAK8N,gBAAgB1H,W,4BAGtB,SAAe4C,GACdhJ,KAAKuH,UAAUpG,aAAaE,cAAgB2H,EAAKpI,OACjDZ,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAElDX,KAAK8N,gBAAgB1H,W,8BAGtB,SAAiB4C,GAChB,GAAiB,WAAbA,EAAKlI,KAAmB,CAC3B,IAAIC,EAAaiI,EAAKjI,aAOtB,OALAf,KAAKuH,UAAUpG,aAAaE,aAAeN,EAC3Cf,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,UAElDX,KAAK8N,gBAAgB1H,SAKtB,GAAiB,YAAb4C,EAAKlI,KAaR,OAZWd,KAAKuH,UAAUpG,aAAayI,cAAgBZ,EAAKrI,KAAOqI,EAAKpI,OAE7D,GACVZ,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAClDX,KAAKuH,UAAUpG,aAAayI,cAAgB,IAE5C5J,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAClDX,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKpI,aAGnDZ,KAAK8N,gBAAgB1H,SAKtB,GAAI4C,EAAKjI,WAAY,CACpB,IAAIA,EAAaiI,EAAKjI,aAEtBf,KAAKuH,UAAUpG,aAAaE,cAAgBN,EAC5Cf,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAElDX,KAAK8N,gBAAgB1H,Y,8BAIvB,SAAiB4C,GAChB,GAAIhJ,KAAKuH,UAAU7F,cAAcL,aAAc,CAC9C,IAAIoN,EAAOzO,KAAKuH,UAAU7F,cAAcL,aAAe2H,EAAKpI,OAExD6N,EAAO,GACVzO,KAAKuH,UAAU7F,cAAcL,aAAe,EAE5CoN,EAAO5M,KAAK6M,IAAID,GAChBzO,KAAKuH,UAAU7F,cAAcN,cAAgBqN,GAE7CzO,KAAKuH,UAAU7F,cAAcL,aAAeoN,OAG7CzO,KAAKuH,UAAU7F,cAAcN,cAAgB4H,EAAKpI,OAGnDZ,KAAKuH,UAAUpG,aAAaE,cAAgB2H,EAAKpI,OACjDZ,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAElDX,KAAK8N,gBAAgB1H,W,+BAGtB,SAAkB4C,GAOjB,GAAiB,YAAbA,EAAKlI,KAIR,OAHAd,KAAK4O,yBACL5O,KAAKuO,iBAKN,GAAiB,UAAbvF,EAAKlI,KAKR,OAJAd,KAAKuO,sBAELvO,KAAK8N,gBAAgB1H,SAWtB,GANiB,YAAb4C,EAAKlI,OACRd,KAAK4O,oBAEL5O,KAAKuH,UAAUpG,aAAaE,cAAgB2H,EAAKpI,QAGjC,gBAAboI,EAAKlI,KAOR,OANAd,KAAKuO,iBAELvO,KAAKuH,UAAUpG,aAAaC,cAAgB4H,EAAKpI,YAEjDZ,KAAK8N,gBAAgB1H,SAStB,GAJiB,aAAb4C,EAAKlI,MACRd,KAAK6O,kBAAkB7F,EAAMhJ,KAAKsB,WAAWC,WAAWC,SAASC,QAGjD,SAAbuH,EAAKlI,KAAiB,CAGzB,IAAK,IAAI+B,EAAI,EAAGA,EAAI7C,KAAKsB,WAAWC,WAAWC,SAASC,OAAQoB,IAC3D7C,KAAKsB,WAAWC,WAAWC,SAASqB,GAAGP,UAAUQ,SAAS,mBAC7D9C,KAAK4O,kBAAkB5O,KAAKsB,WAAWC,WAAWC,SAASqB,IAC3DA,KAIF7C,KAAK6O,kBAAkB7F,EAAM,GAG9B,GAAiB,YAAbA,EAAKlI,KAAoB,CAC5B,IAAIC,EAAaiI,EAAKjI,aACtBf,KAAKuH,UAAUpG,aAAaE,cAAgBN,EAE5Cf,KAAK6O,kBAAkB7F,EAAM,GAGb,YAAbA,EAAKlI,OACRd,KAAKuH,UAAUpG,aAAaE,cAAgB2H,EAAKpI,OAEjDZ,KAAKuO,kBAGNvO,KAAKuH,UAAUpG,aAAayI,eAAiBZ,EAAKrI,KAElDX,KAAK8N,gBAAgB1H,c,gMChXF0I,E,WACpB,WAAYC,EAAgBC,EAAgBzH,EAAWpE,GAAW,Y,4FAAA,SACjEnD,KAAK+O,eAAiBA,EACtB/O,KAAKgP,eAAiBA,EACtBhP,KAAKuH,UAAYA,EACjB,IAAM0H,EAAkB9L,EAExBnD,KAAKkP,iBAAmBD,EAAgB5M,cAAc,uBACtDrC,KAAKmP,sBAAwBF,EAAgB5M,cAAc,4BAC3DrC,KAAKoP,sBAAwBH,EAAgB5M,cAAc,4BAC3DrC,KAAKqP,YAAcJ,EAAgB5M,cAAc,2BAEjDrC,KAAKsP,iBAAmBL,EAAgB5M,cAAc,uBACtDrC,KAAKuP,sBAAwBN,EAAgB5M,cAAc,4BAC3DrC,KAAKwP,sBAAwBP,EAAgB5M,cAAc,4BAC3DrC,KAAKyP,YAAcR,EAAgB5M,cAAc,2BAEjDrC,KAAK+O,eAAepB,iBAAiBtC,QAAO,WAC3C,EAAKqE,eACL,EAAKC,mBAEN3P,KAAKgP,eAAerB,iBAAiBtC,QAAO,WAC3C,EAAKqE,eACL,EAAKC,mBAGN3P,KAAKgP,eAAelB,gBAAgBzC,QAAO,kBAAM,EAAKuE,iBACtD5P,KAAKgP,eAAelB,gBAAgBzC,QAAO,kBAAM,EAAKuE,iBAEtD5P,KAAK0P,eACL1P,KAAK2P,gB,iDAKN,WACC3P,KAAKkP,iBAAiB/E,YAAcnK,KAAK+O,eAAe3N,aACxDpB,KAAKoP,sBAAsBjF,YAAcnK,KAAK+O,eAAenF,cAC7D5J,KAAKqP,YAAY3L,MAAMmM,MAAQ7P,KAAK+O,eAAe3N,aAAe,IAElEpB,KAAKsP,iBAAiBnF,YAAcnK,KAAKgP,eAAe5N,aACxDpB,KAAKwP,sBAAsBrF,YAAcnK,KAAKgP,eAAepF,cAC7D5J,KAAKyP,YAAY/L,MAAMmM,MAAQ7P,KAAKgP,eAAe5N,aAAe,M,2BAGnE,WACCpB,KAAKmP,sBAAsBhF,YAAcnK,KAAK+O,eAAe1N,aAC7DrB,KAAKoP,sBAAsBjF,YAAcnK,KAAK+O,eAAenF,cAE7D5J,KAAKuP,sBAAsBpF,YAAcnK,KAAKgP,eAAe3N,aAC7DrB,KAAKwP,sBAAsBrF,YAAcnK,KAAKgP,eAAepF,gB,yBAG9D,WAAc,IACTkG,EACAC,EACA7N,EAHS,OAeb,OAVIlC,KAAKuH,UAAUhD,eAClBuL,EAAiB,mBACjBC,EAAkB,mBAClB7N,EAAY,UAEZ4N,EAAiB,mBACjBC,EAAkB,mBAClB7N,EAAY,QAGLlC,KAAKuH,UAAUxC,SAASjE,MAC/B,IAAK,WACL,IAAK,OACL,IAAK,QACL,IAAK,WACL,IAAK,aACL,IAAK,WACJsD,EAAsB0L,EAAgB5N,GACtCuB,EAAgBsM,EAAiB,SAAU,+CAE3CvN,YAAW,WACVR,EAAe+N,GACfhN,EAAgB,0BACd,KAEH/C,KAAK0P,eACL1P,KAAK2P,gBAEL,MAED,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,UACL,IAAK,WACL,IAAK,WACL,IAAK,gBACL,IAAK,WACL,IAAK,WACJ3M,EAAqB8M,EAAgB,SAAS,kCAC9C/M,EAAgB,iBAEhB/C,KAAK2P,gBACL,MAED,IAAK,WACJvL,EAAsB0L,EAAgB5N,GAEtCuB,EAAgBsM,EAAiB,cAAe,sCAEhDvN,YAAW,WACVR,EAAe+N,GACfhN,EAAgB,wBACd,KAEH/C,KAAK0P,eACL1P,KAAK2P,gBAEL,MAED,IAAK,cACJnN,YAAW,WACV4B,EAAsB0L,EAAgB5N,GACtCuB,EAAgBsM,EAAiB,cAAe,sCAEhD/N,EAAe+N,GACfhN,EAAgB,wBACd,KAEH/C,KAAK0P,eACL1P,KAAK2P,gBAEL,MAED,IAAK,QACJvL,EAAsB0L,EAAgB5N,GAEtC0B,EAAwBmM,EAAiB,cAAe,sCAExDvN,YAAW,WACVR,EAAe+N,GACfhN,EAAgB,kBACd,KAEH/C,KAAK0P,eACL1P,KAAK2P,gBAEL,MAED,IAAK,WACL,IAAK,OACJ3M,EAAqB8M,GAErB/M,EAAgB,iBAEhB/C,KAAK2P,gBAELnN,YAAW,kBAAM4B,EAAsB0L,EAAgB5N,KAAY,KAEnEM,YAAW,kBAAMoB,EAAwBmM,EAAiB,cAAe,wCAAuC,KAEhHvN,YAAW,kBAAMR,EAAe+N,KAAkB,KAElDvN,YAAW,kBAAMO,EAAgB,wBAAuB,KAExDP,YAAW,kBAAM,EAAKkN,iBAAgB,KAEtClN,YAAW,kBAAM,EAAKmN,kBAAiB,KAEvC,MAED,IAAK,eACJ/L,EAAwBkM,EAAgB,SAAU,6CAElDtN,YAAW,WACVR,EAAe8N,GACf/M,EAAgB,yBACd,KAEH/C,KAAK0P,eAEL,MAED,IAAK,SACJ1N,EAAe8N,GAEf/M,EAAgB,iBAEhB/C,KAAK0P,eAEL,MAED,IAAK,kBACL,IAAK,aACJtL,EAAsB0L,EAAgB5N,GNF1C,SAAiCG,EAAeY,EAAWC,EAAK8M,GAK/D,IAJA,IAAM7M,EAAYf,SAASC,cAAcA,GAAee,cAEpD6M,EAAgB,GAEXpN,EAAI,EAAGA,EMDqF,ENCnEA,IAAK,CACtC,IAAMQ,EAAQjB,SAASkB,cAAc,OACrC2M,EAAc9P,KAAKkD,GAGpB4M,EAAc3P,SAAQ,SAAC4P,EAAM3P,GAC5B2P,EAAKhN,IMPgD,8CNSvC,IAAV3C,EACH2P,EAAKxM,MAAMC,UAAY,gBACH,IAAVpD,IACV2P,EAAKxM,MAAMC,UAAY,kBAGxBuM,EAAKjN,UMfsC,SNiB3CT,YAAW,WACVW,EAAUI,YAAY2M,GACtBnN,EAAgB,wBAChBP,YAAW,kBAAMW,EAAUK,YAAY0M,KAAO,OACpC,IAAR3P,MMrBD4P,CAAwBJ,GAExBvN,YAAW,kBAAMR,EAAe+N,KAAkB,KAElD/P,KAAK0P,eACL1P,KAAK2P,gBAEL,MAED,IAAK,YACJ3M,EAAqB8M,EAAgB,YAAa,6CAElD9P,KAAK0P,eAEL,MAED,IAAK,WACJtL,EAAsB0L,EAAgB5N,GAEtCa,EAAgB,iBAEhBc,EAAuBkM,EAAiB,kBAAmB,qCAAsC,gBAEjG/P,KAAK0P,eACL1P,KAAK2P,gBAEL,MAED,IAAK,kBACJvL,EAAsB0L,EAAgB5N,GAEtC2B,EAAuBkM,EAAiB,gBAAiB,uCAAwC,mBAEjG/P,KAAK0P,eACL1P,KAAK2P,sB,gMC3OYS,E,WACpB,WAAYrB,EAAgBC,EAAgB/B,GAAM,Y,4FAAA,SACjDjN,KAAK+O,eAAiBA,EACtB/O,KAAKgP,eAAiBA,EACtBhP,KAAKkN,UAAYD,EAEbjN,KAAKkN,UAAUrN,eAAe,iBACjCG,KAAKkN,UAAUhC,aAAaG,QAAO,kBAAM,EAAKgF,cAG3CrQ,KAAKkN,UAAUrN,eAAe,YACjCG,KAAKkN,UAAUtF,QAAQyD,QAAO,kBAAM,EAAKiC,e,6CAI3C,SAASgD,GACLA,EACFtQ,KAAK+O,eAAewB,WAEpBvQ,KAAKgP,eAAeuB,a,uBAItB,WACCvQ,KAAK+O,eAAenH,e,gMCtBD4I,E,WACpB,WAAYlG,EAAMD,EAAOoG,EAAcC,EAAczD,GAAM,Y,4FAAA,SAC1DjN,KAAKuH,UAAY+C,EACjBtK,KAAKsB,WAAa+I,EAClBrK,KAAK4F,QAAU6K,EACfzQ,KAAK6F,QAAU6K,EACf1Q,KAAKkN,UAAYD,EAEbjN,KAAKkN,UAAUrN,eAAe,iBACjCG,KAAKkN,UAAUzC,aAAaY,QAAO,SAACrC,EAAMS,GAAP,OAAiB,EAAKkH,WAAW3H,EAAMS,MAGvEzJ,KAAKkN,UAAUrN,eAAe,gBACjCG,KAAKkN,UAAUvC,YAAYU,QAAO,SAACpB,GAAD,OAAW,EAAK2G,cAAc3G,MAG7DjK,KAAKkN,UAAUrN,eAAe,sBACjCG,KAAKkN,UAAUrC,kBAAkBQ,QAAO,SAACpB,EAAOlB,GAAR,OAAkB,EAAK8H,aAAa5G,EAAOlB,MAGhF/I,KAAKkN,UAAUrN,eAAe,kBACjCG,KAAKkN,UAAUpC,cAAcO,QAAO,SAACpB,EAAOlB,GAAR,OAAkB,EAAK+H,eAAe7G,EAAOlB,MAG9E/I,KAAKkN,UAAUrN,eAAe,gBACjCG,KAAKkN,UAAUnC,YAAYM,QAAO,SAACpB,EAAOlB,GAAR,OAAkB,EAAK+H,eAAe7G,EAAOlB,MAG5E/I,KAAKkN,UAAUrN,eAAe,gBACjCG,KAAKkN,UAAUlC,YAAYK,QAAO,SAACpB,GAAD,OAAW,EAAKe,YAAYf,MAG3DjK,KAAKkN,UAAUrN,eAAe,cACjCG,KAAKkN,UAAUjC,UAAUI,QAAO,kBAAM,EAAKa,sBAGxClM,KAAKkN,UAAUrN,eAAe,aACjCG,KAAKkN,UAAUtF,QAAQyD,QAAO,kBAAM,EAAK0F,uBACzC/Q,KAAKkN,UAAUtF,QAAQyD,QAAO,kBAAM,EAAK2F,yBAGtChR,KAAKkN,UAAUrN,eAAe,mBACjCG,KAAKkN,UAAU/B,eAAeE,QAAO,SAACpB,GAAD,OAAW,EAAKgH,gBAAgBhH,MAGlEjK,KAAKkN,UAAUrN,eAAe,mBACjCG,KAAKkN,UAAU/B,eAAeE,QAAO,SAACpB,GAAD,OAAW,EAAKiH,iBAAiBjH,MAGnEjK,KAAKuH,UAAU1H,eAAe,sBACjCG,KAAKuH,UAAUtC,kBAAkBoG,QAAO,kBAAM,EAAKsF,gBAGhD3Q,KAAKuH,UAAU1H,eAAe,kBACjCG,KAAKuH,UAAUvC,aAAaqG,QAAO,kBAAM,EAAK0F,uBAC9C/Q,KAAKuH,UAAUvC,aAAaqG,QAAO,kBAAM,EAAK2F,yBAG3ChR,KAAK4F,QAAQ/F,eAAe,aAC/BG,KAAK4F,QAAQgI,SAASvC,QAAO,SAACrC,GAAD,OAAU,EAAKmI,cAAcnI,MAGvDhJ,KAAK6F,QAAQhG,eAAe,aAC/BG,KAAK6F,QAAQ+H,SAASvC,QAAO,SAACrC,GAAD,OAAU,EAAKmI,cAAcnI,MAGvDhJ,KAAK4F,QAAQ/F,eAAe,gBAC/BG,KAAK4F,QAAQiI,YAAYxC,QAAO,SAACrC,GAAD,OAAU,EAAKoI,iBAAiBpI,MAG7DhJ,KAAK6F,QAAQhG,eAAe,gBAC/BG,KAAK6F,QAAQgI,YAAYxC,QAAO,SAACrC,GAAD,OAAU,EAAKoI,iBAAiBpI,MAG7DhJ,KAAKkN,UAAUrN,eAAe,eACjCG,KAAKkN,UAAUnF,WAAWsD,QAAO,kBAAM,EAAKgG,mB,+CAI9C,WACCrR,KAAKsB,WAAWgQ,qBAAqBtR,KAAKuH,a,2BAG3C,SAAc0C,GACbjK,KAAKsB,WAAWiQ,eAAetH,K,0BAGhC,SAAaA,EAAOlB,GACnB,OAAQA,GACP,IAAK,QACJ/I,KAAKsB,WAAWkQ,wBAAwBvH,GACxC,MACD,IAAK,OACJjK,KAAKsB,WAAWmQ,2BAA2BxH,M,+BAK9C,WACCjK,KAAKsB,WAAWoQ,0B,4BAGjB,SAAezH,EAAOlB,GACrB,OAAQA,GACP,IAAK,QACJ/I,KAAKsB,WAAWqQ,cAAc1H,GAC9B,MACD,IAAK,OACJjK,KAAKsB,WAAWsQ,YAAY3H,M,yBAK/B,SAAYA,GACXjK,KAAKsB,WAAWuQ,kBAAkB5H,K,8BAGnC,WACCjK,KAAKsB,WAAWwQ,iBAAiB,gB,8BAGlC,SAAiB9I,GAChBhJ,KAAKsB,WAAWwQ,iBAAiB,aAAc9I,K,2BAGhD,SAAcA,GACbhJ,KAAKsB,WAAWuH,YAAYG,EAAM,QAAQ,K,6BAG3C,SAAgB7B,GACfnH,KAAKsB,WAAWyQ,oBAAoB5K,K,8BAGrC,SAAiB8C,GACZA,GAASjK,KAAKsB,WAAW6G,iBAAmB8B,GAASjK,KAAKsB,WAAW8G,iBACxEpI,KAAKsB,WAAW0Q,iBAAiB,QAE9B/H,GAASjK,KAAKsB,WAAW4G,kBAC5BlI,KAAKsB,WAAW0Q,iBAAiB,W,gCAInC,WACChS,KAAKsB,WAAW2Q,kB,2BAGjB,WRlHD,IAIKC,EAHEC,EACApJ,EACAhB,EAFAoK,EAAOC,OAAOC,SAASF,KACvBpJ,EAAQuJ,mBAAmBH,EAAKI,OAAO,IACvCxK,EAAa3F,SAASC,cAAc,eAIzC6P,EADY,gBAATnJ,EACS3G,SAASC,cAAc,iCAEvBD,SAASC,cAAc,gCAGtBmQ,QACbN,EAAU/N,OACV4D,EAAW9E,UAAY,+BAEvBiP,EAAUO,QACV1K,EAAW9E,UAAY,qC,sBS1CZ/B,EAAe,IAAIoD,EAEnBhD,EAAa,IAAI+F,EAAMnG,GAE9BgM,EAAY,IAAI9C,EAAU9I,EAAYJ,EAAckB,SAASC,cAAc,oBAIpEuD,GAFU,IAAIoH,EAAe9L,EAAcgM,GAEjC,IAAIQ,EAAQxM,EAAcI,IAEpCuE,EAAU,IAAI6H,EAAQxM,EAAcI,GAE7B,IAAIwN,EAAYlJ,EAASC,EAAS3E,EAAckB,SAASC,cAAc,oBAEjE,IAAI+N,EAAkBxK,EAASC,EAASqH,GAE1C,IAAIsD,EAAgBtP,EAAcI,EAAYsE,EAASC,EAASqH,GAExFhM,EAAawR,QAEbxF,EAAU7H,O","file":"main.bundle.js","sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","export default class Events {\r\n\tconstructor() {\r\n\t\tthis.listeners = [];\r\n\t}\r\n\r\n\tattach(listener) {\r\n\t\tthis.listeners.push(listener);\r\n\t}\r\n\r\n\tnotify(arg1, arg2) {\r\n\t\tthis.listeners.forEach((listener, index) => {\r\n\t\t\tthis.listeners[index](arg1, arg2);\r\n\t\t});\r\n\t}\r\n}\r\n","export default class Cards {\r\n\tconstructor(id, type, cost, effect, icon, name, sideEffect) {\r\n\t\tthis.id = id;\r\n\t\tthis.cost = cost;\r\n\t\tthis.type = type;\r\n\t\tthis.effect = effect;\r\n\t\tthis.icon = icon;\r\n\t\tthis.name = name;\r\n\t\tthis.sideEffect = sideEffect;\r\n\t}\r\n}\r\n","import Cards from './modules/cardsModel';\r\nimport {gameObserver} from './game';\r\nimport {boardModel} from './game';\r\n\r\n//START CREATING WARRIOR'S CARDS\r\nconst strike_w = new Cards(0, 'attack', 1, 6, 'images/cards/warrior/Strike.png', 'strike_w');\r\n\r\nconst bash = new Cards(1, 'attack', 1, 8, 'images/cards/warrior/Bash.png', 'bash');\r\n\r\nconst anger = new Cards(2, 'attackAddEffect', 1, 6, 'images/cards/warrior/anger.png', 'anger',\r\n\t() => {\r\n\t\tlet effect;\r\n\t\tif (gameObserver.activePlayer.healthPoints < 50) {\r\n\t\t\teffect = 13;\r\n\t\t} else {\r\n\t\t\teffect = 6;\r\n\t\t}\r\n\t\treturn effect;\r\n\t});\r\n\r\nconst bodySlam = new Cards(3, 'attackAddEffect', 2, 0, 'images/cards/warrior/BodySlam.png', 'bodySlam', () => {\r\n\tlet effect;\r\n\tif (gameObserver.activePlayer.defendPoints > 0) {\r\n\t\teffect = gameObserver.activePlayer.defendPoints;\r\n\t} else {\r\n\t\teffect = 0;\r\n\t}\r\n\treturn effect;\r\n});\r\n\r\nconst perfecedStrike = new Cards(4, 'attackAddEffect', 1, 6, 'images/cards/warrior/PerfectedStrike.png', 'perfectedStrike', () => 6 + boardModel.cardInHand.children.length);\r\n\r\nconst bludgeon = new Cards(5, 'attackAddEffect', 3, 12, 'images/cards/warrior/Bludgeon.png', 'bludgeon', () => {\r\n\tlet effect;\r\n\tif (gameObserver.passivePlayer.healthPoints > 50) {\r\n\t\teffect = 17;\r\n\t} else {\r\n\t\teffect = 12;\r\n\t}\r\n\treturn effect;\r\n});\r\n\r\nconst defend_w = new Cards(6, 'defend', 1, 5, 'images/cards/warrior/Defend_R.png', 'defend_w');\r\n\r\nconst armaments = new Cards(7, 'defendAddEffect', 1, 5, 'images/cards/warrior/Armaments.png', 'armaments', () => {\r\n\tlet effect;\r\n\tif (gameObserver.activePlayer.defendPoints === 0) {\r\n\t\teffect = 7;\r\n\t} else {\r\n\t\teffect = 5;\r\n\t}\r\n\treturn effect;\r\n});\r\n\r\nconst ironWave = new Cards(8, 'defendAndAttack', 1, 5, 'images/cards/warrior/IronWave.png', 'ironWave', () => 5);\r\n\r\nconst warcry = new Cards(9, 'defendDrawDiscard', 0, 1, 'images/cards/warrior/Warcry.png', 'warcry');\r\n\r\nconst bloodletting = new Cards(10, 'defendDrawDiscard', 0, 3, 'images/cards/warrior/Bloodletting.png', 'bloodletting');\r\n\r\nconst entrench = new Cards(11, 'defendAddEffect', 2, 2, 'images/cards/warrior/Entrench.png', 'entrench', () => gameObserver.activePlayer.defendPoints * 2 - gameObserver.activePlayer.defendPoints);\r\n\r\n//START CREATING ROGUE'S CARDS\r\nconst strike_r = new Cards(0, 'attack', 1, 6, 'images/cards/rogue/Strike_G.png', 'strike_r');\r\n\r\nconst daggerThrow = new Cards(1, 'attackDrawDiscard', 1, 9, 'images/cards/rogue/R_dagger-throw.png', 'daggerThrow');\r\n\r\nconst flechettes = new Cards(2, 'attackAddEffect', 1, 3, 'images/cards/rogue/Flechettes.png', 'flechettes', () => 3 * boardModel.cardInHand.children.length);\r\n\r\nconst riddleWithHoles = new Cards(3, 'attackAddEffect', 2, 7, 'images/cards/rogue/RiddleWithHoles.png', 'riddleWithHoles');\r\n\r\nconst slice = new Cards(4, 'attack', 0, 4, 'images/cards/rogue/Slice.png', 'slice');\r\n\r\nconst quickSlash = new Cards(5, 'attackDrawDiscard', 1, 7, 'images/cards/rogue/QuickSlash.png', 'quickSlash');\r\n\r\nconst survivor = new Cards(6, 'defendDrawDiscard', 1, 8, 'images/cards/rogue/Survivor.png', 'survivor');\r\n\r\nconst deflect = new Cards(7, 'defend', 0, 4, 'images/cards/rogue/Deflect.png', 'deflect');\r\n\r\nconst backFlip = new Cards(8, 'defendDrawDiscard', 1, 2, 'images/cards/rogue/Backflip.png', 'backFlip', () => 5);\r\n\r\nconst prepared = new Cards(9, 'defendDrawDiscard', 0, 1, 'images/cards/rogue/Prepared.png', 'prepared');\r\n\r\nconst expertise = new Cards(10, 'defendDrawDiscard', 1, 5, 'images/cards/rogue/Expertise.png', 'expertise');\r\n\r\nconst dash = new Cards(11, 'defendAndAttack', 2, 10, 'images/cards/rogue/Dash.png', 'dash', () => 8);\r\n\r\n//START CREATING MAGE'S CARDS\r\nconst strike_m = new Cards(0, 'attack', 1, 6, 'images/cards/mage/Strike_P.png', 'strike_m');\r\n\r\nconst cutThroughFate = new Cards(1, 'attackDrawDiscard', 1, 7, 'images/cards/mage/CutThroughFate.png', 'cutThroughFate', () => 2);\r\n\r\nconst reachHeaven = new Cards(2, 'attack', 2, 10, 'images/cards/mage/ReachHeaven.png', 'reachHeaven');\r\n\r\nconst signatureMove = new Cards(3, 'attackAddEffect', 2, 0, 'images/cards/mage/SignatureMove.png', 'signatureMove', () => gameObserver.passivePlayer.defendPoints);\r\n\r\nconst tantrum = new Cards(4, 'attackAddEffect', 1, 3, 'images/cards/mage/Tantrum.png', 'tantrum', () => 3 + (Math.floor(Math.random() * (6 - 1)) + 1));\r\n\r\nconst judjment = new Cards(5, 'attackAddEffect', 2, 0, 'images/cards/mage/Judgment.png', 'judjment', () => {\r\n\tlet effect;\r\n\tif (gameObserver.passivePlayer.healthPoints <= 15) {\r\n\t\teffect = 0;\r\n\t}\r\n\treturn effect;\r\n});\r\n\r\nconst masterReality = new Cards(6, 'defendAddEffect', 1, 5, 'images/cards/mage/MasterReality.png', 'masterReality', () => {\r\n\tlet effect;\r\n\tif (gameObserver.activePlayer.defendPoints == 0) {\r\n\t\teffect = 10;\r\n\t} else {\r\n\t\teffect = 5;\r\n\t}\r\n\treturn effect;\r\n});\r\n\r\nconst defend_m = new Cards(7, 'defend', 1, 5, 'images/cards/mage/Defend_P.png', 'defend_m');\r\n\r\nconst meditate = new Cards(8, 'defendAddEffect', 1, 3, 'images/cards/mage/Meditate.png', 'meditate');\r\n\r\nconst thirdEye = new Cards(9, 'defendDrawDiscard', 1, 7, 'images/cards/mage/ThirdEye.png', 'thirdEye');\r\n\r\nconst nirvana = new Cards(10, 'defendAddEffect', 1, 0, 'images/cards/mage/Nirvana.png', 'nirvana', () => gameObserver.passivePlayer.defendPoints);\r\n\r\nconst alpha = new Cards(11, 'defendDrawDiscard', 1, 4, 'images/cards/mage/Alpha.png', 'alpha');\r\n\r\n\r\nexport const skillCollection = {\r\n\twarrior: [strike_w, bash, anger, bodySlam, perfecedStrike, bludgeon, defend_w, armaments, ironWave, warcry, bloodletting, entrench],\r\n\trogue: [strike_r, daggerThrow, flechettes, riddleWithHoles, slice, quickSlash, survivor, deflect, backFlip, prepared, expertise, dash],\r\n\tmage: [strike_m, cutThroughFate, reachHeaven, signatureMove, tantrum, judjment, masterReality, defend_m, meditate, thirdEye, nirvana, alpha]\r\n};\r\n","// animation through all menu loading black screen\r\nfunction loading(target) {\r\n\tswitch (target) {\r\n\t\tcase 'mainMenuLoad':\r\n\t\t\tlet mainEl = document.createElement('div');\r\n\r\n\t\t\tmainEl.className = 'back-main-menu-anim';\r\n\r\n\t\t\tdocument.body.insertBefore(mainEl, document.querySelector('.wrapper-choose-menu'));\r\n\r\n\t\t\tsetTimeout(() => document.body.removeChild(mainEl), 1100);\r\n\t\t\tbreak;\r\n\t\tcase 'chooseMenuLoad':\r\n\t\t\tlet chooseEl = document.createElement('div');\r\n\r\n\t\t\tchooseEl.className = 'go-to-choose-menu-anim';\r\n\r\n\t\t\tdocument.body.insertBefore(chooseEl, document.querySelector('.wrapper-main-menu'));\r\n\r\n\t\t\tsetTimeout(() => document.body.removeChild(chooseEl), 1100);\r\n\t\t\tbreak;\r\n\t\tcase 'battleFieldLoad':\r\n\t\t\tlet battleEl = document.createElement('div');\r\n\r\n\t\t\tbattleEl.className = 'start-game-anim';\r\n\r\n\t\t\tdocument.body.insertBefore(battleEl, document.querySelector('.wrapper-choose-menu'));\r\n\r\n\t\t\tsetTimeout(() => document.body.removeChild(battleEl), 1100);\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n// starting play backgorundMusic\r\nfunction switchPlayPause() {\r\n\tconst hash = window.location.hash;\r\n\tconst state = decodeURIComponent(hash.substr(1));\r\n\tconst soundOffOn = document.querySelector('.soundIcon');\r\n\tlet backAudio;\r\n\r\n\tif (state == 'battle-field') {\r\n\t\tbackAudio = document.querySelector('.background-music-battlefield');\r\n\t} else {\r\n\t\tbackAudio = document.querySelector('.background-music-main-menu');\r\n\t}\r\n\r\n\tif (backAudio.paused) {\r\n\t\tbackAudio.play();\r\n\t\tsoundOffOn.className = 'fas fa-volume-up soundIcon';\r\n\t} else {\r\n\t\tbackAudio.pause();\r\n\t\tsoundOffOn.className = 'fas fa-volume-mute soundIcon';\r\n\t}\r\n}\r\n\r\nconst checkBackgroundAudio = (function (querySelector) {\r\n\tconst currentHash = [];\r\n\tconst mainAudio = document.querySelector('.background-music-main-menu');\r\n\tconst audio = document.querySelector('.background-music-battlefield');\r\n\tconst allAudio = document.querySelectorAll('.music');\r\n\r\n\treturn function () {\r\n\t\tcurrentHash.push(decodeURIComponent(window.location.hash.substr(1)));\r\n\r\n\t\tconst soundOffOn = document.querySelector(querySelector);\r\n\r\n\t\tif (currentHash[currentHash.length - 1] === 'battle-field' && [...allAudio].every(element => element.paused)) {\r\n\t\t\tmainAudio.pause();\r\n\t\t\taudio.pause();\r\n\t\t} else if (currentHash[currentHash.length - 1] === 'battle-field' && [...allAudio].some(element => element.paused)) {\r\n\t\t\tmainAudio.pause();\r\n\t\t\taudio.play();\r\n\t\t} else if (currentHash[currentHash.length - 1] === 'choose-menu' &&\r\n\t\t\tcurrentHash[currentHash.length - 2] === 'battle-field' && [...allAudio].every(element => element.paused)) {\r\n\t\t\tmainAudio.pause();\r\n\t\t\taudio.pause();\r\n\t\t} else if (currentHash[currentHash.length - 1] === 'choose-menu' &&\r\n\t\t\tcurrentHash[currentHash.length - 2] === 'battle-field' && [...allAudio].some(element => element.paused)) {\r\n\t\t\tmainAudio.play();\r\n\t\t\taudio.pause();\r\n\t\t}\r\n\r\n\t\tif ([...allAudio].every(element => element.paused)) {\r\n\t\t\tsoundOffOn.className = 'fas fa-volume-mute soundIcon';\r\n\t\t} else {\r\n\t\t\tsoundOffOn.className = 'fas fa-volume-up soundIcon';\r\n\t\t}\r\n\t};\r\n}('.soundIcon'));\r\n\r\n// shake display when character choosed\r\nfunction shakeAnimation(queryElement, direction = 'horizontal') {\r\n\tconst element = document.querySelector(queryElement);\r\n\r\n\tswitch (direction) {\r\n\t\tcase 'horizontal':\r\n\t\t\telement.classList.remove('shakeX');\r\n\t\t\tsetTimeout(() => element.classList.add('shakeX'), 0);\r\n\t\t\tsetTimeout(() => element.classList.remove('shakeX'), 400);\r\n\t\t\tbreak;\r\n\t\tcase 'vertical':\r\n\t\t\telement.classList.remove('shakeY');\r\n\t\t\tsetTimeout(() => element.classList.add('shakeY'), 0);\r\n\t\t\tsetTimeout(() => element.classList.remove('shakeY'), 400);\r\n\t\t\tbreak;\r\n\t\tcase 'mix':\r\n\t\t\telement.classList.remove('shakeMix');\r\n\t\t\tsetTimeout(() => element.classList.add('shakeMix'), 0);\r\n\t\t\tsetTimeout(() => element.classList.remove('shakeMix'), 400);\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nfunction createCardAnim(querySelector, amount) {\r\n\tlet elementAnim = document.querySelector(querySelector);\r\n\r\n\tswitch (amount) {\r\n\t\tcase 'single':\r\n\t\t\tfor (let i = 0; i < [...elementAnim.children].length; i++) {\r\n\t\t\t\tif (elementAnim.children[i].classList.contains('cardsDrawAnim')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\telementAnim.children[i].classList.add('cardsDrawAnim');\r\n\r\n\t\t\t\t\tplaySoundEffect('.push-card-audio');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'multiple':\r\n\t\t\t[...elementAnim.children].forEach((element, index) => setTimeout(() => {\r\n\t\t\t\telement.classList.add('cardsDrawAnim');\r\n\r\n\t\t\t\tplaySoundEffect('.push-card-audio');\r\n\t\t\t}, 250 * index));\r\n\t\t\tbreak;\r\n\t\tcase 'overlay':\r\n\t\t\t[...elementAnim.children].forEach(element => element.classList.add('cardsDrawAnim'));\r\n\t}\r\n}\r\n\r\nfunction discardCardAnim(querySelector) {\r\n\tquerySelector.classList.add('cardDiscard');\r\n}\r\n\r\nfunction endTurnAnim(side) {\r\n\tconst button = document.querySelector('.end-of-turn-btn');\r\n\tconst turnAnnouncer = document.querySelector('.players-action');\r\n\r\n\tturnAnnouncer.classList.add('players-turn-info');\r\n\r\n\tswitch (side) {\r\n\t\tcase 'left':\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tbutton.style.removeProperty('right');\r\n\t\t\t\tbutton.style.left = '5%';\r\n\t\t\t}, 500);\r\n\t\t\tbreak;\r\n\t\tcase 'right':\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tbutton.style.removeProperty('left');\r\n\t\t\t\tbutton.style.right = '5%';\r\n\t\t\t}, 500);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tsetTimeout(() => button.classList.add('endTurnAnim'), 1300);\r\n\r\n\tsetTimeout(() => turnAnnouncer.classList.remove('players-turn-info'), 2100);\r\n\r\n\tsetTimeout(() => button.classList.remove('endTurnAnim'), 1000);\r\n}\r\n\r\nfunction blockAnimationEffect(querySelector, className, src) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\tconst image = document.createElement('img');\r\n\r\n\timage.src = src;\r\n\timage.className = className;\r\n\r\n\tcontainer.appendChild(image);\r\n\r\n\tsetTimeout(() => container.removeChild(image), 1000);\r\n}\r\n\r\nfunction attackAnimation(querySelector, className, src) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\tconst image = document.createElement('img');\r\n\r\n\timage.src = src;\r\n\timage.style.transform = `rotate(${Math.floor(Math.random() * (360 - 1) + 1)}deg)`;\r\n\timage.className = className;\r\n\r\n\tcontainer.appendChild(image);\r\n\r\n\tsetTimeout(() => container.removeChild(image), 600);\r\n}\r\n\r\nfunction multipleAttackAnimation(querySelector, className, src, amountEffect) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\r\n\tlet effectStorage = [];\r\n\r\n\tfor (let i = 0; i < amountEffect; i++) {\r\n\t\tconst image = document.createElement('img');\r\n\t\teffectStorage.push(image);\r\n\t}\r\n\r\n\teffectStorage.forEach((elem, index) => {\r\n\t\telem.src = src;\r\n\r\n\t\tif (index === 1) {\r\n\t\t\telem.style.transform = 'rotate(30deg)';\r\n\t\t} else if (index === 2) {\r\n\t\t\telem.style.transform = 'rotate(315deg)';\r\n\t\t}\r\n\r\n\t\telem.className = className;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tcontainer.appendChild(elem);\r\n\t\t\tplaySoundEffect('.strike-attack-audio');\r\n\t\t\tsetTimeout(() => container.removeChild(elem), 400);\r\n\t\t}, index * 300);\r\n\t});\r\n}\r\n\r\nfunction standartAttackAnimation(querySelector, className, src) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\tconst image = document.createElement('img');\r\n\r\n\timage.src = src;\r\n\timage.className = className;\r\n\r\n\tcontainer.appendChild(image);\r\n\r\n\tsetTimeout(() => container.removeChild(image), 400);\r\n}\r\n\r\nfunction ultimateSkillAnimation(querySelector, className, src, audio) {\r\n\tconst container = document.querySelector(querySelector).parentElement;\r\n\tconst overlay = document.querySelector('.players-overlay');\r\n\tconst overlayClose = document.querySelector('.overlay__close');\r\n\tconst image = document.createElement('img');\r\n\r\n\timage.src = src;\r\n\timage.className = className;\r\n\r\n\toverlay.classList.remove('hidden');\r\n\toverlay.classList.add('fade-in');\r\n\toverlayClose.classList.add('hidden');\r\n\r\n\tsetTimeout(() => {\r\n\t\tcontainer.appendChild(image);\r\n\r\n\t\tshakeAnimation(querySelector)\r\n\r\n\t\tplaySoundEffect(audio);\r\n\t}, 200);\r\n\r\n\tsetTimeout(() => {\r\n\t\tcontainer.removeChild(image);\r\n\t\toverlay.classList.add('fade-out');\r\n\r\n\t}, 800);\r\n\r\n\tsetTimeout(() => {\r\n\t\toverlay.classList.add('hidden');\r\n\t\toverlay.classList.remove('fade-in');\r\n\t\toverlay.classList.remove('fade-out');\r\n\t\toverlayClose.classList.remove('hidden');\r\n\t}, 1000);\r\n}\r\n\r\nfunction playSoundEffect(querySelector) {\r\n\tconst soundEffect = document.querySelector(querySelector);\r\n\r\n\tif (!soundEffect) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tsoundEffect.currentTime = 0;\r\n\r\n\tsoundEffect.play();\r\n}\r\n\r\nfunction attackAnimationEffect(querySelector, direction) {\r\n\tconst container = document.querySelector(querySelector);\r\n\r\n\tswitch (direction) {\r\n\t\tcase 'right':\r\n\t\t\tcontainer.classList.add('attackRight');\r\n\r\n\t\t\tsetTimeout(() => container.classList.remove('attackRight'), 1000);\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tcontainer.classList.add('attackLeft');\r\n\r\n\t\t\tsetTimeout(() => container.classList.remove('attackLeft'), 1000);\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nexport {\r\n\tloading, switchPlayPause, checkBackgroundAudio, shakeAnimation,\r\n\tcreateCardAnim, endTurnAnim, blockAnimationEffect, attackAnimation,\r\n\tplaySoundEffect, attackAnimationEffect, multipleAttackAnimation, discardCardAnim,\r\n\tstandartAttackAnimation, ultimateSkillAnimation\r\n};\r\n\r\n\r\n\r\n\r\n","import Events from './eventsModel';\r\nimport {skillCollection} from '../cards';\r\nimport {player1, player2} from '../game';\r\nimport {playSoundEffect, shakeAnimation} from '../animation_and_sound_effects/animation.js';\r\n\r\nexport default class Game {\r\n\tconstructor() {\r\n\t\tthis.activePlayer = null;               //        \r\n\t\tthis.passivePlayer = null;               //        \r\n\r\n\t\tthis.playerOneTurn = true;\r\n\t\tthis.playerTwoTurn = false;\r\n\r\n\t\tthis.playerOneClass = null;    //         \r\n\t\tthis.playerTwoClass = null;\r\n\r\n\t\tthis.playerOnePullOfCards = [];\r\n\t\tthis.playerTwoPullOfCards = [];\r\n\r\n\t\tthis.playersInfo = {};  //info from local storage about choose menu\r\n\r\n\t\tthis.dragCard = null;\r\n\t\tthis.tempCard = null; //   \r\n\r\n\t\t//    \r\n\t\tthis.selectionEnd = new Events();\r\n\r\n\t\t//    \r\n\t\tthis.selectionContinue = new Events();\r\n\r\n\t\t//     \r\n\t\tthis.choosePlayerInfo = new Events();\r\n\r\n\t\t//    \r\n\t\tthis.updatePlayersNames = new Events();\r\n\r\n\t\t//     \r\n\t\tthis.updatePlayersModels = new Events();\r\n\t}\r\n\r\n\tstart() {\r\n\t\tthis.init();\r\n\t};\r\n\r\n\tinit() {\r\n\t\tthis.setPlayersChoiceInfo('playersInfo');\r\n\t\tthis.setPlayersClasses();\r\n\t\tthis.setPlayersNames();\r\n\t\tthis.setPlayersModels();\r\n\t\tthis.setTextChooseInfo();\r\n\t\tthis.setActivePassivePlayer();\r\n\t};\r\n\r\n\t//  player1 & player2  gamemodel\r\n\tsetActivePassivePlayer() {\r\n\t\tthis.activePlayer = player1;\r\n\t\tthis.passivePlayer = player2;\r\n\t};\r\n\r\n\t//            json\r\n\tsetPlayersChoiceInfo(object) {\r\n\t\tlet temp = localStorage.getItem(object);\r\n\t\tthis.playersInfo = JSON.parse(temp);\r\n\t};\r\n\r\n\t//     \r\n\tsetPlayersClasses() {\r\n\t\tthis.playerOneClass = this.playersInfo.playerOneClass;\r\n\t\tthis.playerTwoClass = this.playersInfo.playerTwoClass;\r\n\t};\r\n\r\n\t//     \r\n\tsetPlayersNames() {\r\n\t\tthis.updatePlayersNames.notify(this.playersInfo.playerOneName, this.playersInfo.playerTwoName);\r\n\t};\r\n\r\n\t//     \r\n\tsetPlayersModels() {\r\n\t\tthis.updatePlayersModels.notify(this.playersInfo.playerOneClass, this.playersInfo.playerTwoClass);\r\n\t};\r\n\r\n\t//     \r\n\tsetTextChooseInfo() {\r\n\t\tif (this.playerOneTurn) {\r\n\t\t\tthis.choosePlayerInfo.notify(`${this.playersInfo.playerOneName} is choosing`);\r\n\t\t} else {\r\n\t\t\tthis.choosePlayerInfo.notify(`${this.playersInfo.playerTwoName} is choosing`);\r\n\t\t}\r\n\t};\r\n\r\n\t//    \r\n\tsetTurnPriority() {\r\n\t\tif (this.playerOneTurn) {\r\n\t\t\tthis.playerOneTurn = false;\r\n\t\t\tthis.playerTwoTurn = true;\r\n\t\t} else {\r\n\t\t\tthis.playerOneTurn = true;\r\n\t\t\tthis.playerTwoTurn = false;\r\n\t\t}\r\n\t};\r\n\r\n\t//         gameControl,      \r\n\tdefinePlayersCardSet() {\r\n\t\tlet cards = document.querySelectorAll('.cards');\r\n\r\n\t\t//  \r\n\t\tlet counter = document.getElementsByClassName('card-to-select').length;\r\n\r\n\t\t//           \r\n\t\tif (counter < 8 || counter >= 9) {\r\n\t\t\tplaySoundEffect('.confirm-failed-audio');\r\n\t\t\tshakeAnimation('.accept', 'horizontal');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet tempCardChoosePlayer = [];\r\n\r\n\t\t//  1   \r\n\t\tif (this.playerOneTurn) {\r\n\t\t\tfor (let i = 0; i < cards.length; i++) {\r\n\t\t\t\tif (cards[i].classList.contains('card-to-select')) {\r\n\t\t\t\t\ttempCardChoosePlayer.push(cards[i].dataset.info);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.playerOnePullOfCards = this.checkOnSelectedCards(tempCardChoosePlayer, this.playerOneClass);\r\n\t\t}\r\n\r\n\t\t//  2   \r\n\t\tif (this.playerTwoTurn) {\r\n\t\t\tfor (let i = 0; i < cards.length; i++) {\r\n\t\t\t\tif (cards[i].classList.contains('card-to-select')) {\r\n\t\t\t\t\ttempCardChoosePlayer.push(cards[i].dataset.info);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.playerTwoPullOfCards = this.checkOnSelectedCards(tempCardChoosePlayer, this.playerTwoClass);\r\n\t\t}\r\n\r\n\t\tplaySoundEffect('.confirm-audio');\r\n\r\n\t\t//    \r\n\t\tthis.setTurnPriority();\r\n\r\n\t\tthis.checkCardsSelectionEnd();\r\n\t};\r\n\r\n\t//      ID         SkillCollection   \r\n\tcheckOnSelectedCards(datainfo, search) {\r\n\t\tlet temp = [];\r\n\r\n\t\tfor (let i = 0; i < skillCollection[search].length; i++) {\r\n\t\t\tfor (let j = 0; j < datainfo.length; j++) {\r\n\t\t\t\tif (skillCollection[search][i]['id'] == datainfo[j]) {\r\n\t\t\t\t\ttemp.push(skillCollection[search][i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn temp;\r\n\t};\r\n\r\n\t//       ,   \r\n\tcheckCardsSelectionEnd() {\r\n\t\tlet counter = document.getElementsByClassName('card-to-select').length;\r\n\r\n\t\t//           \r\n\t\tif (counter < 8 || counter >= 9) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.playerOnePullOfCards.length > 1 && this.playerTwoPullOfCards.length > 1) {\r\n\t\t\tthis.selectionEnd.notify();\r\n\t\t} else {\r\n\t\t\tthis.selectionContinue.notify();\r\n\t\t\tthis.setTextChooseInfo();\r\n\t\t}\r\n\t};\r\n\r\n\t//        \r\n\tinitActionCard(eventTarget) {\r\n\t\tthis.dragCard = eventTarget;\r\n\r\n\t\tif (this.playerOneTurn) {\r\n\t\t\tthis.tempCard = this.playerOnePullOfCards.find(element => element.id == this.dragCard.dataset.info);\r\n\t\t} else {\r\n\t\t\tthis.tempCard = this.playerTwoPullOfCards.find((element) => element.id == this.dragCard.dataset.info);\r\n\t\t}\r\n\t};\r\n\r\n\t//         \r\n\tturnEndsNextPlayerTurn() {\r\n\t\tif (this.playerOneTurn) {\r\n\t\t\tthis.playerOneTurn = false;\r\n\t\t\tthis.playerTwoTurn = true;\r\n\t\t\tthis.activePlayer = player2;\r\n\t\t\tthis.passivePlayer = player1;\r\n\t\t} else {\r\n\t\t\tthis.playerOneTurn = true;\r\n\t\t\tthis.playerTwoTurn = false;\r\n\t\t\tthis.activePlayer = player1;\r\n\t\t\tthis.passivePlayer = player2;\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\n\r\n","import Events from './eventsModel';\r\nimport {skillCollection} from '../cards';\r\nimport {createCardAnim, playSoundEffect, endTurnAnim} from '../animation_and_sound_effects/animation.js';\r\n\r\nexport default class Board {\r\n\tconstructor(model) {\r\n\t\tthis.gameModel = model;\r\n\r\n\t\tthis.decWrapper = document.querySelector('.cards-choose-field');        // field for cards at the start when players are choosing\r\n\t\tthis.btnAccept = document.querySelector('.accept');               // player accept cards he chose\r\n\t\tthis.cardsChooseCounter = document.querySelector('.count');             // counter for amount of cards have been chosen(needs for alert)\r\n\t\tthis.cardInHand = document.querySelector('.card-in-hand-field');              // field for cards in hand each player\r\n\t\tthis.battleField = document.querySelector('.battle-field');            // play field\r\n\t\tthis.endTurn = document.querySelector('.end-of-turn-btn');             // end turn button\r\n\t\tthis.playersTurnInfo = document.querySelector('.players-action');\r\n\t\tthis.cardsPlayField = document.querySelector('.play-field');           // area for cards to drop and play their actions\r\n\t\tthis.soundOffOn = document.querySelector('.soundIcon');\r\n\r\n\t\tthis.playersOverlay = document.querySelector('.players-overlay');\r\n\t\tthis.playersDeck = document.querySelector('.players-overlay__cards');\r\n\t\tthis.playersDeckClose = document.querySelector('.overlay__close');\r\n\r\n\t\tthis.showDeckPlayer1 = document.querySelector('.player-1__pile-of-car');           //        \r\n\t\tthis.showDeckPlayer2 = document.querySelector('.player-2__pile-of-car');           //        \r\n\r\n\t\t//     \r\n\t\tthis.onCreateCards = new Events();\r\n\t\tthis.onCounterChange = new Events();\r\n\t\tthis.removeCards = new Events();\r\n\t\tthis.removeActionCard = new Events();\r\n\t\tthis.createAnimation = new Events();\r\n\t\tthis.endTurnAnimation = new Events();\r\n\t}\r\n\r\n\t//         \r\n\tcreateCardsForChoose(playerClassInfo) {\r\n\t\tthis.removeExtraCards('board');\r\n\r\n\t\tif (this.gameModel.playerOneTurn) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tskillCollection[playerClassInfo.playerOneClass].forEach((element) => this.createCards(element, 'board'));\r\n\r\n\t\t\t\tthis.createAnimation.notify('.cards-choose-field', 'multiple');\r\n\r\n\t\t\t\t// createCardAnim('.cards-choose-field', 'multiple');\r\n\t\t\t}, 500)\r\n\t\t} else {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tskillCollection[playerClassInfo.playerTwoClass].forEach((element) => this.createCards(element, 'board'));\r\n\r\n\t\t\t\tthis.createAnimation.notify('.cards-choose-field', 'multiple');\r\n\r\n\t\t\t\t// createCardAnim('.cards-choose-field', 'multiple');\r\n\t\t\t}, 500)\r\n\t\t}\r\n\t}\r\n\r\n\tshowCardsForPlayers(eventTarget) {\r\n\t\tthis.removeExtraCards('overlay');\r\n\r\n\t\tlet target = eventTarget;\r\n\r\n\t\tif (target.classList.contains('player-1__pile-of-car')) {\r\n\t\t\tthis.gameModel.playerOnePullOfCards.forEach((element) => this.createCards(element, 'overlay'));\r\n\r\n\t\t\tthis.createAnimation.notify('.players-overlay__cards', 'overlay')\r\n\r\n\t\t\t// createCardAnim('.players-overlay__cards', 'overlay');\r\n\t\t}\r\n\r\n\t\tif (target.classList.contains('player-2__pile-of-car')) {\r\n\t\t\tthis.gameModel.playerTwoPullOfCards.forEach((element) => this.createCards(element, 'overlay'));\r\n\r\n\t\t\tthis.createAnimation.notify('.players-overlay__cards', 'overlay')\r\n\r\n\t\t\t// createCardAnim('.players-overlay__cards', 'overlay');\r\n\t\t}\r\n\t}\r\n\r\n\topenCloseOverlay(state) {\r\n\t\tswitch (state) {\r\n\t\t\tcase 'open':\r\n\t\t\t\tthis.playersOverlay.classList.remove('hidden');\r\n\r\n\t\t\t\tplaySoundEffect('.overlay-open-audio');\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'close':\r\n\t\t\t\tthis.playersOverlay.classList.add('hidden');\r\n\r\n\t\t\t\tplaySoundEffect('.overlay-close-audio');\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tcreateCards(card, appendPlace, draggable = false) {\r\n\t\tlet elDiv = document.createElement('div');\r\n\r\n\t\telDiv.setAttribute('class', 'cards');\r\n\t\telDiv.setAttribute('data-info', `${card.id}`);\r\n\t\telDiv.style.backgroundImage = `url(${card.icon})`;\r\n\r\n\t\tif (draggable) {\r\n\t\t\telDiv.setAttribute('draggable', 'true');\r\n\t\t}\r\n\r\n\t\tthis.onCreateCards.notify(elDiv, appendPlace);\r\n\t}\r\n\r\n\t//    \r\n\tpullRandomCardsInHand() {\r\n\t\tthis.removeExtraCards('hand');\r\n\r\n\t\tlet tempIndex = [];\r\n\r\n\t\t//       \r\n\t\tfor (let i = 0; i < 4; i++) {                  //    \r\n\t\t\tlet n = Math.floor(Math.random() * 8);   //   \r\n\t\t\tif (tempIndex.indexOf(n) == -1) {\r\n\t\t\t\ttempIndex.push(n);\r\n\t\t\t} else {\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//        \r\n\t\tif (this.gameModel.playerOneTurn) {\r\n\t\t\tfor (let i = 0; i < tempIndex.length; i++) {\r\n\t\t\t\tthis.createCards(this.gameModel.playerOnePullOfCards[tempIndex[i]], 'hand', true);\r\n\t\t\t}\r\n\r\n\t\t\tthis.createAnimation.notify('.card-in-hand-field', 'multiple');\r\n\r\n\t\t\t// createCardAnim('.card-in-hand-field', 'multiple');\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < tempIndex.length; i++) {\r\n\t\t\t\tthis.createCards(this.gameModel.playerTwoPullOfCards[tempIndex[i]], 'hand', true);\r\n\t\t\t}\r\n\r\n\t\t\tthis.createAnimation.notify('.card-in-hand-field', 'multiple');\r\n\r\n\t\t\t// createCardAnim('.card-in-hand-field', 'multiple');\r\n\t\t}\r\n\t}\r\n\r\n\t//        \r\n\tremoveExtraCards(place) {\r\n\t\tlet orderToRemove = [];\r\n\r\n\t\tswitch (place) {\r\n\t\t\tcase 'board':\r\n\t\t\t\torderToRemove = [...this.decWrapper.children];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'hand':\r\n\t\t\t\torderToRemove = [...this.cardInHand.children];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'overlay':\r\n\t\t\t\torderToRemove = [...this.playersDeck.children];\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.removeCards.notify(orderToRemove, place);\r\n\t}\r\n\r\n\t//      \r\n\tdeletePlayedCard(condition, card) {\r\n\t\tif (this.gameModel.tempCard.cost > this.gameModel.activePlayer.staminaPoints) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch (condition) {\r\n\t\t\tcase 'playedCard':\r\n\t\t\t\tthis.removeActionCard.notify(this.gameModel.dragCard);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'randomCard':\r\n\t\t\t\tthis.removeActionCard.notify(card);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t//   \r\n\tcardChooseAnim(eventTarget) {\r\n\t\tlet target = eventTarget;\r\n\r\n\t\tif (target !== this.decWrapper) {\r\n\t\t\ttarget.classList.toggle('card-to-select');\r\n\t\t}\r\n\r\n\t\tif (target.classList.contains('card-to-select')) {\r\n\t\t\tplaySoundEffect('.card-selected-audio')\r\n\t\t}\r\n\r\n\t\tlet counter = document.getElementsByClassName('card-to-select').length;\r\n\r\n\t\tlet counterInfo = {};\r\n\r\n\t\tcounterInfo.number = counter;\r\n\r\n\t\tif (counter > 8) {\r\n\t\t\tcounterInfo.color = 'red';\r\n\t\t} else if (counter == 8) {\r\n\t\t\tcounterInfo.color = 'green';\r\n\t\t} else if (counter > 0 && counter < 8) {\r\n\t\t\tcounterInfo.color = 'cyan';\r\n\t\t} else {\r\n\t\t\tcounterInfo.color = 'white';\r\n\t\t}\r\n\r\n\t\tthis.onCounterChange.notify(counterInfo);\r\n\t}\r\n\r\n\t//        \r\n\tcardChooseAnimInHandAdd(eventTarget) {\r\n\t\tlet target = eventTarget;\r\n\r\n\t\tif (target !== this.cardInHand) {\r\n\t\t\ttarget.classList.add('card-to-action');\r\n\t\t}\r\n\t}\r\n\r\n\t//        \r\n\tcardChooseAnimInHandRemove(eventTarget) {\r\n\t\tlet target = eventTarget;\r\n\r\n\t\tif (target !== this.cardInHand) {\r\n\t\t\ttarget.classList.remove('card-to-action');\r\n\t\t}\r\n\t}\r\n\r\n\t//   \r\n\tdragCardStart(eventTarget) {\r\n\t\tlet target = eventTarget;\r\n\r\n\t\tif (target !== this.cardInHand) {\r\n\t\t\tsetTimeout(() => target.classList.add('invisible'), 0);\r\n\t\t}\r\n\r\n\t\tplaySoundEffect('.drag-audio');\r\n\t}\r\n\r\n\t//    \r\n\tdragCardEnd(eventTarget) {\r\n\t\tplaySoundEffect('.card-grab-cancel-audio');\r\n\r\n\t\tlet target = eventTarget;\r\n\r\n\t\tif (target !== this.cardInHand) {\r\n\t\t\ttarget.classList.remove('invisible');\r\n\t\t}\r\n\t}\r\n\r\n\tdragPreventAction(event) {\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\tshowWhichTurn() {\r\n\t\tplaySoundEffect('.end-turn-audio');\r\n\r\n\t\tif (this.gameModel.playerOneTurn) {\r\n\t\t\tthis.playersTurnInfo.textContent = `${this.gameModel.playersInfo.playerOneName}'s Turn`;\r\n\r\n\t\t\tthis.endTurnAnimation.notify('left');\r\n\r\n\t\t\t// endTurnAnim('left');\r\n\t\t} else {\r\n\t\t\tthis.playersTurnInfo.textContent = `${this.gameModel.playersInfo.playerTwoName}'s Turn`;\r\n\r\n\t\t\tthis.endTurnAnimation.notify('right');\r\n\r\n\t\t\t// endTurnAnim('right');\r\n\t\t}\r\n\t}\r\n}\r\n","import Events from './eventsModel';\r\nimport {createCardAnim, endTurnAnim} from '../animation_and_sound_effects/animation';\r\n\r\nexport default class BoardView {\r\n\tconstructor(board, game, selector) {\r\n\t\tthis.boardModel = board;\r\n\t\tthis.gameModel = game;\r\n\t\tthis.boardSelector = selector;\r\n\r\n\t\tthis.onLoadCreate = new Events;\r\n\r\n\t\t//   this.gameModel     \r\n\t\tthis.onDefineCards = new Events;\r\n\r\n\t\t//   (  )\r\n\t\tthis.onAnimCards = new Events;\r\n\r\n\t\t//       \r\n\t\tthis.submitCardCheckChoose = new Events;\r\n\r\n\t\t//       \r\n\t\tthis.cardInHandChoosen = new Events();\r\n\r\n\t\t//       \r\n\t\tthis.grabCardStart = new Events();\r\n\r\n\t\tthis.grabCardEnd = new Events();\r\n\r\n\t\tthis.preventDrag = new Events();\r\n\r\n\t\t//  \r\n\t\tthis.dropEvent = new Events();\r\n\r\n\t\t//   \r\n\t\tthis.doCardAction = new Events();\r\n\r\n\t\tthis.endTurn = new Events();\r\n\r\n\t\tthis.showPlayerDeck = new Events();\r\n\r\n\t\tthis.soundOffOn = new Events();\r\n\r\n\t\tthis.boardModel.btnAccept.addEventListener('click', () => this.onDefineCards.notify());\r\n\r\n\t\tthis.boardModel.btnAccept.addEventListener('click', () => this.submitCardCheckChoose.notify());\r\n\r\n\t\t//     \r\n\t\tthis.boardModel.decWrapper.addEventListener('click', (event) => this.onAnimCards.notify(event.target));\r\n\r\n\t\t//        \r\n\t\tthis.boardModel.battleField.addEventListener('click', (event) => this.showPlayerDeck.notify(event.target));\r\n\r\n\t\tthis.boardModel.playersDeckClose.addEventListener('click', (event) => this.showPlayerDeck.notify(event.target));\r\n\r\n\t\t//      \r\n\t\tthis.boardModel.cardInHand.addEventListener('mouseover', (event) => this.cardInHandChoosen.notify(event.target, 'focus'));\r\n\r\n\t\tthis.boardModel.cardInHand.addEventListener('mouseout', (event) => this.cardInHandChoosen.notify(event.target, 'blur'));\r\n\r\n\t\t//         \r\n\t\tthis.boardModel.cardInHand.addEventListener('dragstart', (event) => this.grabCardStart.notify(event.target, 'focus'));\r\n\r\n\t\tthis.boardModel.cardInHand.addEventListener('dragend', (event) => this.grabCardEnd.notify(event.target, 'blur'));\r\n\r\n\t\t// prevent default behavior\r\n\t\tthis.boardModel.cardsPlayField.addEventListener('dragenter', (event) => this.preventDrag.notify(event));\r\n\r\n\t\tthis.boardModel.cardsPlayField.addEventListener('dragover', (event) => this.preventDrag.notify(event));\r\n\r\n\t\t//  \r\n\t\tthis.boardModel.cardsPlayField.addEventListener('drop', () => this.dropEvent.notify());\r\n\r\n\t\tthis.boardModel.cardsPlayField.addEventListener('drop', () => this.doCardAction.notify(this.gameModel.playerOneTurn));\r\n\r\n\t\tthis.boardModel.endTurn.addEventListener('click', () => this.endTurn.notify());\r\n\r\n\t\tthis.boardModel.soundOffOn.addEventListener('click', () => this.soundOffOn.notify());\r\n\r\n\r\n\t\t//     \r\n\t\t// this.boardModel     \r\n\t\tthis.boardModel.onCreateCards.attach((card, place) => this.drawCards(card, place));\r\n\r\n\t\t//      \r\n\t\tthis.boardModel.onCounterChange.attach((info) => this.counterUpdate(info));\r\n\r\n\t\t//  this.gameModel      \r\n\t\tthis.gameModel.selectionEnd.attach(() => this.selectionEndUpdate());\r\n\r\n\t\t//     \r\n\t\tthis.boardModel.removeCards.attach((cards, place) => this.extraCardsToRemove(cards, place));\r\n\r\n\t\t//       \r\n\t\tthis.gameModel.choosePlayerInfo.attach((text) => this.playerChooseInfoUpdate(text));\r\n\r\n\t\t//     \r\n\t\tthis.gameModel.updatePlayersNames.attach((name1, name2) => this.playerNameUpdate(name1, name2));\r\n\r\n\t\t//     \r\n\t\tthis.gameModel.updatePlayersModels.attach((modelPlayer1, modelPlayer2) => this.playerModelsUpdate(modelPlayer1, modelPlayer2));\r\n\r\n\t\t//   \r\n\t\tthis.boardModel.removeActionCard.attach((card) => this.deleteActionCard(card));\r\n\r\n\t\tthis.boardModel.createAnimation.attach((querySelector, amount) => this.createAnimation(querySelector, amount));\r\n\r\n\t\tthis.boardModel.endTurnAnimation.attach((side) => this.endTurnAnimation(side));\r\n\r\n\r\n\t}\r\n\r\n\t// need for start render cards when page is loaded\r\n\tinit() {\r\n\t\tthis.onLoadCreate.notify();\r\n\t};\r\n\r\n\tdrawCards(card, place) {\r\n\t\tswitch (place) {\r\n\t\t\tcase 'board':\r\n\t\t\t\tthis.boardModel.decWrapper.appendChild(card);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'hand':\r\n\t\t\t\tthis.boardModel.cardInHand.appendChild(card);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'overlay':\r\n\t\t\t\tthis.boardModel.playersDeck.appendChild(card);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.boardModel.cardsChooseCounter.textContent = 0;\r\n\t\tthis.boardModel.cardsChooseCounter.style = 'color: white';\r\n\t};\r\n\r\n\textraCardsToRemove(cards, place) {\r\n\r\n\t\tif (place == 'board' && cards.length > 0) {\r\n\t\t\tfor (let i = 0; i < cards.length; i++) {\r\n\t\t\t\tthis.boardModel.decWrapper.removeChild(cards[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (place == 'hand' && cards.length > 0) {\r\n\t\t\tfor (let i = 0; i < cards.length; i++) {\r\n\t\t\t\tthis.boardModel.cardInHand.removeChild(cards[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (place == 'overlay' && cards.length > 0) {\r\n\t\t\tfor (let i = 0; i < cards.length; i++) {\r\n\t\t\t\tthis.boardModel.playersDeck.removeChild(cards[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteActionCard(card) {\r\n\t\tthis.boardModel.cardInHand.removeChild(card);\r\n\t}\r\n\r\n\tcounterUpdate(info) {\r\n\t\tthis.boardModel.cardsChooseCounter.textContent = info.number;\r\n\t\tthis.boardModel.cardsChooseCounter.style = `color: ${info.color}`;\r\n\t};\r\n\r\n\tselectionEndUpdate() {\r\n\t\tthis.boardModel.decWrapper.style.display = 'none';\r\n\t\tthis.boardModel.battleField.classList.remove('hidden');\r\n\t\t// this.boardSelector.querySelector('.card-counter').classList.add('hidden');\r\n\t\tthis.boardSelector.querySelector('.card-counter').style.display = 'none';\r\n\t}\r\n\r\n\tplayerChooseInfoUpdate(text) {\r\n\t\tthis.boardSelector.querySelector('.player-name-choosing').textContent = text;\r\n\t}\r\n\r\n\tplayerNameUpdate(name1, name2) {\r\n\t\tthis.boardSelector.querySelector('.player-1__name').textContent = name1;\r\n\t\tthis.boardSelector.querySelector('.player-2__name').textContent = name2;\r\n\t}\r\n\r\n\tplayerModelsUpdate(modelPlayer1, modelPlayer2) {\r\n\t\tconst player1Model = this.boardSelector.querySelector('.player-1__model');\r\n\t\tconst player2Model = this.boardSelector.querySelector('.player-2__model');\r\n\r\n\t\tplayer1Model.type = 'image/svg+xml';\r\n\t\tplayer2Model.type = 'image/svg+xml';\r\n\r\n\t\tswitch (modelPlayer1) {\r\n\t\t\tcase 'warrior':\r\n\t\t\t\tplayer1Model.data = 'images/models/viking.svg';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'rogue':\r\n\t\t\t\tplayer1Model.data = 'images/models/rogue.svg';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mage':\r\n\t\t\t\tplayer1Model.data = 'images/models/mage.svg';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('models not found');\r\n\t\t}\r\n\r\n\t\tswitch (modelPlayer2) {\r\n\t\t\tcase 'warrior':\r\n\t\t\t\tplayer2Model.data = 'images/models/viking.svg';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'rogue':\r\n\t\t\t\tplayer2Model.data = 'images/models/rogue.svg';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mage':\r\n\t\t\t\tplayer2Model.data = 'images/models/mage.svg';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log('models not found');\r\n\t\t}\r\n\t}\r\n\r\n\tcreateAnimation(querySelector, amount) {\r\n\t\tcreateCardAnim(querySelector, amount)\r\n\t}\r\n\r\n\tendTurnAnimation(side) {\r\n\t\tendTurnAnim(side);\r\n\t}\r\n}\r\n","export default class GameController {\r\n\tconstructor(model, view) {\r\n\t\tthis.gameModel = model;\r\n\t\tthis.boardView = view;\r\n\r\n\t\tif (this.boardView.hasOwnProperty('onDefineCards')) {\r\n\t\t\tthis.boardView.onDefineCards.attach(() => this.defineCards());\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('submitCardCheckChoose')) {\r\n\t\t\tthis.boardView.submitCardCheckChoose.attach(() => this.doCardCheckChoose());\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('grabCardStart')) {\r\n\t\t\tthis.boardView.grabCardStart.attach((eventTarget) => this.actionCard(eventTarget));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('endTurn')) {\r\n\t\t\tthis.boardView.endTurn.attach(() => this.doEndTurn());\r\n\t\t}\r\n\t}\r\n\r\n\t//      ,     \r\n\tdefineCards() {\r\n\t\tthis.gameModel.definePlayersCardSet();\r\n\t}\r\n\r\n\t//      ,     \r\n\tdoCardCheckChoose() {\r\n\t\tthis.gameModel.checkCardsSelectionEnd();\r\n\t}\r\n\r\n\tactionCard(eventTarget) {\r\n\t\tthis.gameModel.initActionCard(eventTarget);\r\n\t}\r\n\r\n\tdoEndTurn() {\r\n\t\tthis.gameModel.turnEndsNextPlayerTurn();\r\n\t}\r\n}\r\n","import Events from './eventsModel';\r\nimport {playSoundEffect, createCardAnim, discardCardAnim} from '../animation_and_sound_effects/animation.js';\r\n\r\nexport default class Players {\r\n\tconstructor(game, board) {\r\n\t\tthis.healthPoints = 100;\r\n\t\tthis.staminaPoints = 4;\r\n\t\tthis.defendPoints = 7;\r\n\r\n\t\tthis.gameModel = game;\r\n\t\tthis.boardModel = board;\r\n\r\n\t\tthis.playerViewUpdate = new Events();\r\n\t\tthis.cardDraw = new Events();\r\n\t\tthis.cardDiscard = new Events();\r\n\t\tthis.actionAnimation = new Events();\r\n\t}\r\n\r\n\tendTurn() {\r\n\t\tthis.gameModel.activePlayer.staminaPoints = 4;\r\n\t\tthis.gameModel.passivePlayer.staminaPoints = 4;\r\n\r\n\t\tthis.updateView();\r\n\t}\r\n\r\n\tupdateView() {\r\n\t\tthis.playerViewUpdate.notify();\r\n\t};\r\n\r\n\tdoAction() {\r\n\t\tif (this.gameModel.activePlayer.staminaPoints < this.gameModel.tempCard.cost) {\r\n\t\t\tplaySoundEffect('.card-grab-cancel-audio');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch (this.gameModel.tempCard.type) {\r\n\t\t\tcase 'attack':\r\n\t\t\t\tthis.standartAttack(this.gameModel.tempCard);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'attackDrawDiscard':\r\n\t\t\t\tthis.attackDrawDiscard(this.gameModel.tempCard);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'attackAddEffect':\r\n\t\t\t\tthis.sideEffectAttack(this.gameModel.tempCard);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'defend':\r\n\t\t\t\tthis.standartDefend(this.gameModel.tempCard);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'defendAddEffect':\r\n\t\t\t\tthis.sideEffectDefend(this.gameModel.tempCard);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'defendDrawDiscard':\r\n\t\t\t\tthis.defendDrawDiscard(this.gameModel.tempCard);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'defendAndAttack':\r\n\t\t\t\tthis.defendWithAttack(this.gameModel.tempCard);\r\n\t\t}\r\n\r\n\t\t// this.actionAnimation.notify();\r\n\t};\r\n\r\n\trandomCardDraw() {\r\n\t\tlet randomCardDraw = Math.floor(Math.random() * this.gameModel.playerOnePullOfCards.length);\r\n\r\n\t\tif (this.gameModel.playerOneTurn) {\r\n\t\t\tthis.cardDraw.notify(this.gameModel.playerOnePullOfCards[randomCardDraw]);\r\n\t\t} else {\r\n\t\t\tthis.cardDraw.notify(this.gameModel.playerTwoPullOfCards[randomCardDraw]);\r\n\t\t}\r\n\r\n\t\tcreateCardAnim('.card-in-hand-field', 'single');\r\n\t}\r\n\r\n\trandomCardDiscard() {\r\n\t\tlet randomDiscard = Math.floor(Math.random() * this.boardModel.cardInHand.children.length);\r\n\r\n\t\t//it will be error if you use DaggerThrow as the last card in hand so w check on this\r\n\t\tif (this.boardModel.cardInHand.children.length > 0) {\r\n\t\t\tdiscardCardAnim(this.boardModel.cardInHand.children[randomDiscard]);\r\n\r\n\t\t\tplaySoundEffect('.discard-card-audio');\r\n\r\n\t\t\tsetTimeout(() => this.cardDiscard.notify(this.boardModel.cardInHand.children[randomDiscard]), 300)\r\n\t\t}\r\n\t}\r\n\r\n\t// we take condition only for card \"expertise\"\r\n\tmassiveRandomDraw(card, condition) {\r\n\t\tlet tempIndex = [];\r\n\r\n\t\t//       \r\n\t\tfor (let i = 0; i < card.effect - condition; i++) {                  //    \r\n\t\t\tlet n = Math.floor(Math.random() * 8);            //   \r\n\t\t\tif (tempIndex.indexOf(n) === -1) {\r\n\t\t\t\ttempIndex.push(n);\r\n\t\t\t} else {\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.gameModel.playerOneTurn) {\r\n\t\t\tfor (let i = 0; i < tempIndex.length; i++) {\r\n\t\t\t\tthis.cardDraw.notify(this.gameModel.playerOnePullOfCards[tempIndex[i]]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < tempIndex.length; i++) {\r\n\t\t\t\tthis.cardDraw.notify(this.gameModel.playerTwoPullOfCards[tempIndex[i]]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcreateCardAnim('.card-in-hand-field', 'single');\r\n\t}\r\n\r\n\tstandartAttack(card) {\r\n\t\tif (this.gameModel.passivePlayer.defendPoints) {\r\n\t\t\tlet test = this.gameModel.passivePlayer.defendPoints - card.effect;\r\n\r\n\t\t\tif (test < 0) {\r\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = 0;\r\n\r\n\t\t\t\ttest = Math.abs(test);\r\n\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= test;\r\n\t\t\t} else {\r\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = test;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\r\n\t\t}\r\n\r\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\tthis.actionAnimation.notify();\r\n\t};\r\n\r\n\tsideEffectAttack(card) {\r\n\t\t// some of cards have special side effects, so we do additional if check\r\n\t\t// to make for them special methods\r\n\r\n\t\tif (card.name == 'riddleWithHoles') {\r\n\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\r\n\r\n\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\t\tthis.actionAnimation.notify();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (card.name == 'judjment') {\r\n\t\t\tlet sideEffect = card.sideEffect();\r\n\r\n\t\t\tif (sideEffect == undefined) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.gameModel.passivePlayer.healthPoints = sideEffect;\r\n\r\n\t\t\tthis.actionAnimation.notify();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// some of cards havee common side effect so we can group it in one method\r\n\t\tif (card.sideEffect) {\r\n\t\t\tlet sideEffect = card.sideEffect();\r\n\r\n\t\t\tif (this.gameModel.passivePlayer.defendPoints) {\r\n\t\t\t\tlet test = this.gameModel.passivePlayer.defendPoints - sideEffect;\r\n\r\n\t\t\t\tif (test < 0) {\r\n\t\t\t\t\tthis.gameModel.passivePlayer.defendPoints = 0;\r\n\r\n\t\t\t\t\ttest = Math.abs(test);\r\n\t\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= test;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.gameModel.passivePlayer.defendPoints = test;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (sideEffect) {\r\n\t\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= sideEffect;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\tthis.actionAnimation.notify();\r\n\t};\r\n\r\n\tattackDrawDiscard(card) {\r\n\t\t// some of cards have special side effect, so we do additional if check\r\n\t\t// to make for them special methods\r\n\t\t// if (this.gameModel.activePlayer.staminaPoints < card.cost) {\r\n\t\t// \treturn;\r\n\t\t// }\r\n\r\n\t\tif (this.gameModel.passivePlayer.defendPoints) {\r\n\t\t\tlet test = this.gameModel.passivePlayer.defendPoints - card.effect;\r\n\r\n\t\t\tif (test < 0) {\r\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = 0;\r\n\r\n\t\t\t\ttest = Math.abs(test);\r\n\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= test;\r\n\t\t\t} else {\r\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = test;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\r\n\t\t}\r\n\r\n\t\tif (card.name == 'daggerThrow') {\r\n\t\t\tthis.randomCardDiscard();\r\n\t\t\tthis.randomCardDraw();\r\n\t\t}\r\n\r\n\t\tif (card.name == 'quickSlash') {\r\n\t\t\tthis.randomCardDraw();\r\n\t\t}\r\n\r\n\t\tif (card.name == 'cutThroughFate') {\r\n\t\t\tlet sideEffect = card.sideEffect();\r\n\t\t\tthis.gameModel.activePlayer.defendPoints += sideEffect;\r\n\t\t\tthis.randomCardDraw();\r\n\t\t}\r\n\r\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\tthis.actionAnimation.notify();\r\n\t};\r\n\r\n\tstandartDefend(card) {\r\n\t\tthis.gameModel.activePlayer.defendPoints += card.effect;\r\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\tthis.actionAnimation.notify();\r\n\t};\r\n\r\n\tsideEffectDefend(card) {\r\n\t\tif (card.name == 'nirvana') {\r\n\t\t\tlet sideEffect = card.sideEffect();\r\n\r\n\t\t\tthis.gameModel.activePlayer.defendPoints = sideEffect;\r\n\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\t\tthis.actionAnimation.notify();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (card.name == 'meditate') {\r\n\t\t\tlet test = this.gameModel.activePlayer.staminaPoints - card.cost + card.effect;\r\n\r\n\t\t\tif (test > 4) {\r\n\t\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\t\t\t\tthis.gameModel.activePlayer.staminaPoints = 4;\r\n\t\t\t} else {\r\n\t\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\t\t\t\tthis.gameModel.activePlayer.staminaPoints += card.effect;\r\n\t\t\t}\r\n\r\n\t\t\tthis.actionAnimation.notify();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (card.sideEffect) {\r\n\t\t\tlet sideEffect = card.sideEffect();\r\n\r\n\t\t\tthis.gameModel.activePlayer.defendPoints += sideEffect;\r\n\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\t\tthis.actionAnimation.notify();\r\n\t\t}\r\n\t};\r\n\r\n\tdefendWithAttack(card) {\r\n\t\tif (this.gameModel.passivePlayer.defendPoints) {\r\n\t\t\tlet test = this.gameModel.passivePlayer.defendPoints - card.effect;\r\n\r\n\t\t\tif (test < 0) {\r\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = 0;\r\n\r\n\t\t\t\ttest = Math.abs(test);\r\n\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= test;\r\n\t\t\t} else {\r\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = test;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\r\n\t\t}\r\n\r\n\t\tthis.gameModel.activePlayer.defendPoints += card.effect;\r\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\tthis.actionAnimation.notify();\r\n\t};\r\n\r\n\tdefendDrawDiscard(card) {\r\n\t\t// some of cards have special side effect, so we do additional if check\r\n\t\t// to make for them special methods\r\n\t\t// if (this.gameModel.activePlayer.staminaPoints < card.cost) {\r\n\t\t// \treturn;\r\n\t\t// }\r\n\r\n\t\tif (card.name == 'prepared') {\r\n\t\t\tthis.randomCardDiscard();\r\n\t\t\tthis.randomCardDraw();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (card.name == 'warcry') {\r\n\t\t\tthis.randomCardDraw();\r\n\r\n\t\t\tthis.actionAnimation.notify();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (card.name == 'survivor') {\r\n\t\t\tthis.randomCardDiscard();\r\n\r\n\t\t\tthis.gameModel.activePlayer.defendPoints += card.effect;\r\n\t\t}\r\n\r\n\t\tif (card.name == 'bloodletting') {\r\n\t\t\tthis.randomCardDraw();\r\n\r\n\t\t\tthis.gameModel.activePlayer.healthPoints -= card.effect;\r\n\r\n\t\t\tthis.actionAnimation.notify();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (card.name == 'expertise') {\r\n\t\t\tthis.massiveRandomDraw(card, this.boardModel.cardInHand.children.length);\r\n\t\t}\r\n\r\n\t\tif (card.name == 'alpha') {\r\n\r\n\t\t\t//     \r\n\t\t\tfor (let i = 0; i < this.boardModel.cardInHand.children.length; i++) {\r\n\t\t\t\tif (this.boardModel.cardInHand.children[i].classList.contains('cards-to-play')) {\r\n\t\t\t\t\tthis.randomCardDiscard(this.boardModel.cardInHand.children[i]);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.massiveRandomDraw(card, 0);\r\n\t\t}\r\n\r\n\t\tif (card.name == 'backFlip') {\r\n\t\t\tlet sideEffect = card.sideEffect();\r\n\t\t\tthis.gameModel.activePlayer.defendPoints += sideEffect;\r\n\r\n\t\t\tthis.massiveRandomDraw(card, 0);\r\n\t\t}\r\n\r\n\t\tif (card.name == 'thirdEye') {\r\n\t\t\tthis.gameModel.activePlayer.defendPoints += card.effect;\r\n\r\n\t\t\tthis.randomCardDraw();\r\n\t\t}\r\n\r\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\r\n\r\n\t\tthis.actionAnimation.notify();\r\n\t};\r\n}\r\n","import {\r\n\tattackAnimation, attackAnimationEffect, blockAnimationEffect,\r\n\tplaySoundEffect, shakeAnimation, multipleAttackAnimation, standartAttackAnimation,\r\n\tultimateSkillAnimation\r\n} from '../animation_and_sound_effects/animation';\r\n\r\n\r\nexport default class PlayersView {\r\n\tconstructor(playerOneModel, playerTwoModel, gameModel, container) {\r\n\t\tthis.playerOneModel = playerOneModel;\r\n\t\tthis.playerTwoModel = playerTwoModel;\r\n\t\tthis.gameModel = gameModel;\r\n\t\tconst playerContainer = container;\r\n\r\n\t\tthis.playerOneHPValue = playerContainer.querySelector('.player-1__hp-value');\r\n\t\tthis.playerOneDefenceValue = playerContainer.querySelector('.player-1__defence-value');\r\n\t\tthis.playerOneStaminaValue = playerContainer.querySelector('.player-1__stamina-value');\r\n\t\tthis.playerOneHP = playerContainer.querySelector('.player-1__hp-bar-inner');\r\n\r\n\t\tthis.playerTwoHPValue = playerContainer.querySelector('.player-2__hp-value');\r\n\t\tthis.playerTwoDefenceValue = playerContainer.querySelector('.player-2__defence-value');\r\n\t\tthis.playerTwoStaminaValue = playerContainer.querySelector('.player-2__stamina-value');\r\n\t\tthis.playerTwoHP = playerContainer.querySelector('.player-2__hp-bar-inner');\r\n\r\n\t\tthis.playerOneModel.playerViewUpdate.attach(() => {\r\n\t\t\tthis.updateViewHP();\r\n\t\t\tthis.updateViewDef();\r\n\t\t});\r\n\t\tthis.playerTwoModel.playerViewUpdate.attach(() => {\r\n\t\t\tthis.updateViewHP();\r\n\t\t\tthis.updateViewDef();\r\n\t\t});\r\n\r\n\t\tthis.playerTwoModel.actionAnimation.attach(() => this.doAnimation());\r\n\t\tthis.playerTwoModel.actionAnimation.attach(() => this.doAnimation());\r\n\r\n\t\tthis.updateViewHP();\r\n\t\tthis.updateViewDef();\r\n\r\n\t}\r\n\r\n\t//    , , \r\n\tupdateViewHP() {\r\n\t\tthis.playerOneHPValue.textContent = this.playerOneModel.healthPoints;\r\n\t\tthis.playerOneStaminaValue.textContent = this.playerOneModel.staminaPoints;\r\n\t\tthis.playerOneHP.style.width = this.playerOneModel.healthPoints + '%';\r\n\r\n\t\tthis.playerTwoHPValue.textContent = this.playerTwoModel.healthPoints;\r\n\t\tthis.playerTwoStaminaValue.textContent = this.playerTwoModel.staminaPoints;\r\n\t\tthis.playerTwoHP.style.width = this.playerTwoModel.healthPoints + '%';\r\n\t};\r\n\r\n\tupdateViewDef() {\r\n\t\tthis.playerOneDefenceValue.textContent = this.playerOneModel.defendPoints;\r\n\t\tthis.playerOneStaminaValue.textContent = this.playerOneModel.staminaPoints;\r\n\r\n\t\tthis.playerTwoDefenceValue.textContent = this.playerTwoModel.defendPoints;\r\n\t\tthis.playerTwoStaminaValue.textContent = this.playerTwoModel.staminaPoints;\r\n\t};\r\n\r\n\tdoAnimation() {\r\n\t\tlet activePlayerUI;\r\n\t\tlet passivePlayerUI;\r\n\t\tlet direction;\r\n\r\n\t\tif (this.gameModel.playerOneTurn) {\r\n\t\t\tactivePlayerUI = '.player-1__model';\r\n\t\t\tpassivePlayerUI = '.player-2__model';\r\n\t\t\tdirection = 'right';\r\n\t\t} else {\r\n\t\t\tactivePlayerUI = '.player-2__model';\r\n\t\t\tpassivePlayerUI = '.player-1__model';\r\n\t\t\tdirection = 'left';\r\n\t\t}\r\n\r\n\t\tswitch (this.gameModel.tempCard.name) {\r\n\t\t\tcase 'strike_w':\r\n\t\t\tcase 'bash':\r\n\t\t\tcase 'slice':\r\n\t\t\tcase 'strike_r':\r\n\t\t\tcase 'quickSlash':\r\n\t\t\tcase 'strike_m':\r\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\r\n\t\t\t\tattackAnimation(passivePlayerUI, 'attack', '../images/attack-effects/warrior-attack.png');\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\r\n\t\t\t\t\tplaySoundEffect('.strike-attack-audio');\r\n\t\t\t\t}, 200);\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\t\t\t\tthis.updateViewDef();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'defend_w':\r\n\t\t\tcase 'armaments':\r\n\t\t\tcase 'entrench':\r\n\t\t\tcase 'deflect':\r\n\t\t\tcase 'backFlip':\r\n\t\t\tcase 'defend_m':\r\n\t\t\tcase 'masterReality':\r\n\t\t\tcase 'thirdEye':\r\n\t\t\tcase 'survivor':\r\n\t\t\t\tblockAnimationEffect(activePlayerUI, 'shield','../images/icons/Icon_Block.png');\r\n\t\t\t\tplaySoundEffect('.defend-audio');\r\n\r\n\t\t\t\tthis.updateViewDef();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'bodySlam':\r\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\r\n\r\n\t\t\t\tattackAnimation(passivePlayerUI, 'smashAttack', '../images/attack-effects/smash.png');\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\r\n\t\t\t\t\tplaySoundEffect('.bash-attack-audio');\r\n\t\t\t\t}, 200);\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\t\t\t\tthis.updateViewDef();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'daggerThrow':\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\r\n\t\t\t\t\tattackAnimation(passivePlayerUI, 'smashAttack', '../images/attack-effects/smash.png');\r\n\r\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\r\n\t\t\t\t\tplaySoundEffect('.bash-attack-audio');\r\n\t\t\t\t}, 200);\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\t\t\t\tthis.updateViewDef();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'anger':\r\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\r\n\r\n\t\t\t\tstandartAttackAnimation(passivePlayerUI, 'angerAttack', '../images/attack-effects/anger.png');\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\r\n\t\t\t\t\tplaySoundEffect('.anger-audio');\r\n\t\t\t\t}, 200);\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\t\t\t\tthis.updateViewDef();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'ironWave':\r\n\t\t\tcase 'dash':\r\n\t\t\t\tblockAnimationEffect(activePlayerUI);\r\n\r\n\t\t\t\tplaySoundEffect('.defend-audio');\r\n\r\n\t\t\t\tthis.updateViewDef();\r\n\r\n\t\t\t\tsetTimeout(() => attackAnimationEffect(activePlayerUI, direction), 400);\r\n\r\n\t\t\t\tsetTimeout(() => standartAttackAnimation(passivePlayerUI, 'angerAttack', '../images/attack-effects/anger.png'), 400);\r\n\r\n\t\t\t\tsetTimeout(() => shakeAnimation(passivePlayerUI), 400);\r\n\r\n\t\t\t\tsetTimeout(() => playSoundEffect('.bash-attack-audio'), 400);\r\n\r\n\t\t\t\tsetTimeout(() => this.updateViewHP(), 400);\r\n\r\n\t\t\t\tsetTimeout(() => this.updateViewDef(), 400);\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'bloodletting':\r\n\t\t\t\tstandartAttackAnimation(activePlayerUI, 'shield', '../images/attack-effects/bloodletting.png');\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tshakeAnimation(activePlayerUI);\r\n\t\t\t\t\tplaySoundEffect('.bloodletting-audio');\r\n\t\t\t\t}, 200);\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'warcry':\r\n\t\t\t\tshakeAnimation(activePlayerUI);\r\n\r\n\t\t\t\tplaySoundEffect('.warcry-audio');\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'perfectedStrike':\r\n\t\t\tcase 'flechettes':\r\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\r\n\r\n\t\t\t\tmultipleAttackAnimation(passivePlayerUI, 'attack', '../images/attack-effects/warrior-attack.png', 3);\r\n\r\n\t\t\t\tsetTimeout(() => shakeAnimation(passivePlayerUI), 200);\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\t\t\t\tthis.updateViewDef();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'expertise':\r\n\t\t\t\tblockAnimationEffect(activePlayerUI, 'expertice', '../images/attack-effects/serpent_ring.png');\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'bludgeon':\r\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\r\n\r\n\t\t\t\tplaySoundEffect('.warcry-audio');\r\n\r\n\t\t\t\tultimateSkillAnimation(passivePlayerUI, 'warriorUltimate', '../images/attack-effects/flash.png', '.flash-audio');\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\t\t\t\tthis.updateViewDef();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'riddleWithHoles':\r\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\r\n\r\n\t\t\t\tultimateSkillAnimation(passivePlayerUI, 'rogueUltimate', '../images/attack-effects/daggers.svg', '.backstab-audio');\r\n\r\n\t\t\t\tthis.updateViewHP();\r\n\t\t\t\tthis.updateViewDef();\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n","export default class PlayersController {\r\n\tconstructor(playerOneModel, playerTwoModel, view) {\r\n\t\tthis.playerOneModel = playerOneModel;\r\n\t\tthis.playerTwoModel = playerTwoModel;\r\n\t\tthis.boardView = view;\r\n\r\n\t\tif (this.boardView.hasOwnProperty('doCardAction')) {\r\n\t\t\tthis.boardView.doCardAction.attach(() => this.playCard());\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('endTurn')) {\r\n\t\t\tthis.boardView.endTurn.attach(() => this.doEndTurn());\r\n\t\t}\r\n\t}\r\n\r\n\tplayCard(priority) {\r\n\t\tif(priority) {\r\n\t\t\tthis.playerOneModel.doAction();\r\n\t\t} else {\r\n\t\t\tthis.playerTwoModel.doAction();\r\n\t\t}\r\n\t}\r\n\r\n\tdoEndTurn() {\r\n\t\tthis.playerOneModel.endTurn();\r\n\t}\r\n}\r\n","import {switchPlayPause} from '../animation_and_sound_effects/animation.js';\r\n\r\nexport default class BoardController {\r\n\tconstructor(game, board, playerModel1, playerModel2, view) {\r\n\t\tthis.gameModel = game;\r\n\t\tthis.boardModel = board;\r\n\t\tthis.player1 = playerModel1;\r\n\t\tthis.player2 = playerModel2;\r\n\t\tthis.boardView = view;\r\n\r\n\t\tif (this.boardView.hasOwnProperty('onLoadCreate')) {\r\n\t\t\tthis.boardView.onLoadCreate.attach((card, place) => this.createCard(card, place));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('onAnimCards')) {\r\n\t\t\tthis.boardView.onAnimCards.attach((event) => this.cardAnimBoard(event));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('cardInHandChoosen')) {\r\n\t\t\tthis.boardView.cardInHandChoosen.attach((event, state) => this.cardAnimHand(event, state));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('grabCardStart')) {\r\n\t\t\tthis.boardView.grabCardStart.attach((event, state) => this.grabedCardAnim(event, state));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('grabCardEnd')) {\r\n\t\t\tthis.boardView.grabCardEnd.attach((event, state) => this.grabedCardAnim(event, state));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('preventDrag')) {\r\n\t\t\tthis.boardView.preventDrag.attach((event) => this.preventDrag(event));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('dropEvent')) {\r\n\t\t\tthis.boardView.dropEvent.attach(() => this.deleteActionCard());\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('endTurn')) {\r\n\t\t\tthis.boardView.endTurn.attach(() => this.createCardsInHand());\r\n\t\t\tthis.boardView.endTurn.attach(() => this.setPlayersTurnInfo());\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('showPlayerDeck')) {\r\n\t\t\tthis.boardView.showPlayerDeck.attach((event) => this.showPlayersDeck(event));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('showPlayerDeck')) {\r\n\t\t\tthis.boardView.showPlayerDeck.attach((event) => this.closePlayersDeck(event));\r\n\t\t}\r\n\r\n\t\tif (this.gameModel.hasOwnProperty('selectionContinue')) {\r\n\t\t\tthis.gameModel.selectionContinue.attach(() => this.createCard());\r\n\t\t}\r\n\r\n\t\tif (this.gameModel.hasOwnProperty('selectionEnd')) {\r\n\t\t\tthis.gameModel.selectionEnd.attach(() => this.createCardsInHand());\r\n\t\t\tthis.gameModel.selectionEnd.attach(() => this.setPlayersTurnInfo());\r\n\t\t}\r\n\r\n\t\tif (this.player1.hasOwnProperty('cardDraw')) {\r\n\t\t\tthis.player1.cardDraw.attach((card) => this.addCardInHand(card));\r\n\t\t}\r\n\r\n\t\tif (this.player2.hasOwnProperty('cardDraw')) {\r\n\t\t\tthis.player2.cardDraw.attach((card) => this.addCardInHand(card));\r\n\t\t}\r\n\r\n\t\tif (this.player1.hasOwnProperty('cardDiscard')) {\r\n\t\t\tthis.player1.cardDiscard.attach((card) => this.deleteRandomCard(card));\r\n\t\t}\r\n\r\n\t\tif (this.player2.hasOwnProperty('cardDiscard')) {\r\n\t\t\tthis.player2.cardDiscard.attach((card) => this.deleteRandomCard(card));\r\n\t\t}\r\n\r\n\t\tif (this.boardView.hasOwnProperty('soundOffOn')) {\r\n\t\t\tthis.boardView.soundOffOn.attach(() => this.turnOnOfSound());\r\n\t\t}\r\n\t}\r\n\r\n\tcreateCard() {\r\n\t\tthis.boardModel.createCardsForChoose(this.gameModel);\r\n\t}\r\n\r\n\tcardAnimBoard(event) {\r\n\t\tthis.boardModel.cardChooseAnim(event);\r\n\t}\r\n\r\n\tcardAnimHand(event, state) {\r\n\t\tswitch (state) {\r\n\t\t\tcase 'focus':\r\n\t\t\t\tthis.boardModel.cardChooseAnimInHandAdd(event);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'blur':\r\n\t\t\t\tthis.boardModel.cardChooseAnimInHandRemove(event);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tcreateCardsInHand() {\r\n\t\tthis.boardModel.pullRandomCardsInHand();\r\n\t}\r\n\r\n\tgrabedCardAnim(event, state) {\r\n\t\tswitch (state) {\r\n\t\t\tcase 'focus':\r\n\t\t\t\tthis.boardModel.dragCardStart(event);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'blur':\r\n\t\t\t\tthis.boardModel.dragCardEnd(event);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tpreventDrag(event) {\r\n\t\tthis.boardModel.dragPreventAction(event);\r\n\t}\r\n\r\n\tdeleteActionCard() {\r\n\t\tthis.boardModel.deletePlayedCard('playedCard');\r\n\t}\r\n\r\n\tdeleteRandomCard(card) {\r\n\t\tthis.boardModel.deletePlayedCard('randomCard', card);\r\n\t}\r\n\r\n\taddCardInHand(card) {\r\n\t\tthis.boardModel.createCards(card, 'hand', true);\r\n\t}\r\n\r\n\tshowPlayersDeck(eventTarget) {\r\n\t\tthis.boardModel.showCardsForPlayers(eventTarget);\r\n\t}\r\n\r\n\tclosePlayersDeck(event) {\r\n\t\tif (event == this.boardModel.showDeckPlayer1 || event == this.boardModel.showDeckPlayer2) {\r\n\t\t\tthis.boardModel.openCloseOverlay('open');\r\n\t\t}\r\n\t\tif (event == this.boardModel.playersDeckClose) {\r\n\t\t\tthis.boardModel.openCloseOverlay('close');\r\n\t\t}\r\n\t}\r\n\r\n\tsetPlayersTurnInfo() {\r\n\t\tthis.boardModel.showWhichTurn();\r\n\t}\r\n\r\n\tturnOnOfSound() {\r\n\t\tswitchPlayPause();\r\n\t}\r\n}\r\n","import Game from './modules/gameModel';\r\nimport Board from './modules/boardModel';\r\nimport BoardView from './modules/boardView';\r\nimport GameController from './modules/gameController';\r\nimport Players from './modules/playerModel';\r\nimport PlayersView from './modules/playerView';\r\nimport PlayersController from './modules/playerController';\r\nimport BoardController from './modules/boardController';\r\n\r\nexport const gameObserver = new Game();\r\n\r\nexport const boardModel = new Board(gameObserver);\r\n\r\nconst boardView = new BoardView(boardModel, gameObserver, document.querySelector('.wrapper-battle'));\r\n\r\nconst gameController = new GameController(gameObserver, boardView);\r\n\r\nexport const player1 = new Players(gameObserver, boardModel);\r\n\r\nexport const player2 = new Players(gameObserver, boardModel);\r\n\r\nconst playersView = new PlayersView(player1, player2, gameObserver, document.querySelector('.wrapper-battle'));\r\n\r\nconst playersController = new PlayersController(player1, player2, boardView);\r\n\r\nconst boardController = new BoardController(gameObserver, boardModel, player1, player2, boardView);\r\n\r\ngameObserver.start();\r\n\r\nboardView.init();"],"sourceRoot":""}