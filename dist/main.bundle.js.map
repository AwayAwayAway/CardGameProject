{"version":3,"sources":["webpack://cardgameproject/./js/animation_and_sound_effects/animation.js","webpack://cardgameproject/./js/cards.js","webpack://cardgameproject/./js/game.js","webpack://cardgameproject/./js/modules/boardController.js","webpack://cardgameproject/./js/modules/boardModel.js","webpack://cardgameproject/./js/modules/boardView.js","webpack://cardgameproject/./js/modules/cardsModel.js","webpack://cardgameproject/./js/modules/eventsModel.js","webpack://cardgameproject/./js/modules/gameController.js","webpack://cardgameproject/./js/modules/gameModel.js","webpack://cardgameproject/./js/modules/playerController.js","webpack://cardgameproject/./js/modules/playerModel.js","webpack://cardgameproject/./js/modules/playerView.js","webpack://cardgameproject/webpack/bootstrap","webpack://cardgameproject/webpack/runtime/define property getters","webpack://cardgameproject/webpack/runtime/hasOwnProperty shorthand","webpack://cardgameproject/webpack/runtime/make namespace object","webpack://cardgameproject/webpack/startup"],"names":["loading","target","mainEl","document","createElement","className","body","insertBefore","querySelector","setTimeout","removeChild","chooseEl","battleEl","switchPlayPause","hash","window","location","state","decodeURIComponent","substr","soundOffOn","backAudio","paused","play","pause","checkBackgroundAudio","currentHash","mainAudio","audio","allAudio","querySelectorAll","push","length","every","element","some","shakeAnimation","queryElement","direction","classList","remove","add","createCardAnim","amount","elementAnim","i","children","contains","playSoundEffect","forEach","index","discardCardAnim","endTurnAnim","side","button","turnAnnouncer","style","removeProperty","left","right","blockAnimationEffect","src","container","parentElement","image","appendChild","attackAnimation","transform","Math","floor","random","multipleAttackAnimation","amountEffect","effectStorage","elem","standartAttackAnimation","ultimateSkillAnimation","overlay","overlayClose","soundEffect","currentTime","attackAnimationEffect","strike_w","Cards","bash","anger","effect","gameObserver","bodySlam","perfecedStrike","boardModel","bludgeon","defend_w","armaments","ironWave","warcry","bloodletting","entrench","strike_r","daggerThrow","flechettes","riddleWithHoles","slice","quickSlash","survivor","deflect","backFlip","prepared","expertise","dash","strike_m","cutThroughFate","reachHeaven","signatureMove","tantrum","judjment","masterReality","defend_m","meditate","thirdEye","nirvana","alpha","skillCollection","warrior","rogue","mage","Game","Board","boardView","BoardView","gameController","GameController","player1","Players","player2","playersView","PlayersView","playersController","PlayersController","boardController","BoardController","start","init","game","board","playerModel1","playerModel2","view","gameModel","hasOwnProperty","onLoadCreate","attach","card","place","createCard","onAnimCards","event","cardAnimBoard","cardInHandChoosen","cardAnimHand","grabCardStart","grabedCardAnim","grabCardEnd","preventDrag","dropEvent","deleteActionCard","endTurn","createCardsInHand","setPlayersTurnInfo","showPlayerDeck","showPlayersDeck","closePlayersDeck","selectionContinue","selectionEnd","cardDraw","addCardInHand","cardDiscard","deleteRandomCard","turnOnOfSound","createCardsForChoose","cardChooseAnim","cardChooseAnimInHandAdd","cardChooseAnimInHandRemove","pullRandomCardsInHand","dragCardStart","dragCardEnd","dragPreventAction","deletePlayedCard","createCards","eventTarget","showCardsForPlayers","showDeckPlayer1","showDeckPlayer2","openCloseOverlay","playersDeckClose","showWhichTurn","model","decWrapper","btnAccept","cardsChooseCounter","cardInHand","battleField","playersTurnInfo","cardsPlayField","playersOverlay","playersDeck","onCreateCards","Events","onCounterChange","removeCards","removeActionCard","createAnimation","endTurnAnimation","playerClassInfo","removeExtraCards","playerOneTurn","playerOneClass","notify","playerTwoClass","playerOnePullOfCards","playerTwoPullOfCards","appendPlace","draggable","elDiv","setAttribute","id","backgroundImage","icon","tempIndex","n","indexOf","orderToRemove","condition","tempCard","cost","activePlayer","staminaPoints","dragCard","toggle","counter","getElementsByClassName","counterInfo","number","color","preventDefault","textContent","playersInfo","playerOneName","playerTwoName","selector","boardSelector","onDefineCards","submitCardCheckChoose","doCardAction","addEventListener","drawCards","info","counterUpdate","selectionEndUpdate","cards","extraCardsToRemove","choosePlayerInfo","text","playerChooseInfoUpdate","updatePlayersNames","name1","name2","playerNameUpdate","updatePlayersModels","modelPlayer1","modelPlayer2","playerModelsUpdate","display","player1Model","player2Model","type","data","console","log","name","sideEffect","listeners","listener","arg1","arg2","defineCards","doCardCheckChoose","actionCard","doEndTurn","definePlayersCardSet","checkCardsSelectionEnd","initActionCard","turnEndsNextPlayerTurn","passivePlayer","playerTwoTurn","setPlayersChoiceInfo","setPlayersClasses","setPlayersNames","setPlayersModels","setTextChooseInfo","setActivePassivePlayer","object","temp","localStorage","getItem","JSON","parse","tempCardChoosePlayer","dataset","checkOnSelectedCards","setTurnPriority","datainfo","search","j","find","playerOneModel","playerTwoModel","priority","playCard","doAction","healthPoints","defendPoints","playerViewUpdate","actionAnimation","initialHP","initialDP","updateView","standartAttack","attackDrawDiscard","sideEffectAttack","standartDefend","sideEffectDefend","defendDrawDiscard","defendWithAttack","updateInitialValues","randomCardDraw","randomDiscard","test","abs","undefined","randomCardDiscard","massiveRandomDraw","cardRemove","playerContainer","playerOneHPValue","playerOneDefenceValue","playerOneStaminaValue","playerOneHP","playerTwoHPValue","playerTwoDefenceValue","playerTwoStaminaValue","playerTwoHP","updateViewStamina","doAnimation","updateViewHP","updateViewDef","width","activePlayerUI","passivePlayerUI"],"mappings":"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","file":"main.bundle.js","sourcesContent":["// animation through all menu loading black screen\nfunction loading(target) {\n\tswitch (target) {\n\t\tcase 'mainMenuLoad':\n\t\t\tlet mainEl = document.createElement('div');\n\n\t\t\tmainEl.className = 'back-main-menu-anim';\n\n\t\t\tdocument.body.insertBefore(mainEl, document.querySelector('.wrapper-choose-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(mainEl), 1100);\n\t\t\tbreak;\n\t\tcase 'chooseMenuLoad':\n\t\t\tlet chooseEl = document.createElement('div');\n\n\t\t\tchooseEl.className = 'go-to-choose-menu-anim';\n\n\t\t\tdocument.body.insertBefore(chooseEl, document.querySelector('.wrapper-main-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(chooseEl), 1100);\n\t\t\tbreak;\n\t\tcase 'battleFieldLoad':\n\t\t\tlet battleEl = document.createElement('div');\n\n\t\t\tbattleEl.className = 'start-game-anim';\n\n\t\t\tdocument.body.insertBefore(battleEl, document.querySelector('.wrapper-choose-menu'));\n\n\t\t\tsetTimeout(() => document.body.removeChild(battleEl), 1100);\n\t\t\tbreak;\n\t}\n}\n\n// starting play backgorundMusic\nfunction switchPlayPause() {\n\tconst hash = window.location.hash;\n\tconst state = decodeURIComponent(hash.substr(1));\n\tconst soundOffOn = document.querySelector('.soundIcon');\n\tlet backAudio;\n\n\tif (state == 'battle-field') {\n\t\tbackAudio = document.querySelector('.background-music-battlefield');\n\t} else {\n\t\tbackAudio = document.querySelector('.background-music-main-menu');\n\t}\n\n\tif (backAudio.paused) {\n\t\tbackAudio.play();\n\t\tsoundOffOn.className = 'fas fa-volume-up soundIcon';\n\t} else {\n\t\tbackAudio.pause();\n\t\tsoundOffOn.className = 'fas fa-volume-mute soundIcon';\n\t}\n}\n\nconst checkBackgroundAudio = (function (querySelector) {\n\tconst currentHash = [];\n\tconst mainAudio = document.querySelector('.background-music-main-menu');\n\tconst audio = document.querySelector('.background-music-battlefield');\n\tconst allAudio = document.querySelectorAll('.music');\n\n\treturn function () {\n\t\tcurrentHash.push(decodeURIComponent(window.location.hash.substr(1)));\n\n\t\tconst soundOffOn = document.querySelector(querySelector);\n\n\t\tif (currentHash[currentHash.length - 1] === 'battle-field' && [...allAudio].every(element => element.paused)) {\n\t\t\tmainAudio.pause();\n\t\t\taudio.pause();\n\t\t} else if (currentHash[currentHash.length - 1] === 'battle-field' && [...allAudio].some(element => element.paused)) {\n\t\t\tmainAudio.pause();\n\t\t\taudio.play();\n\t\t} else if (currentHash[currentHash.length - 1] === 'choose-menu' &&\n\t\t\tcurrentHash[currentHash.length - 2] === 'battle-field' && [...allAudio].every(element => element.paused)) {\n\t\t\tmainAudio.pause();\n\t\t\taudio.pause();\n\t\t} else if (currentHash[currentHash.length - 1] === 'choose-menu' &&\n\t\t\tcurrentHash[currentHash.length - 2] === 'battle-field' && [...allAudio].some(element => element.paused)) {\n\t\t\tmainAudio.play();\n\t\t\taudio.pause();\n\t\t}\n\n\t\tif ([...allAudio].every(element => element.paused)) {\n\t\t\tsoundOffOn.className = 'fas fa-volume-mute soundIcon';\n\t\t} else {\n\t\t\tsoundOffOn.className = 'fas fa-volume-up soundIcon';\n\t\t}\n\t};\n}('.soundIcon'));\n\n// shake display when character choosed\nfunction shakeAnimation(queryElement, direction = 'horizontal') {\n\tconst element = document.querySelector(queryElement);\n\n\tswitch (direction) {\n\t\tcase 'horizontal':\n\t\t\telement.classList.remove('shakeX');\n\t\t\tsetTimeout(() => element.classList.add('shakeX'), 0);\n\t\t\tsetTimeout(() => element.classList.remove('shakeX'), 400);\n\t\t\tbreak;\n\t\tcase 'vertical':\n\t\t\telement.classList.remove('shakeY');\n\t\t\tsetTimeout(() => element.classList.add('shakeY'), 0);\n\t\t\tsetTimeout(() => element.classList.remove('shakeY'), 400);\n\t\t\tbreak;\n\t\tcase 'mix':\n\t\t\telement.classList.remove('shakeMix');\n\t\t\tsetTimeout(() => element.classList.add('shakeMix'), 0);\n\t\t\tsetTimeout(() => element.classList.remove('shakeMix'), 400);\n\t\t\tbreak;\n\t}\n}\n\nfunction createCardAnim(querySelector, amount) {\n\tlet elementAnim = document.querySelector(querySelector);\n\n\tswitch (amount) {\n\t\tcase 'single':\n\t\t\tfor (let i = 0; i < [...elementAnim.children].length; i++) {\n\t\t\t\tif (elementAnim.children[i].classList.contains('cardsDrawAnim')) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\telementAnim.children[i].classList.add('cardsDrawAnim');\n\n\t\t\t\t\tplaySoundEffect('.push-card-audio');\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'multiple':\n\t\t\t[...elementAnim.children].forEach((element, index) => setTimeout(() => {\n\t\t\t\telement.classList.add('cardsDrawAnim');\n\n\t\t\t\tplaySoundEffect('.push-card-audio');\n\t\t\t}, 250 * index));\n\t\t\tbreak;\n\t\tcase 'overlay':\n\t\t\t[...elementAnim.children].forEach(element => element.classList.add('cardsDrawAnim'));\n\t}\n}\n\nfunction discardCardAnim(querySelector) {\n\tquerySelector.classList.add('cardDiscard');\n}\n\nfunction endTurnAnim(side) {\n\tconst button = document.querySelector('.end-of-turn-btn');\n\tconst turnAnnouncer = document.querySelector('.players-action');\n\n\tturnAnnouncer.classList.add('players-turn-info');\n\n\tswitch (side) {\n\t\tcase 'left':\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.style.removeProperty('right');\n\t\t\t\tbutton.style.left = '5%';\n\t\t\t}, 500);\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tsetTimeout(() => {\n\t\t\t\tbutton.style.removeProperty('left');\n\t\t\t\tbutton.style.right = '5%';\n\t\t\t}, 500);\n\t\t\tbreak;\n\t}\n\n\tsetTimeout(() => button.classList.add('endTurnAnim'), 1300);\n\n\tsetTimeout(() => turnAnnouncer.classList.remove('players-turn-info'), 2100);\n\n\tsetTimeout(() => button.classList.remove('endTurnAnim'), 1000);\n}\n\nfunction blockAnimationEffect(querySelector, className, src) {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = document.createElement('img');\n\n\timage.src = src;\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\tsetTimeout(() => container.removeChild(image), 1000);\n}\n\nfunction attackAnimation(querySelector, className, src) {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = document.createElement('img');\n\n\timage.src = src;\n\timage.style.transform = `rotate(${Math.floor(Math.random() * (360 - 1) + 1)}deg)`;\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\tsetTimeout(() => container.removeChild(image), 600);\n}\n\nfunction multipleAttackAnimation(querySelector, className, src, amountEffect) {\n\tconst container = document.querySelector(querySelector).parentElement;\n\n\tlet effectStorage = [];\n\n\tfor (let i = 0; i < amountEffect; i++) {\n\t\tconst image = document.createElement('img');\n\t\teffectStorage.push(image);\n\t}\n\n\teffectStorage.forEach((elem, index) => {\n\t\telem.src = src;\n\n\t\tif (index === 1) {\n\t\t\telem.style.transform = 'rotate(30deg)';\n\t\t} else if (index === 2) {\n\t\t\telem.style.transform = 'rotate(315deg)';\n\t\t}\n\n\t\telem.className = className;\n\n\t\tsetTimeout(() => {\n\t\t\tcontainer.appendChild(elem);\n\t\t\tplaySoundEffect('.strike-attack-audio');\n\t\t\tsetTimeout(() => container.removeChild(elem), 400);\n\t\t}, index * 300);\n\t});\n}\n\nfunction standartAttackAnimation(querySelector, className, src) {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst image = document.createElement('img');\n\n\timage.src = src;\n\timage.className = className;\n\n\tcontainer.appendChild(image);\n\n\tsetTimeout(() => container.removeChild(image), 400);\n}\n\nfunction ultimateSkillAnimation(querySelector, className, src, audio) {\n\tconst container = document.querySelector(querySelector).parentElement;\n\tconst overlay = document.querySelector('.players-overlay');\n\tconst overlayClose = document.querySelector('.overlay__close');\n\tconst image = document.createElement('img');\n\n\timage.src = src;\n\timage.className = className;\n\n\toverlay.classList.remove('hidden');\n\toverlay.classList.add('fade-in');\n\toverlayClose.classList.add('hidden');\n\n\tsetTimeout(() => {\n\t\tcontainer.appendChild(image);\n\n\t\tshakeAnimation(querySelector)\n\n\t\tplaySoundEffect(audio);\n\t}, 200);\n\n\tsetTimeout(() => {\n\t\tcontainer.removeChild(image);\n\t\toverlay.classList.add('fade-out');\n\n\t}, 800);\n\n\tsetTimeout(() => {\n\t\toverlay.classList.add('hidden');\n\t\toverlay.classList.remove('fade-in');\n\t\toverlay.classList.remove('fade-out');\n\t\toverlayClose.classList.remove('hidden');\n\t}, 1000);\n}\n\nfunction playSoundEffect(querySelector) {\n\tconst soundEffect = document.querySelector(querySelector);\n\n\tif (!soundEffect) {\n\t\treturn;\n\t}\n\n\tsoundEffect.currentTime = 0;\n\n\tsoundEffect.play();\n}\n\nfunction attackAnimationEffect(querySelector, direction) {\n\tconst container = document.querySelector(querySelector);\n\n\tswitch (direction) {\n\t\tcase 'right':\n\t\t\tcontainer.classList.add('attackRight');\n\n\t\t\tsetTimeout(() => container.classList.remove('attackRight'), 1000);\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tcontainer.classList.add('attackLeft');\n\n\t\t\tsetTimeout(() => container.classList.remove('attackLeft'), 1000);\n\t\t\tbreak;\n\t}\n}\n\nexport {\n\tloading, switchPlayPause, checkBackgroundAudio, shakeAnimation,\n\tcreateCardAnim, endTurnAnim, blockAnimationEffect, attackAnimation,\n\tplaySoundEffect, attackAnimationEffect, multipleAttackAnimation, discardCardAnim,\n\tstandartAttackAnimation, ultimateSkillAnimation\n};\n\n\n\n\n","import Cards from './modules/cardsModel';\nimport {gameObserver} from './game';\nimport {boardModel} from './game';\n\n//START CREATING WARRIOR'S CARDS\nconst strike_w = new Cards(0, 'attack', 1, 6, 'images/cards/warrior/Strike.png', 'strike_w');\n\nconst bash = new Cards(1, 'attack', 1, 8, 'images/cards/warrior/Bash.png', 'bash');\n\nconst anger = new Cards(2, 'attackAddEffect', 1, 6, 'images/cards/warrior/Anger.png', 'anger',\n\t() => {\n\t\tlet effect;\n\t\tif (gameObserver.activePlayer.healthPoints < 50) {\n\t\t\teffect = 13;\n\t\t} else {\n\t\t\teffect = 6;\n\t\t}\n\t\treturn effect;\n\t});\n\nconst bodySlam = new Cards(3, 'attackAddEffect', 2, 0, 'images/cards/warrior/BodySlam.png', 'bodySlam', () => {\n\tlet effect;\n\tif (gameObserver.activePlayer.defendPoints > 0) {\n\t\teffect = gameObserver.activePlayer.defendPoints;\n\t} else {\n\t\teffect = 0;\n\t}\n\treturn effect;\n});\n\nconst perfecedStrike = new Cards(4, 'attackAddEffect', 1, 6, 'images/cards/warrior/PerfectedStrike.png', 'perfectedStrike', () => 6 + boardModel.cardInHand.children.length);\n\nconst bludgeon = new Cards(5, 'attackAddEffect', 3, 12, 'images/cards/warrior/Bludgeon.png', 'bludgeon', () => {\n\tlet effect;\n\tif (gameObserver.passivePlayer.healthPoints > 50) {\n\t\teffect = 17;\n\t} else {\n\t\teffect = 12;\n\t}\n\treturn effect;\n});\n\nconst defend_w = new Cards(6, 'defend', 1, 5, 'images/cards/warrior/Defend_R.png', 'defend_w');\n\nconst armaments = new Cards(7, 'defendAddEffect', 1, 5, 'images/cards/warrior/Armaments.png', 'armaments', () => {\n\tlet effect;\n\tif (gameObserver.activePlayer.defendPoints === 0) {\n\t\teffect = 7;\n\t} else {\n\t\teffect = 5;\n\t}\n\treturn effect;\n});\n\nconst ironWave = new Cards(8, 'defendAndAttack', 1, 5, 'images/cards/warrior/IronWave.png', 'ironWave', () => 5);\n\nconst warcry = new Cards(9, 'defendDrawDiscard', 0, 1, 'images/cards/warrior/Warcry.png', 'warcry');\n\nconst bloodletting = new Cards(10, 'defendDrawDiscard', 0, 3, 'images/cards/warrior/Bloodletting.png', 'bloodletting');\n\nconst entrench = new Cards(11, 'defendAddEffect', 2, 2, 'images/cards/warrior/Entrench.png', 'entrench', () => gameObserver.activePlayer.defendPoints * 2 - gameObserver.activePlayer.defendPoints);\n\n//START CREATING ROGUE'S CARDS\nconst strike_r = new Cards(0, 'attack', 1, 6, 'images/cards/rogue/Strike_G.png', 'strike_r');\n\nconst daggerThrow = new Cards(1, 'attackDrawDiscard', 1, 9, 'images/cards/rogue/R_dagger-throw.png', 'daggerThrow');\n\nconst flechettes = new Cards(2, 'attackAddEffect', 1, 3, 'images/cards/rogue/Flechettes.png', 'flechettes', () => 3 * boardModel.cardInHand.children.length);\n\nconst riddleWithHoles = new Cards(3, 'attackAddEffect', 2, 7, 'images/cards/rogue/RiddleWithHoles.png', 'riddleWithHoles');\n\nconst slice = new Cards(4, 'attack', 0, 4, 'images/cards/rogue/Slice.png', 'slice');\n\nconst quickSlash = new Cards(5, 'attackDrawDiscard', 1, 7, 'images/cards/rogue/QuickSlash.png', 'quickSlash');\n\nconst survivor = new Cards(6, 'defendDrawDiscard', 1, 8, 'images/cards/rogue/Survivor.png', 'survivor');\n\nconst deflect = new Cards(7, 'defend', 0, 4, 'images/cards/rogue/Deflect.png', 'deflect');\n\nconst backFlip = new Cards(8, 'defendDrawDiscard', 1, 2, 'images/cards/rogue/Backflip.png', 'backFlip', () => 5);\n\nconst prepared = new Cards(9, 'defendDrawDiscard', 0, 1, 'images/cards/rogue/Prepared.png', 'prepared');\n\nconst expertise = new Cards(10, 'defendDrawDiscard', 1, 5, 'images/cards/rogue/Expertise.png', 'expertise');\n\nconst dash = new Cards(11, 'defendAndAttack', 2, 10, 'images/cards/rogue/Dash.png', 'dash', () => 8);\n\n//START CREATING MAGE'S CARDS\nconst strike_m = new Cards(0, 'attack', 1, 6, 'images/cards/mage/Strike_P.png', 'strike_m');\n\nconst cutThroughFate = new Cards(1, 'attackDrawDiscard', 1, 7, 'images/cards/mage/CutThroughFate.png', 'cutThroughFate', () => 2);\n\nconst reachHeaven = new Cards(2, 'attack', 2, 10, 'images/cards/mage/ReachHeaven.png', 'reachHeaven');\n\nconst signatureMove = new Cards(3, 'attackAddEffect', 2, 0, 'images/cards/mage/SignatureMove.png', 'signatureMove', () => gameObserver.passivePlayer.defendPoints);\n\nconst tantrum = new Cards(4, 'attackAddEffect', 1, 3, 'images/cards/mage/Tantrum.png', 'tantrum', () => 3 + (Math.floor(Math.random() * (6 - 1)) + 1));\n\nconst judjment = new Cards(5, 'attackAddEffect', 2, 0, 'images/cards/mage/Judgment.png', 'judjment', () => {\n\tlet effect;\n\tif (gameObserver.passivePlayer.healthPoints <= 15) {\n\t\teffect = 0;\n\t}\n\treturn effect;\n});\n\nconst masterReality = new Cards(6, 'defendAddEffect', 1, 5, 'images/cards/mage/MasterReality.png', 'masterReality', () => {\n\tlet effect;\n\tif (gameObserver.activePlayer.defendPoints == 0) {\n\t\teffect = 10;\n\t} else {\n\t\teffect = 5;\n\t}\n\treturn effect;\n});\n\nconst defend_m = new Cards(7, 'defend', 1, 5, 'images/cards/mage/Defend_P.png', 'defend_m');\n\nconst meditate = new Cards(8, 'defendAddEffect', 1, 3, 'images/cards/mage/Meditate.png', 'meditate');\n\nconst thirdEye = new Cards(9, 'defendDrawDiscard', 1, 7, 'images/cards/mage/ThirdEye.png', 'thirdEye');\n\nconst nirvana = new Cards(10, 'defendAddEffect', 1, 0, 'images/cards/mage/Nirvana.png', 'nirvana', () => gameObserver.passivePlayer.defendPoints);\n\nconst alpha = new Cards(11, 'defendDrawDiscard', 1, 4, 'images/cards/mage/Alpha.png', 'alpha');\n\n\nexport const skillCollection = {\n\twarrior: [strike_w, bash, anger, bodySlam, perfecedStrike, bludgeon, defend_w, armaments, ironWave, warcry, bloodletting, entrench],\n\trogue: [strike_r, daggerThrow, flechettes, riddleWithHoles, slice, quickSlash, survivor, deflect, backFlip, prepared, expertise, dash],\n\tmage: [strike_m, cutThroughFate, reachHeaven, signatureMove, tantrum, judjment, masterReality, defend_m, meditate, thirdEye, nirvana, alpha]\n};\n","import Game from './modules/gameModel';\nimport Board from './modules/boardModel';\nimport BoardView from './modules/boardView';\nimport GameController from './modules/gameController';\nimport Players from './modules/playerModel';\nimport PlayersView from './modules/playerView';\nimport PlayersController from './modules/playerController';\nimport BoardController from './modules/boardController';\n\nexport const gameObserver = new Game();\n\nexport const boardModel = new Board(gameObserver);\n\nconst boardView = new BoardView(boardModel, gameObserver, document.querySelector('.wrapper-battle'));\n\nconst gameController = new GameController(gameObserver, boardView);\n\nexport const player1 = new Players(gameObserver, boardModel);\n\nexport const player2 = new Players(gameObserver, boardModel);\n\nconst playersView = new PlayersView(player1, player2, gameObserver, document.querySelector('.wrapper-battle'));\n\nconst playersController = new PlayersController(player1, player2, boardView);\n\nconst boardController = new BoardController(gameObserver, boardModel, player1, player2, boardView);\n\ngameObserver.start();\n\nboardView.init();","import {switchPlayPause} from '../animation_and_sound_effects/animation.js';\n\nexport default class BoardController {\n\tconstructor(game, board, playerModel1, playerModel2, view) {\n\t\tthis.gameModel = game;\n\t\tthis.boardModel = board;\n\t\tthis.player1 = playerModel1;\n\t\tthis.player2 = playerModel2;\n\t\tthis.boardView = view;\n\n\t\tif (this.boardView.hasOwnProperty('onLoadCreate')) {\n\t\t\tthis.boardView.onLoadCreate.attach((card, place) => this.createCard(card, place));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('onAnimCards')) {\n\t\t\tthis.boardView.onAnimCards.attach((event) => this.cardAnimBoard(event));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('cardInHandChoosen')) {\n\t\t\tthis.boardView.cardInHandChoosen.attach((event, state) => this.cardAnimHand(event, state));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('grabCardStart')) {\n\t\t\tthis.boardView.grabCardStart.attach((event, state) => this.grabedCardAnim(event, state));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('grabCardEnd')) {\n\t\t\tthis.boardView.grabCardEnd.attach((event, state) => this.grabedCardAnim(event, state));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('preventDrag')) {\n\t\t\tthis.boardView.preventDrag.attach((event) => this.preventDrag(event));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('dropEvent')) {\n\t\t\tthis.boardView.dropEvent.attach(() => this.deleteActionCard());\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('endTurn')) {\n\t\t\tthis.boardView.endTurn.attach(() => this.createCardsInHand());\n\t\t\tthis.boardView.endTurn.attach(() => this.setPlayersTurnInfo());\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('showPlayerDeck')) {\n\t\t\tthis.boardView.showPlayerDeck.attach((event) => this.showPlayersDeck(event));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('showPlayerDeck')) {\n\t\t\tthis.boardView.showPlayerDeck.attach((event) => this.closePlayersDeck(event));\n\t\t}\n\n\t\tif (this.gameModel.hasOwnProperty('selectionContinue')) {\n\t\t\tthis.gameModel.selectionContinue.attach(() => this.createCard());\n\t\t}\n\n\t\tif (this.gameModel.hasOwnProperty('selectionEnd')) {\n\t\t\tthis.gameModel.selectionEnd.attach(() => this.createCardsInHand());\n\t\t\tthis.gameModel.selectionEnd.attach(() => this.setPlayersTurnInfo());\n\t\t}\n\n\t\tif (this.player1.hasOwnProperty('cardDraw')) {\n\t\t\tthis.player1.cardDraw.attach((card) => this.addCardInHand(card));\n\t\t}\n\n\t\tif (this.player2.hasOwnProperty('cardDraw')) {\n\t\t\tthis.player2.cardDraw.attach((card) => this.addCardInHand(card));\n\t\t}\n\n\t\tif (this.player1.hasOwnProperty('cardDiscard')) {\n\t\t\tthis.player1.cardDiscard.attach((card) => this.deleteRandomCard(card));\n\t\t}\n\n\t\tif (this.player2.hasOwnProperty('cardDiscard')) {\n\t\t\tthis.player2.cardDiscard.attach((card) => this.deleteRandomCard(card));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('soundOffOn')) {\n\t\t\tthis.boardView.soundOffOn.attach(() => this.turnOnOfSound());\n\t\t}\n\t}\n\n\tcreateCard() {\n\t\tthis.boardModel.createCardsForChoose(this.gameModel);\n\t}\n\n\tcardAnimBoard(event) {\n\t\tthis.boardModel.cardChooseAnim(event);\n\t}\n\n\tcardAnimHand(event, state) {\n\t\tswitch (state) {\n\t\t\tcase 'focus':\n\t\t\t\tthis.boardModel.cardChooseAnimInHandAdd(event);\n\t\t\t\tbreak;\n\t\t\tcase 'blur':\n\t\t\t\tthis.boardModel.cardChooseAnimInHandRemove(event);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcreateCardsInHand() {\n\t\tthis.boardModel.pullRandomCardsInHand();\n\t}\n\n\tgrabedCardAnim(event, state) {\n\t\tswitch (state) {\n\t\t\tcase 'focus':\n\t\t\t\tthis.boardModel.dragCardStart(event);\n\t\t\t\tbreak;\n\t\t\tcase 'blur':\n\t\t\t\tthis.boardModel.dragCardEnd(event);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpreventDrag(event) {\n\t\tthis.boardModel.dragPreventAction(event);\n\t}\n\n\tdeleteActionCard() {\n\t\tthis.boardModel.deletePlayedCard('playedCard');\n\t}\n\n\tdeleteRandomCard(card) {\n\t\tthis.boardModel.deletePlayedCard('randomCard', card);\n\t}\n\n\taddCardInHand(card) {\n\t\tthis.boardModel.createCards(card, 'hand', true);\n\t}\n\n\tshowPlayersDeck(eventTarget) {\n\t\tthis.boardModel.showCardsForPlayers(eventTarget);\n\t}\n\n\tclosePlayersDeck(event) {\n\t\tif (event == this.boardModel.showDeckPlayer1 || event == this.boardModel.showDeckPlayer2) {\n\t\t\tthis.boardModel.openCloseOverlay('open');\n\t\t}\n\t\tif (event == this.boardModel.playersDeckClose) {\n\t\t\tthis.boardModel.openCloseOverlay('close');\n\t\t}\n\t}\n\n\tsetPlayersTurnInfo() {\n\t\tthis.boardModel.showWhichTurn();\n\t}\n\n\tturnOnOfSound() {\n\t\tswitchPlayPause();\n\t}\n}\n","import Events from './eventsModel';\nimport {skillCollection} from '../cards';\nimport {createCardAnim, playSoundEffect, endTurnAnim} from '../animation_and_sound_effects/animation.js';\n\nexport default class Board {\n\tconstructor(model) {\n\t\tthis.gameModel = model;\n\n\t\tthis.decWrapper = document.querySelector('.cards-choose-field');        // field for cards at the start when players are choosing\n\t\tthis.btnAccept = document.querySelector('.accept');               // player accept cards he chose\n\t\tthis.cardsChooseCounter = document.querySelector('.count');             // counter for amount of cards have been chosen(needs for alert)\n\t\tthis.cardInHand = document.querySelector('.card-in-hand-field');              // field for cards in hand each player\n\t\tthis.battleField = document.querySelector('.battle-field');            // play field\n\t\tthis.endTurn = document.querySelector('.end-of-turn-btn');             // end turn button\n\t\tthis.playersTurnInfo = document.querySelector('.players-action');\n\t\tthis.cardsPlayField = document.querySelector('.play-field');           // area for cards to drop and play their actions\n\t\tthis.soundOffOn = document.querySelector('.soundIcon');\n\n\t\tthis.playersOverlay = document.querySelector('.players-overlay');\n\t\tthis.playersDeck = document.querySelector('.players-overlay__cards');\n\t\tthis.playersDeckClose = document.querySelector('.overlay__close');\n\n\t\tthis.showDeckPlayer1 = document.querySelector('.player-1__pile-of-car');           // возможность в игре посмотреть какие карты ты выбрал\n\t\tthis.showDeckPlayer2 = document.querySelector('.player-2__pile-of-car');           // возможность в игре посмотреть какие карты ты выбрал\n\n\t\t// создаем событие на создание карт\n\t\tthis.onCreateCards = new Events();\n\t\tthis.onCounterChange = new Events();\n\t\tthis.removeCards = new Events();\n\t\tthis.removeActionCard = new Events();\n\t\tthis.createAnimation = new Events();\n\t\tthis.endTurnAnimation = new Events();\n\t}\n\n\t// создаем деку в начале игры для игрока согласно классу\n\tcreateCardsForChoose(playerClassInfo) {\n\t\tthis.removeExtraCards('board');\n\n\t\tif (this.gameModel.playerOneTurn) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tskillCollection[playerClassInfo.playerOneClass].forEach((element) => this.createCards(element, 'board'));\n\n\t\t\t\tthis.createAnimation.notify('.cards-choose-field', 'multiple');\n\n\t\t\t\t// createCardAnim('.cards-choose-field', 'multiple');\n\t\t\t}, 500)\n\t\t} else {\n\t\t\tsetTimeout(() => {\n\t\t\t\tskillCollection[playerClassInfo.playerTwoClass].forEach((element) => this.createCards(element, 'board'));\n\n\t\t\t\tthis.createAnimation.notify('.cards-choose-field', 'multiple');\n\n\t\t\t\t// createCardAnim('.cards-choose-field', 'multiple');\n\t\t\t}, 500)\n\t\t}\n\t}\n\n\tshowCardsForPlayers(eventTarget) {\n\t\tthis.removeExtraCards('overlay');\n\n\t\tlet target = eventTarget;\n\n\t\tif (target.classList.contains('player-1__pile-of-car')) {\n\t\t\tthis.gameModel.playerOnePullOfCards.forEach((element) => this.createCards(element, 'overlay'));\n\n\t\t\tthis.createAnimation.notify('.players-overlay__cards', 'overlay')\n\n\t\t\t// createCardAnim('.players-overlay__cards', 'overlay');\n\t\t}\n\n\t\tif (target.classList.contains('player-2__pile-of-car')) {\n\t\t\tthis.gameModel.playerTwoPullOfCards.forEach((element) => this.createCards(element, 'overlay'));\n\n\t\t\tthis.createAnimation.notify('.players-overlay__cards', 'overlay')\n\n\t\t\t// createCardAnim('.players-overlay__cards', 'overlay');\n\t\t}\n\t}\n\n\topenCloseOverlay(state) {\n\t\tswitch (state) {\n\t\t\tcase 'open':\n\t\t\t\tthis.playersOverlay.classList.remove('hidden');\n\n\t\t\t\tplaySoundEffect('.overlay-open-audio');\n\n\t\t\t\tbreak;\n\t\t\tcase 'close':\n\t\t\t\tthis.playersOverlay.classList.add('hidden');\n\n\t\t\t\tplaySoundEffect('.overlay-close-audio');\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcreateCards(card, appendPlace, draggable = false) {\n\t\tlet elDiv = document.createElement('div');\n\n\t\telDiv.setAttribute('class', 'cards');\n\t\telDiv.setAttribute('data-info', `${card.id}`);\n\t\telDiv.style.backgroundImage = `url(${card.icon})`;\n\n\t\tif (draggable) {\n\t\t\telDiv.setAttribute('draggable', 'true');\n\t\t}\n\n\t\tthis.onCreateCards.notify(elDiv, appendPlace);\n\t}\n\n\t// кидаем карты в руку\n\tpullRandomCardsInHand() {\n\t\tthis.removeExtraCards('hand');\n\n\t\tlet tempIndex = [];\n\n\t\t//делаем проверку чтобы карты в руке не повторялись\n\t\tfor (let i = 0; i < 4; i++) {                  // количество карт в руку\n\t\t\tlet n = Math.floor(Math.random() * 8);   // количество набранных карт\n\t\t\tif (tempIndex.indexOf(n) == -1) {\n\t\t\t\ttempIndex.push(n);\n\t\t\t} else {\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\n\t\t// создаем карты в руке согласно игрока чей ход\n\t\tif (this.gameModel.playerOneTurn) {\n\t\t\tfor (let i = 0; i < tempIndex.length; i++) {\n\t\t\t\tthis.createCards(this.gameModel.playerOnePullOfCards[tempIndex[i]], 'hand', true);\n\t\t\t}\n\n\t\t\tthis.createAnimation.notify('.card-in-hand-field', 'multiple');\n\n\t\t\t// createCardAnim('.card-in-hand-field', 'multiple');\n\t\t} else {\n\t\t\tfor (let i = 0; i < tempIndex.length; i++) {\n\t\t\t\tthis.createCards(this.gameModel.playerTwoPullOfCards[tempIndex[i]], 'hand', true);\n\t\t\t}\n\n\t\t\tthis.createAnimation.notify('.card-in-hand-field', 'multiple');\n\n\t\t\t// createCardAnim('.card-in-hand-field', 'multiple');\n\t\t}\n\t}\n\n\t// убираем лишние карты с доски или из руки\n\tremoveExtraCards(place) {\n\t\tlet orderToRemove = [];\n\n\t\tswitch (place) {\n\t\t\tcase 'board':\n\t\t\t\torderToRemove = [...this.decWrapper.children];\n\t\t\t\tbreak;\n\t\t\tcase 'hand':\n\t\t\t\torderToRemove = [...this.cardInHand.children];\n\t\t\t\tbreak;\n\t\t\tcase 'overlay':\n\t\t\t\torderToRemove = [...this.playersDeck.children];\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.removeCards.notify(orderToRemove, place);\n\t}\n\n\t//удаляем сыгранные карты из руки с проверкой\n\tdeletePlayedCard(condition, card) {\n\t\tif (this.gameModel.tempCard.cost > this.gameModel.activePlayer.staminaPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (condition) {\n\t\t\tcase 'playedCard':\n\t\t\t\tthis.removeActionCard.notify(this.gameModel.dragCard);\n\t\t\t\tbreak;\n\t\t\tcase 'randomCard':\n\t\t\t\tthis.removeActionCard.notify(card);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// подсветка выбранных карт\n\tcardChooseAnim(eventTarget) {\n\t\tlet target = eventTarget;\n\n\t\tif (target !== this.decWrapper) {\n\t\t\ttarget.classList.toggle('card-to-select');\n\t\t}\n\n\t\tif (target.classList.contains('card-to-select')) {\n\t\t\tplaySoundEffect('.card-selected-audio')\n\t\t}\n\n\t\tlet counter = document.getElementsByClassName('card-to-select').length;\n\n\t\tlet counterInfo = {};\n\n\t\tcounterInfo.number = counter;\n\n\t\tif (counter > 8) {\n\t\t\tcounterInfo.color = 'red';\n\t\t} else if (counter == 8) {\n\t\t\tcounterInfo.color = 'green';\n\t\t} else if (counter > 0 && counter < 8) {\n\t\t\tcounterInfo.color = 'cyan';\n\t\t} else {\n\t\t\tcounterInfo.color = 'white';\n\t\t}\n\n\t\tthis.onCounterChange.notify(counterInfo);\n\t}\n\n\t//анимация выбора только одной карты для игры в руке\n\tcardChooseAnimInHandAdd(eventTarget) {\n\t\tlet target = eventTarget;\n\n\t\tif (target !== this.cardInHand) {\n\t\t\ttarget.classList.add('card-to-action');\n\t\t}\n\t}\n\n\t//анимация выбора только одной карты для игры в руке\n\tcardChooseAnimInHandRemove(eventTarget) {\n\t\tlet target = eventTarget;\n\n\t\tif (target !== this.cardInHand) {\n\t\t\ttarget.classList.remove('card-to-action');\n\t\t}\n\t}\n\n\t//добавляем стили для перетаскивания\n\tdragCardStart(eventTarget) {\n\t\tlet target = eventTarget;\n\n\t\tif (target !== this.cardInHand) {\n\t\t\tsetTimeout(() => target.classList.add('invisible'), 0);\n\t\t}\n\n\t\tplaySoundEffect('.drag-audio');\n\t}\n\n\t//у ираем стили для перетаскивания\n\tdragCardEnd(eventTarget) {\n\t\tplaySoundEffect('.card-grab-cancel-audio');\n\n\t\tlet target = eventTarget;\n\n\t\tif (target !== this.cardInHand) {\n\t\t\ttarget.classList.remove('invisible');\n\t\t}\n\t}\n\n\tdragPreventAction(event) {\n\t\tevent.preventDefault();\n\t}\n\n\tshowWhichTurn() {\n\t\tplaySoundEffect('.end-turn-audio');\n\n\t\tif (this.gameModel.playerOneTurn) {\n\t\t\tthis.playersTurnInfo.textContent = `${this.gameModel.playersInfo.playerOneName}'s Turn`;\n\n\t\t\tthis.endTurnAnimation.notify('left');\n\n\t\t\t// endTurnAnim('left');\n\t\t} else {\n\t\t\tthis.playersTurnInfo.textContent = `${this.gameModel.playersInfo.playerTwoName}'s Turn`;\n\n\t\t\tthis.endTurnAnimation.notify('right');\n\n\t\t\t// endTurnAnim('right');\n\t\t}\n\t}\n}\n","import Events from './eventsModel';\nimport {createCardAnim, endTurnAnim} from '../animation_and_sound_effects/animation';\n\nexport default class BoardView {\n\tconstructor(board, game, selector) {\n\t\tthis.boardModel = board;\n\t\tthis.gameModel = game;\n\t\tthis.boardSelector = selector;\n\n\t\tthis.onLoadCreate = new Events;\n\n\t\t// событие для this.gameModel закинуть в масиив выбранные карты\n\t\tthis.onDefineCards = new Events;\n\n\t\t// событие на анимацию(подсветку выбора карт)\n\t\tthis.onAnimCards = new Events;\n\n\t\t// событие на проверку набрали ли игроки карты\n\t\tthis.submitCardCheckChoose = new Events;\n\n\t\t// навели убрали мышку на карту в руке\n\t\tthis.cardInHandChoosen = new Events();\n\n\t\t// навели убрали мышку на карту в руке\n\t\tthis.grabCardStart = new Events();\n\n\t\tthis.grabCardEnd = new Events();\n\n\t\tthis.preventDrag = new Events();\n\n\t\t//удаляем сыгранную карту\n\t\tthis.dropEvent = new Events();\n\n\t\t// выполняем действие карты\n\t\tthis.doCardAction = new Events();\n\n\t\tthis.endTurn = new Events();\n\n\t\tthis.showPlayerDeck = new Events();\n\n\t\tthis.soundOffOn = new Events();\n\n\t\tthis.boardModel.btnAccept.addEventListener('click', () => this.onDefineCards.notify());\n\n\t\tthis.boardModel.btnAccept.addEventListener('click', () => this.submitCardCheckChoose.notify());\n\n\t\t// событие клик подстветка выбора карт\n\t\tthis.boardModel.decWrapper.addEventListener('click', (event) => this.onAnimCards.notify(event.target));\n\n\t\t// показываем карты какие наюрал игрок на этапе выбора\n\t\tthis.boardModel.battleField.addEventListener('click', (event) => this.showPlayerDeck.notify(event.target));\n\n\t\tthis.boardModel.playersDeckClose.addEventListener('click', (event) => this.showPlayerDeck.notify(event.target));\n\n\t\t// анимация карт в руке при наведении\n\t\tthis.boardModel.cardInHand.addEventListener('mouseover', (event) => this.cardInHandChoosen.notify(event.target, 'focus'));\n\n\t\tthis.boardModel.cardInHand.addEventListener('mouseout', (event) => this.cardInHandChoosen.notify(event.target, 'blur'));\n\n\t\t// анимация карт при перетаскивании плюс узнаем какую карту перетавскиваем\n\t\tthis.boardModel.cardInHand.addEventListener('dragstart', (event) => this.grabCardStart.notify(event.target, 'focus'));\n\n\t\tthis.boardModel.cardInHand.addEventListener('dragend', (event) => this.grabCardEnd.notify(event.target, 'blur'));\n\n\t\t// prevent default behavior\n\t\tthis.boardModel.cardsPlayField.addEventListener('dragenter', (event) => this.preventDrag.notify(event));\n\n\t\tthis.boardModel.cardsPlayField.addEventListener('dragover', (event) => this.preventDrag.notify(event));\n\n\t\t// играем карты\n\t\tthis.boardModel.cardsPlayField.addEventListener('drop', () => this.dropEvent.notify());\n\n\t\tthis.boardModel.cardsPlayField.addEventListener('drop', () => this.doCardAction.notify(this.gameModel.playerOneTurn));\n\n\t\tthis.boardModel.endTurn.addEventListener('click', () => this.endTurn.notify());\n\n\t\tthis.boardModel.soundOffOn.addEventListener('click', () => this.soundOffOn.notify());\n\n\n\t\t// подписываемся на событие в модели\n\t\t// this.boardModel создала карты надо их отобразить\n\t\tthis.boardModel.onCreateCards.attach((card, place) => this.drawCards(card, place));\n\n\t\t// модель меняет количество набранных карт отображаем\n\t\tthis.boardModel.onCounterChange.attach((info) => this.counterUpdate(info));\n\n\t\t// событие this.gameModel проверяет набранны ли у игроков карты\n\t\tthis.gameModel.selectionEnd.attach(() => this.selectionEndUpdate());\n\n\t\t// событие на удаление лишних карт\n\t\tthis.boardModel.removeCards.attach((cards, place) => this.extraCardsToRemove(cards, place));\n\n\t\t// событие на отображение инфо кто выбирает карты\n\t\tthis.gameModel.choosePlayerInfo.attach((text) => this.playerChooseInfoUpdate(text));\n\n\t\t// событие на отображение никнеймов игроков\n\t\tthis.gameModel.updatePlayersNames.attach((name1, name2) => this.playerNameUpdate(name1, name2));\n\n\t\t// событие на отображение моделек персонажей\n\t\tthis.gameModel.updatePlayersModels.attach((modelPlayer1, modelPlayer2) => this.playerModelsUpdate(modelPlayer1, modelPlayer2));\n\n\t\t// удаление сыгранной карты\n\t\tthis.boardModel.removeActionCard.attach((card) => this.deleteActionCard(card));\n\n\t\tthis.boardModel.createAnimation.attach((querySelector, amount) => this.createAnimation(querySelector, amount));\n\n\t\tthis.boardModel.endTurnAnimation.attach((side) => this.endTurnAnimation(side));\n\n\n\t}\n\n\t// need for start render cards when page is loaded\n\tinit() {\n\t\tthis.onLoadCreate.notify();\n\t};\n\n\tdrawCards(card, place) {\n\t\tswitch (place) {\n\t\t\tcase 'board':\n\t\t\t\tthis.boardModel.decWrapper.appendChild(card);\n\t\t\t\tbreak;\n\t\t\tcase 'hand':\n\t\t\t\tthis.boardModel.cardInHand.appendChild(card);\n\t\t\t\tbreak;\n\t\t\tcase 'overlay':\n\t\t\t\tthis.boardModel.playersDeck.appendChild(card);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.boardModel.cardsChooseCounter.textContent = 0;\n\t\tthis.boardModel.cardsChooseCounter.style = 'color: white';\n\t};\n\n\textraCardsToRemove(cards, place) {\n\n\t\tif (place == 'board' && cards.length > 0) {\n\t\t\tfor (let i = 0; i < cards.length; i++) {\n\t\t\t\tthis.boardModel.decWrapper.removeChild(cards[i]);\n\t\t\t}\n\t\t}\n\n\t\tif (place == 'hand' && cards.length > 0) {\n\t\t\tfor (let i = 0; i < cards.length; i++) {\n\t\t\t\tthis.boardModel.cardInHand.removeChild(cards[i]);\n\t\t\t}\n\t\t}\n\n\t\tif (place == 'overlay' && cards.length > 0) {\n\t\t\tfor (let i = 0; i < cards.length; i++) {\n\t\t\t\tthis.boardModel.playersDeck.removeChild(cards[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tdeleteActionCard(card) {\n\t\tthis.boardModel.cardInHand.removeChild(card);\n\t}\n\n\tcounterUpdate(info) {\n\t\tthis.boardModel.cardsChooseCounter.textContent = info.number;\n\t\tthis.boardModel.cardsChooseCounter.style = `color: ${info.color}`;\n\t};\n\n\tselectionEndUpdate() {\n\t\tthis.boardModel.decWrapper.style.display = 'none';\n\t\tthis.boardModel.battleField.classList.remove('hidden');\n\t\t// this.boardSelector.querySelector('.card-counter').classList.add('hidden');\n\t\tthis.boardSelector.querySelector('.card-counter').style.display = 'none';\n\t}\n\n\tplayerChooseInfoUpdate(text) {\n\t\tthis.boardSelector.querySelector('.player-name-choosing').textContent = text;\n\t}\n\n\tplayerNameUpdate(name1, name2) {\n\t\tthis.boardSelector.querySelector('.player-1__name').textContent = name1;\n\t\tthis.boardSelector.querySelector('.player-2__name').textContent = name2;\n\t}\n\n\tplayerModelsUpdate(modelPlayer1, modelPlayer2) {\n\t\tconst player1Model = this.boardSelector.querySelector('.player-1__model');\n\t\tconst player2Model = this.boardSelector.querySelector('.player-2__model');\n\n\t\tplayer1Model.type = 'image/svg+xml';\n\t\tplayer2Model.type = 'image/svg+xml';\n\n\t\tswitch (modelPlayer1) {\n\t\t\tcase 'warrior':\n\t\t\t\tplayer1Model.data = 'images/models/viking.svg';\n\t\t\t\tbreak;\n\t\t\tcase 'rogue':\n\t\t\t\tplayer1Model.data = 'images/models/rogue.svg';\n\t\t\t\tbreak;\n\t\t\tcase 'mage':\n\t\t\t\tplayer1Model.data = 'images/models/mage.svg';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log('models not found');\n\t\t}\n\n\t\tswitch (modelPlayer2) {\n\t\t\tcase 'warrior':\n\t\t\t\tplayer2Model.data = 'images/models/viking.svg';\n\t\t\t\tbreak;\n\t\t\tcase 'rogue':\n\t\t\t\tplayer2Model.data = 'images/models/rogue.svg';\n\t\t\t\tbreak;\n\t\t\tcase 'mage':\n\t\t\t\tplayer2Model.data = 'images/models/mage.svg';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log('models not found');\n\t\t}\n\t}\n\n\tcreateAnimation(querySelector, amount) {\n\t\tcreateCardAnim(querySelector, amount)\n\t}\n\n\tendTurnAnimation(side) {\n\t\tendTurnAnim(side);\n\t}\n}\n","export default class Cards {\n\tconstructor(id, type, cost, effect, icon, name, sideEffect) {\n\t\tthis.id = id;\n\t\tthis.cost = cost;\n\t\tthis.type = type;\n\t\tthis.effect = effect;\n\t\tthis.icon = icon;\n\t\tthis.name = name;\n\t\tthis.sideEffect = sideEffect;\n\t}\n}\n","export default class Events {\n\tconstructor() {\n\t\tthis.listeners = [];\n\t}\n\n\tattach(listener) {\n\t\tthis.listeners.push(listener);\n\t}\n\n\tnotify(arg1, arg2) {\n\t\tthis.listeners.forEach((listener, index) => {\n\t\t\tthis.listeners[index](arg1, arg2);\n\t\t});\n\t}\n}\n","export default class GameController {\n\tconstructor(model, view) {\n\t\tthis.gameModel = model;\n\t\tthis.boardView = view;\n\n\t\tif (this.boardView.hasOwnProperty('onDefineCards')) {\n\t\t\tthis.boardView.onDefineCards.attach(() => this.defineCards());\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('submitCardCheckChoose')) {\n\t\t\tthis.boardView.submitCardCheckChoose.attach(() => this.doCardCheckChoose());\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('grabCardStart')) {\n\t\t\tthis.boardView.grabCardStart.attach((eventTarget) => this.actionCard(eventTarget));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('endTurn')) {\n\t\t\tthis.boardView.endTurn.attach(() => this.doEndTurn());\n\t\t}\n\t}\n\n\t// событие на кнопку подтверждения выбора карт, запоминаем что выбрал в масси\n\tdefineCards() {\n\t\tthis.gameModel.definePlayersCardSet();\n\t}\n\n\t// событие на кнопку подтверждения выбора карт, проверяем оба игрока сделали выбор\n\tdoCardCheckChoose() {\n\t\tthis.gameModel.checkCardsSelectionEnd();\n\t}\n\n\tactionCard(eventTarget) {\n\t\tthis.gameModel.initActionCard(eventTarget);\n\t}\n\n\tdoEndTurn() {\n\t\tthis.gameModel.turnEndsNextPlayerTurn();\n\t}\n}\n","import Events from './eventsModel';\nimport {skillCollection} from '../cards';\nimport {player1, player2} from '../game';\nimport {playSoundEffect, shakeAnimation} from '../animation_and_sound_effects/animation.js';\n\nexport default class Game {\n\tconstructor() {\n\t\tthis.activePlayer = null;               //активный игрок на данный момент кто будет наносить урон\n\t\tthis.passivePlayer = null;               //пассивный игрок на данный момент кто будет получать урон\n\n\t\tthis.playerOneTurn = true;\n\t\tthis.playerTwoTurn = false;\n\n\t\tthis.playerOneClass = null;    // сохраняет класс игрока будем реализовывать выбор скилов под класс\n\t\tthis.playerTwoClass = null;\n\n\t\tthis.playerOnePullOfCards = [];\n\t\tthis.playerTwoPullOfCards = [];\n\n\t\tthis.playersInfo = {};  //info from local storage about choose menu\n\n\t\tthis.dragCard = null;\n\t\tthis.tempCard = null; // карта которая играется\n\n\t\t// событие выбор карт завершен\n\t\tthis.selectionEnd = new Events();\n\n\t\t// событие выбор карт продолжается\n\t\tthis.selectionContinue = new Events();\n\n\t\t// событие изменить кто выбирает карты\n\t\tthis.choosePlayerInfo = new Events();\n\n\t\t// событие установить никнеймы игрокам\n\t\tthis.updatePlayersNames = new Events();\n\n\t\t// событие установить модельки персонажей игрокам\n\t\tthis.updatePlayersModels = new Events();\n\t}\n\n\tstart() {\n\t\tthis.init();\n\t};\n\n\tinit() {\n\t\tthis.setPlayersChoiceInfo('playersInfo');\n\t\tthis.setPlayersClasses();\n\t\tthis.setPlayersNames();\n\t\tthis.setPlayersModels();\n\t\tthis.setTextChooseInfo();\n\t\tthis.setActivePassivePlayer();\n\t};\n\n\t// линкуем player1 & player2 в gamemodel\n\tsetActivePassivePlayer() {\n\t\tthis.activePlayer = player1;\n\t\tthis.passivePlayer = player2;\n\t};\n\n\t// забираем инфу о выборе игроками персонажей и их никнеймов и парсим json\n\tsetPlayersChoiceInfo(object) {\n\t\tlet temp = localStorage.getItem(object);\n\t\tthis.playersInfo = JSON.parse(temp);\n\t};\n\n\t// устанавливаем класы игроками из объекта\n\tsetPlayersClasses() {\n\t\tthis.playerOneClass = this.playersInfo.playerOneClass;\n\t\tthis.playerTwoClass = this.playersInfo.playerTwoClass;\n\t};\n\n\t// устанавливаем никнеймы игрокам из объекта\n\tsetPlayersNames() {\n\t\tthis.updatePlayersNames.notify(this.playersInfo.playerOneName, this.playersInfo.playerTwoName);\n\t};\n\n\t// устанавливаем модельки игроков согласно выбору\n\tsetPlayersModels() {\n\t\tthis.updatePlayersModels.notify(this.playersInfo.playerOneClass, this.playersInfo.playerTwoClass);\n\t};\n\n\t// показываем какой игрок выбирает карты\n\tsetTextChooseInfo() {\n\t\tif (this.playerOneTurn) {\n\t\t\tthis.choosePlayerInfo.notify(`${this.playersInfo.playerOneName} is choosing`);\n\t\t} else {\n\t\t\tthis.choosePlayerInfo.notify(`${this.playersInfo.playerTwoName} is choosing`);\n\t\t}\n\t};\n\n\t// устанавливаем приоритет хода игрока\n\tsetTurnPriority() {\n\t\tif (this.playerOneTurn) {\n\t\t\tthis.playerOneTurn = false;\n\t\t\tthis.playerTwoTurn = true;\n\t\t} else {\n\t\t\tthis.playerOneTurn = true;\n\t\t\tthis.playerTwoTurn = false;\n\t\t}\n\t};\n\n\t// пулим карты выбранные ироком на старте игры в gameControl, этими картами игроки будут играть дальше\n\tdefinePlayersCardSet() {\n\t\tlet cards = document.querySelectorAll('.cards');\n\n\t\t//счетчик выбранных карт\n\t\tlet counter = document.getElementsByClassName('card-to-select').length;\n\n\t\t// если выбрано больше или недобор указанных карт запрещает пулить в переменную\n\t\tif (counter < 8 || counter >= 9) {\n\t\t\tplaySoundEffect('.confirm-failed-audio');\n\t\t\tshakeAnimation('.accept', 'horizontal');\n\t\t\treturn;\n\t\t}\n\n\t\tlet tempCardChoosePlayer = [];\n\n\t\t//пушим карты 1го игрока в массив\n\t\tif (this.playerOneTurn) {\n\t\t\tfor (let i = 0; i < cards.length; i++) {\n\t\t\t\tif (cards[i].classList.contains('card-to-select')) {\n\t\t\t\t\ttempCardChoosePlayer.push(cards[i].dataset.info);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.playerOnePullOfCards = this.checkOnSelectedCards(tempCardChoosePlayer, this.playerOneClass);\n\t\t}\n\n\t\t//пушим карты 2го игрока в массив\n\t\tif (this.playerTwoTurn) {\n\t\t\tfor (let i = 0; i < cards.length; i++) {\n\t\t\t\tif (cards[i].classList.contains('card-to-select')) {\n\t\t\t\t\ttempCardChoosePlayer.push(cards[i].dataset.info);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerTwoPullOfCards = this.checkOnSelectedCards(tempCardChoosePlayer, this.playerTwoClass);\n\t\t}\n\n\t\tplaySoundEffect('.confirm-audio');\n\n\t\t//меняем очередность выбора для игроков\n\t\tthis.setTurnPriority();\n\n\t\tthis.checkCardsSelectionEnd();\n\t};\n\n\t// передаем массив из выбранных согласно ID карты и класс выбранного персонажа для поиска в SkillCollection его типа карт\n\tcheckOnSelectedCards(datainfo, search) {\n\t\tlet temp = [];\n\n\t\tfor (let i = 0; i < skillCollection[search].length; i++) {\n\t\t\tfor (let j = 0; j < datainfo.length; j++) {\n\t\t\t\tif (skillCollection[search][i]['id'] == datainfo[j]) {\n\t\t\t\t\ttemp.push(skillCollection[search][i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn temp;\n\t};\n\n\t//проверяем игроки набрали карты скрываем меню выбора карт, открываем игровое поле\n\tcheckCardsSelectionEnd() {\n\t\tlet counter = document.getElementsByClassName('card-to-select').length;\n\n\t\t// если выбрано больше или недобор указанных карт запрещает пулить в переменную\n\t\tif (counter < 8 || counter >= 9) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.playerOnePullOfCards.length > 1 && this.playerTwoPullOfCards.length > 1) {\n\t\t\tthis.selectionEnd.notify();\n\t\t} else {\n\t\t\tthis.selectionContinue.notify();\n\t\t\tthis.setTextChooseInfo();\n\t\t}\n\t};\n\n\t//узнаем какая карта была взята для игры и сыграна\n\tinitActionCard(eventTarget) {\n\t\tthis.dragCard = eventTarget;\n\n\t\tif (this.playerOneTurn) {\n\t\t\tthis.tempCard = this.playerOnePullOfCards.find(element => element.id == this.dragCard.dataset.info);\n\t\t} else {\n\t\t\tthis.tempCard = this.playerTwoPullOfCards.find((element) => element.id == this.dragCard.dataset.info);\n\t\t}\n\t};\n\n\t//конец хода меняет инфо о активном игроке и обновляет выносливость\n\tturnEndsNextPlayerTurn() {\n\t\tif (this.playerOneTurn) {\n\t\t\tthis.playerOneTurn = false;\n\t\t\tthis.playerTwoTurn = true;\n\t\t\tthis.activePlayer = player2;\n\t\t\tthis.passivePlayer = player1;\n\t\t} else {\n\t\t\tthis.playerOneTurn = true;\n\t\t\tthis.playerTwoTurn = false;\n\t\t\tthis.activePlayer = player1;\n\t\t\tthis.passivePlayer = player2;\n\t\t}\n\t};\n}\n\n\n\n","export default class PlayersController {\n\tconstructor(playerOneModel, playerTwoModel, view) {\n\t\tthis.playerOneModel = playerOneModel;\n\t\tthis.playerTwoModel = playerTwoModel;\n\t\tthis.boardView = view;\n\n\t\tif (this.boardView.hasOwnProperty('doCardAction')) {\n\t\t\tthis.boardView.doCardAction.attach((priority) => this.playCard(priority));\n\t\t}\n\n\t\tif (this.boardView.hasOwnProperty('endTurn')) {\n\t\t\tthis.boardView.endTurn.attach(() => this.doEndTurn());\n\t\t}\n\t}\n\n\tplayCard(priority) {\n\t\tif(priority) {\n\t\t\tthis.playerOneModel.doAction();\n\t\t} else {\n\t\t\tthis.playerTwoModel.doAction();\n\t\t}\n\t}\n\n\tdoEndTurn() {\n\t\tthis.playerOneModel.endTurn();\n\t}\n}\n","import Events from './eventsModel';\nimport {playSoundEffect, createCardAnim, discardCardAnim} from '../animation_and_sound_effects/animation.js';\n\nexport default class Players {\n\tconstructor(game, board) {\n\t\tthis.healthPoints = 100;\n\t\tthis.staminaPoints = 4;\n\t\tthis.defendPoints = 7;\n\n\t\tthis.gameModel = game;\n\t\tthis.boardModel = board;\n\n\t\tthis.playerViewUpdate = new Events();\n\t\tthis.cardDraw = new Events();\n\t\tthis.cardDiscard = new Events();\n\t\tthis.actionAnimation = new Events();\n\n\t\tthis.initialHP = 100;\n\t\tthis.initialDP = 7;\n\t}\n\n\tendTurn() {\n\t\tthis.gameModel.activePlayer.staminaPoints = 4;\n\t\tthis.gameModel.passivePlayer.staminaPoints = 4;\n\n\t\tthis.updateView();\n\t}\n\n\tupdateView() {\n\t\tthis.playerViewUpdate.notify();\n\t};\n\n\tupdateInitialValues() {\n\t\tthis.initialHP = this.healthPoints;\n\t\tthis.initialDP = this.defendPoints;\n\t};\n\n\tdoAction() {\n\t\tif (this.gameModel.activePlayer.staminaPoints < this.gameModel.tempCard.cost) {\n\t\t\tplaySoundEffect('.card-grab-cancel-audio');\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (this.gameModel.tempCard.type) {\n\t\t\tcase 'attack':\n\t\t\t\tthis.standartAttack(this.gameModel.tempCard);\n\n\t\t\t\tbreak;\n\t\t\tcase 'attackDrawDiscard':\n\t\t\t\tthis.attackDrawDiscard(this.gameModel.tempCard);\n\n\t\t\t\tbreak;\n\t\t\tcase 'attackAddEffect':\n\t\t\t\tthis.sideEffectAttack(this.gameModel.tempCard);\n\n\t\t\t\tbreak;\n\t\t\tcase 'defend':\n\t\t\t\tthis.standartDefend(this.gameModel.tempCard);\n\n\t\t\t\tbreak;\n\t\t\tcase 'defendAddEffect':\n\t\t\t\tthis.sideEffectDefend(this.gameModel.tempCard);\n\n\t\t\t\tbreak;\n\t\t\tcase 'defendDrawDiscard':\n\t\t\t\tthis.defendDrawDiscard(this.gameModel.tempCard);\n\t\t\t\tbreak;\n\t\t\tcase 'defendAndAttack':\n\t\t\t\tthis.defendWithAttack(this.gameModel.tempCard);\n\t\t}\n\n\t\tthis.updateInitialValues();\n\t};\n\n\trandomCardDraw() {\n\t\tlet randomCardDraw = Math.floor(Math.random() * this.gameModel.playerOnePullOfCards.length);\n\n\t\tif (this.gameModel.playerOneTurn) {\n\t\t\tthis.cardDraw.notify(this.gameModel.playerOnePullOfCards[randomCardDraw]);\n\t\t} else {\n\t\t\tthis.cardDraw.notify(this.gameModel.playerTwoPullOfCards[randomCardDraw]);\n\t\t}\n\n\t\tcreateCardAnim('.card-in-hand-field', 'single');\n\t}\n\n\trandomCardDiscard() {\n\t\tlet randomDiscard = Math.floor(Math.random() * this.boardModel.cardInHand.children.length);\n\n\t\t//it will be error if you use DaggerThrow as the last card in hand so w check on this\n\t\tif (this.boardModel.cardInHand.children.length > 0) {\n\t\t\tdiscardCardAnim(this.boardModel.cardInHand.children[randomDiscard]);\n\n\t\t\tplaySoundEffect('.discard-card-audio');\n\n\t\t\tsetTimeout(() => this.cardDiscard.notify(this.boardModel.cardInHand.children[randomDiscard]), 300)\n\t\t}\n\t}\n\n\tcardRemove(element) {\n\t\t//it will be error if you use DaggerThrow as the last card in hand so w check on this\n\t\tif (this.boardModel.cardInHand.children.length > 0) {\n\t\t\tdiscardCardAnim(element);\n\n\t\t\tplaySoundEffect('.discard-card-audio');\n\n\t\t\t// setTimeout(() => this.cardDiscard.notify(element), 300)\n\t\t\tthis.cardDiscard.notify(element)\n\t\t}\n\t}\n\n\t// we take condition only for card \"expertise\"\n\tmassiveRandomDraw(card, condition) {\n\t\tlet tempIndex = [];\n\n\t\t//делаем проверку чтобы карты в руке не повторялись\n\t\tfor (let i = 0; i < card.effect - condition; i++) {                  // количество карт в руку\n\t\t\tlet n = Math.floor(Math.random() * 8);            // количество набранных карт\n\t\t\tif (tempIndex.indexOf(n) === -1) {\n\t\t\t\ttempIndex.push(n);\n\t\t\t} else {\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\n\t\tif (this.gameModel.playerOneTurn) {\n\t\t\tfor (let i = 0; i < tempIndex.length; i++) {\n\t\t\t\tthis.cardDraw.notify(this.gameModel.playerOnePullOfCards[tempIndex[i]]);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let i = 0; i < tempIndex.length; i++) {\n\t\t\t\tthis.cardDraw.notify(this.gameModel.playerTwoPullOfCards[tempIndex[i]]);\n\t\t\t}\n\t\t}\n\n\t\tcreateCardAnim('.card-in-hand-field', 'single');\n\t}\n\n\tstandartAttack(card) {\n\t\tif (this.gameModel.passivePlayer.defendPoints) {\n\t\t\tlet test = this.gameModel.passivePlayer.defendPoints - card.effect;\n\n\t\t\tif (test < 0) {\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = 0;\n\n\t\t\t\ttest = Math.abs(test);\n\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= test;\n\t\t\t} else {\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = test;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\n\t\t}\n\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\tthis.actionAnimation.notify();\n\t};\n\n\tsideEffectAttack(card) {\n\t\t// some of cards have special side effects, so we do additional if check\n\t\t// to make for them special methods\n\n\t\tif (card.name == 'riddleWithHoles') {\n\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\n\n\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\t\tthis.actionAnimation.notify();\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (card.name == 'judjment') {\n\t\t\tlet sideEffect = card.sideEffect();\n\n\t\t\tif (sideEffect == undefined) {\n\t\t\t\tthis.actionAnimation.notify();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.gameModel.passivePlayer.healthPoints = sideEffect;\n\n\t\t\tthis.actionAnimation.notify();\n\n\t\t\treturn;\n\t\t}\n\n\t\t// some of cards havee common side effect so we can group it in one method\n\t\tif (card.sideEffect) {\n\t\t\tlet sideEffect = card.sideEffect();\n\n\t\t\tif (this.gameModel.passivePlayer.defendPoints) {\n\t\t\t\tlet test = this.gameModel.passivePlayer.defendPoints - sideEffect;\n\n\t\t\t\tif (test < 0) {\n\t\t\t\t\tthis.gameModel.passivePlayer.defendPoints = 0;\n\n\t\t\t\t\ttest = Math.abs(test);\n\t\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= test;\n\t\t\t\t} else {\n\t\t\t\t\tthis.gameModel.passivePlayer.defendPoints = test;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sideEffect) {\n\t\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= sideEffect;\n\t\t\t\t} else {\n\t\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\tthis.actionAnimation.notify();\n\t};\n\n\tattackDrawDiscard(card) {\n\t\t// some of cards have special side effect, so we do additional if check\n\t\t// to make for them special methods\n\t\t// if (this.gameModel.activePlayer.staminaPoints < card.cost) {\n\t\t// \treturn;\n\t\t// }\n\n\t\tif (this.gameModel.passivePlayer.defendPoints) {\n\t\t\tlet test = this.gameModel.passivePlayer.defendPoints - card.effect;\n\n\t\t\tif (test < 0) {\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = 0;\n\n\t\t\t\ttest = Math.abs(test);\n\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= test;\n\t\t\t} else {\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = test;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\n\t\t}\n\n\t\tif (card.name == 'daggerThrow') {\n\t\t\tsetTimeout(() => this.randomCardDiscard(), 300)\n\t\t\tsetTimeout(() => this.randomCardDraw(), 800)\n\t\t}\n\n\t\tif (card.name == 'quickSlash') {\n\t\t\tthis.randomCardDraw();\n\t\t}\n\n\t\tif (card.name == 'cutThroughFate') {\n\t\t\tlet sideEffect = card.sideEffect();\n\n\t\t\tthis.gameModel.activePlayer.defendPoints += sideEffect;\n\n\t\t\tsetTimeout(() => this.randomCardDraw(),600)\n\t\t}\n\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\tthis.actionAnimation.notify();\n\t};\n\n\tstandartDefend(card) {\n\t\tthis.gameModel.activePlayer.defendPoints += card.effect;\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\tthis.actionAnimation.notify();\n\t};\n\n\tsideEffectDefend(card) {\n\t\tif (card.name == 'nirvana') {\n\t\t\tlet sideEffect = card.sideEffect();\n\n\t\t\tthis.gameModel.activePlayer.defendPoints = sideEffect;\n\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\t\tthis.actionAnimation.notify();\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (card.name == 'meditate') {\n\t\t\tlet test = this.gameModel.activePlayer.staminaPoints - card.cost + card.effect;\n\n\t\t\tif (test > 4) {\n\t\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\t\t\t\tthis.gameModel.activePlayer.staminaPoints = 4;\n\t\t\t} else {\n\t\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\t\t\t\tthis.gameModel.activePlayer.staminaPoints += card.effect;\n\t\t\t}\n\n\t\t\tthis.actionAnimation.notify();\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (card.sideEffect) {\n\t\t\tlet sideEffect = card.sideEffect();\n\n\t\t\tthis.gameModel.activePlayer.defendPoints += sideEffect;\n\t\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\t\tthis.actionAnimation.notify();\n\t\t}\n\t};\n\n\tdefendWithAttack(card) {\n\t\tif (this.gameModel.passivePlayer.defendPoints) {\n\t\t\tlet test = this.gameModel.passivePlayer.defendPoints - card.effect;\n\n\t\t\tif (test < 0) {\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = 0;\n\n\t\t\t\ttest = Math.abs(test);\n\t\t\t\tthis.gameModel.passivePlayer.healthPoints -= test;\n\t\t\t} else {\n\t\t\t\tthis.gameModel.passivePlayer.defendPoints = test;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.gameModel.passivePlayer.healthPoints -= card.effect;\n\t\t}\n\n\t\tthis.gameModel.activePlayer.defendPoints += card.effect;\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\tthis.actionAnimation.notify();\n\t};\n\n\tdefendDrawDiscard(card) {\n\t\t// some of cards have special side effect, so we do additional if check\n\t\t// to make for them special methods\n\t\t// if (this.gameModel.activePlayer.staminaPoints < card.cost) {\n\t\t// \treturn;\n\t\t// }\n\n\t\tif (card.name == 'prepared') {\n\t\t\tthis.randomCardDiscard();\n\t\t\tsetTimeout(() =>this.randomCardDraw(), 300)\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (card.name == 'warcry') {\n\t\t\tthis.randomCardDraw();\n\n\t\t\tthis.actionAnimation.notify();\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (card.name == 'survivor') {\n\t\t\tsetTimeout(() => this.randomCardDiscard(), 300)\n\n\t\t\tthis.gameModel.activePlayer.defendPoints += card.effect;\n\t\t}\n\n\t\tif (card.name == 'bloodletting') {\n\t\t\tthis.randomCardDraw();\n\n\t\t\tthis.gameModel.activePlayer.healthPoints -= card.effect;\n\n\t\t\tthis.actionAnimation.notify();\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (card.name == 'expertise') {\n\t\t\tthis.massiveRandomDraw(card, this.boardModel.cardInHand.children.length);\n\t\t}\n\n\t\tif (card.name == 'alpha') {\n\n\t\t\t// убираем лишние карты из руки\n\t\t\tfor (let i = 0; i < this.boardModel.cardInHand.children.length; i++) {\n\t\t\t\tif (this.boardModel.cardInHand.children[i].classList.contains('cards')) {\n\t\t\t\t\tthis.cardRemove(this.boardModel.cardInHand.children[i]);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.massiveRandomDraw(card, 0);\n\t\t}\n\n\t\tif (card.name == 'backFlip') {\n\t\t\tlet sideEffect = card.sideEffect();\n\t\t\tthis.gameModel.activePlayer.defendPoints += sideEffect;\n\n\t\t\tsetTimeout(() => this.massiveRandomDraw(card, 0), 300)\n\t\t}\n\n\t\tif (card.name == 'thirdEye') {\n\t\t\tthis.gameModel.activePlayer.defendPoints += card.effect;\n\n\t\t\tthis.randomCardDraw();\n\t\t}\n\n\t\tthis.gameModel.activePlayer.staminaPoints -= card.cost;\n\n\t\tthis.actionAnimation.notify();\n\t};\n}\n","import {\n\tattackAnimation, attackAnimationEffect, blockAnimationEffect,\n\tplaySoundEffect, shakeAnimation, multipleAttackAnimation, standartAttackAnimation,\n\tultimateSkillAnimation\n} from '../animation_and_sound_effects/animation';\n\nexport default class PlayersView {\n\tconstructor(playerOneModel, playerTwoModel, gameModel, container) {\n\t\tthis.playerOneModel = playerOneModel;\n\t\tthis.playerTwoModel = playerTwoModel;\n\t\tthis.gameModel = gameModel;\n\t\tconst playerContainer = container;\n\n\t\tthis.playerOneHPValue = playerContainer.querySelector('.player-1__hp-value');\n\t\tthis.playerOneDefenceValue = playerContainer.querySelector('.player-1__defence-value');\n\t\tthis.playerOneStaminaValue = playerContainer.querySelector('.player-1__stamina-value');\n\t\tthis.playerOneHP = playerContainer.querySelector('.player-1__hp-bar-inner');\n\n\t\tthis.playerTwoHPValue = playerContainer.querySelector('.player-2__hp-value');\n\t\tthis.playerTwoDefenceValue = playerContainer.querySelector('.player-2__defence-value');\n\t\tthis.playerTwoStaminaValue = playerContainer.querySelector('.player-2__stamina-value');\n\t\tthis.playerTwoHP = playerContainer.querySelector('.player-2__hp-bar-inner');\n\n\t\tthis.playerOneModel.playerViewUpdate.attach(() => {\n\t\t\tthis.updateViewStamina();\n\t\t});\n\t\tthis.playerTwoModel.playerViewUpdate.attach(() => {\n\t\t\tthis.updateViewStamina();\n\t\t});\n\n\t\tthis.playerOneModel.actionAnimation.attach(() => this.doAnimation());\n\t\tthis.playerTwoModel.actionAnimation.attach(() => this.doAnimation());\n\n\t\tthis.updateViewHP();\n\t\tthis.updateViewDef();\n\t\tthis.updateViewStamina();\n\t}\n\n\t// устанавливаем первые параметры здоровье, защита, стамина\n\tupdateViewHP() {\n\t\tthis.playerOneHPValue.textContent = this.playerOneModel.healthPoints;\n\n\t\tthis.playerOneHP.style.width = this.playerOneModel.healthPoints + '%';\n\n\t\tthis.playerTwoHPValue.textContent = this.playerTwoModel.healthPoints;\n\n\t\tthis.playerTwoHP.style.width = this.playerTwoModel.healthPoints + '%';\n\t};\n\n\tupdateViewDef() {\n\t\tthis.playerOneDefenceValue.textContent = this.playerOneModel.defendPoints;\n\n\t\tthis.playerTwoDefenceValue.textContent = this.playerTwoModel.defendPoints;\n\n\t\tthis.playerOneDefenceValue.classList.remove('defendValueNegative');\n\t\tthis.playerOneDefenceValue.classList.remove('defendValuePositive');\n\t\tthis.playerTwoDefenceValue.classList.remove('defendValueNegative');\n\t\tthis.playerTwoDefenceValue.classList.remove('defendValuePositive');\n\n\t\tif(this.playerOneModel.initialDP > this.playerOneModel.defendPoints) {\n\t\t\tsetTimeout(() => this.playerOneDefenceValue.className = 'player-1__defence-value defendValueNegative',0);\n\t\t} else if (this.playerOneModel.initialDP < this.playerOneModel.defendPoints) {\n\t\t\tsetTimeout(() => this.playerOneDefenceValue.className = 'player-1__defence-value defendValuePositive',0);\n\t\t}\telse if (this.playerTwoModel.initialDP > this.playerTwoModel.defendPoints) {\n\t\t\tsetTimeout(() => this.playerTwoDefenceValue.className = 'player-2__defence-value defendValueNegative',0);\n\t\t} else if (this.playerTwoModel.initialDP < this.playerTwoModel.defendPoints) {\n\t\t\tsetTimeout(() => this.playerTwoDefenceValue.className = 'player-2__defence-value defendValuePositive',0);\n\t\t}\n\t};\n\n\tupdateViewStamina() {\n\t\tthis.playerOneStaminaValue.textContent = this.playerOneModel.staminaPoints;\n\n\t\tthis.playerTwoStaminaValue.textContent = this.playerTwoModel.staminaPoints;\n\t};\n\n\tdoAnimation() {\n\t\tlet activePlayerUI;\n\t\tlet passivePlayerUI;\n\t\tlet direction;\n\n\t\tif (this.gameModel.playerOneTurn) {\n\t\t\tactivePlayerUI = '.player-1__model';\n\t\t\tpassivePlayerUI = '.player-2__model';\n\t\t\tdirection = 'right';\n\t\t} else {\n\t\t\tactivePlayerUI = '.player-2__model';\n\t\t\tpassivePlayerUI = '.player-1__model';\n\t\t\tdirection = 'left';\n\t\t}\n\n\t\tswitch (this.gameModel.tempCard.name) {\n\t\t\tcase 'strike_w':\n\t\t\tcase 'bash':\n\t\t\tcase 'strike_r':\n\t\t\tcase 'quickSlash':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\t\t\t\tattackAnimation(passivePlayerUI, 'attack', 'images/attack-effects/warrior-attack.png');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\n\t\t\t\t\tplaySoundEffect('.strike-attack-audio');\n\t\t\t\t}, 200);\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'defend_w':\n\t\t\tcase 'armaments':\n\t\t\tcase 'entrench':\n\t\t\tcase 'deflect':\n\t\t\tcase 'backFlip':\n\t\t\tcase 'defend_m':\n\t\t\tcase 'nirvana':\n\t\t\tcase 'masterReality':\n\t\t\tcase 'thirdEye':\n\t\t\tcase 'survivor':\n\t\t\t\tblockAnimationEffect(activePlayerUI, 'shield','images/icons/Icon_Block.png');\n\t\t\t\tplaySoundEffect('.defend-audio');\n\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\t\t\t\tbreak;\n\n\t\t\tcase 'bodySlam':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tattackAnimation(passivePlayerUI, 'smashAttack', 'images/attack-effects/smash.png');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\n\t\t\t\t\tplaySoundEffect('.bash-attack-audio');\n\t\t\t\t}, 200);\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'slice':\n\t\t\tcase 'strike_m':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tattackAnimation(passivePlayerUI, 'smashAttack', 'images/attack-effects/smash.png');\n\n\t\t\t\tplaySoundEffect('.mage-punch-audio');\n\n\t\t\t\tshakeAnimation(passivePlayerUI);\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'daggerThrow':\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\t\t\t\t\tattackAnimation(passivePlayerUI, 'smashAttack', 'images/attack-effects/smash.png');\n\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\n\t\t\t\t\tplaySoundEffect('.bash-attack-audio');\n\t\t\t\t}, 200);\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'anger':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tstandartAttackAnimation(passivePlayerUI, 'angerAttack', 'images/attack-effects/anger.png');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\n\t\t\t\t\tplaySoundEffect('.anger-audio');\n\t\t\t\t}, 200);\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'reachHeaven':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tstandartAttackAnimation(passivePlayerUI, 'angerAttack', 'images/attack-effects/reach-heaven.png');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tshakeAnimation(passivePlayerUI);\n\t\t\t\t\tplaySoundEffect('.mage-strong-audio');\n\t\t\t\t}, 200);\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ironWave':\n\t\t\tcase 'dash':\n\t\t\t\tblockAnimationEffect(activePlayerUI,'shield','images/icons/Icon_Block.png');\n\n\t\t\t\tplaySoundEffect('.defend-audio');\n\n\t\t\t\tthis.updateViewDef();\n\n\t\t\t\tsetTimeout(() => attackAnimationEffect(activePlayerUI, direction), 400);\n\n\t\t\t\tsetTimeout(() => standartAttackAnimation(passivePlayerUI, 'angerAttack', 'images/attack-effects/anger.png'), 400);\n\n\t\t\t\tsetTimeout(() => shakeAnimation(passivePlayerUI), 400);\n\n\t\t\t\tsetTimeout(() => playSoundEffect('.bash-attack-audio'), 400);\n\n\t\t\t\tsetTimeout(() => this.updateViewHP(), 400);\n\n\t\t\t\tsetTimeout(() => this.updateViewDef(), 400);\n\n\t\t\t\tsetTimeout(() => this.updateViewStamina(), 400);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'bloodletting':\n\t\t\t\tstandartAttackAnimation(activePlayerUI, 'shield', 'images/attack-effects/bloodletting.png');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tshakeAnimation(activePlayerUI);\n\t\t\t\t\tplaySoundEffect('.bloodletting-audio');\n\t\t\t\t}, 200);\n\n\t\t\t\tthis.updateViewHP();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'warcry':\n\t\t\t\tshakeAnimation(activePlayerUI);\n\n\t\t\t\tplaySoundEffect('.warcry-audio');\n\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'meditate':\n\t\t\tcase 'alpha':\n\t\t\t\tblockAnimationEffect(activePlayerUI, 'expertice', 'images/attack-effects/refresh-stamina.svg');\n\n\t\t\t\tplaySoundEffect('.meditate-audio');\n\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'cutThroughFate':\n\t\t\t\tblockAnimationEffect(activePlayerUI,'shield','images/icons/Icon_Block.png');\n\n\t\t\t\tplaySoundEffect('.defend-audio');\n\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tsetTimeout(() => attackAnimationEffect(activePlayerUI, direction), 400);\n\n\t\t\t\tsetTimeout(() => standartAttackAnimation(passivePlayerUI, 'angerAttack', 'images/attack-effects/mageEffect.png'), 400);\n\n\t\t\t\tsetTimeout(() => shakeAnimation(passivePlayerUI), 400);\n\n\t\t\t\tsetTimeout(() => playSoundEffect('.mage-attack-audio'), 400);\n\n\t\t\t\tsetTimeout(() => this.updateViewHP(), 400);\n\n\t\t\t\tsetTimeout(() => this.updateViewDef(), 400);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'perfectedStrike':\n\t\t\tcase 'tantrum':\n\t\t\tcase 'flechettes':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tmultipleAttackAnimation(passivePlayerUI, 'attack', 'images/attack-effects/warrior-attack.png', 3);\n\n\t\t\t\tsetTimeout(() => shakeAnimation(passivePlayerUI), 200);\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'expertise':\n\t\t\t\tblockAnimationEffect(activePlayerUI, 'expertice', 'images/attack-effects/serpent_ring.png');\n\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'bludgeon':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tplaySoundEffect('.warcry-audio');\n\n\t\t\t\tultimateSkillAnimation(passivePlayerUI, 'warriorUltimate', 'images/attack-effects/flash.png', '.flash-audio');\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'riddleWithHoles':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tultimateSkillAnimation(passivePlayerUI, 'rogueUltimate', 'images/attack-effects/daggers.svg', '.backstab-audio');\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'signatureMove':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tultimateSkillAnimation(passivePlayerUI, 'mageUltimate', 'images/attack-effects/mage-attack.png', '.mage-ultimate-audio');\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'judjment':\n\t\t\t\tattackAnimationEffect(activePlayerUI, direction);\n\n\t\t\t\tultimateSkillAnimation(passivePlayerUI, 'rogueUltimate', 'images/attack-effects/judjment.svg', '.judj-audio');\n\n\t\t\t\tthis.updateViewHP();\n\t\t\t\tthis.updateViewDef();\n\t\t\t\tthis.updateViewStamina();\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./js/game.js\");\n"],"sourceRoot":""}